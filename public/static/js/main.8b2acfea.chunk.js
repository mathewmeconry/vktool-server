(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return S});var n=a(3),r=a(4),i=a(7),o=a(5),s=a(6),l=a(2),c=a(102),p=a.n(c),u=a(0),d=a.n(u),h=a(12),m=a(14),b=a(11),f=a(13),E=a(8),v=a(10),y=a(103),O=a(104),g=a(59),k=a(107),N=a(108),C=a(21),j=function(t){function a(t){var r;return Object(n.a)(this,a),(r=Object(i.a)(this,Object(o.a)(a).call(this,t))).onNext=r.onNext.bind(Object(l.a)(Object(l.a)(r))),r.save=r.save.bind(Object(l.a)(Object(l.a)(r))),e(function(){r.props.fetchOpenOrders(),r.props.fetchMembers()}),r.state={els:[],drivers:[]},r}return Object(s.a)(a,t),Object(r.a)(a,[{key:"onNext",value:function(e){var t=this.state;for(var a in e)t[a]=e[a];this.setState(t)}},{key:"save",value:function(){var e={};for(var t in this.state.vks)e[t]=this.state.vks[t],e[t].member=this.state.vks[t].member.id;return this.props.save({orderId:this.state.order.id,date:this.state.date,compensationEntries:this.state.vks,els:this.state.els,drivers:this.state.drivers,food:this.state.food,remarks:this.state.remarks,creatorId:this.props.user.id}),this.props.history.push("/billing-reports"),!0}},{key:"render",value:function(){return this.props.loading?d.a.createElement(h.a,{title:"Verrechnungsrapport erfassen"},d.a.createElement(C.a,null)):d.a.createElement(h.a,{title:"Verrechnungsrapport erfassen"},d.a.createElement(m.a,null,d.a.createElement(b.a,{className:"col"},d.a.createElement(f.a,{title:""},d.a.createElement(p.a,{nav:d.a.createElement(y.a,null)},d.a.createElement(O.a,{openOrders:this.props.openOrders,onNext:this.onNext}),d.a.createElement(g.a,{onNext:this.onNext}),d.a.createElement(k.a,{onNext:this.onNext}),d.a.createElement(N.a,{onNext:this.save,order:this.state.order,date:this.state.date,vks:this.state.vks,els:this.state.els.map(function(e){return e.firstname+" "+e.lastname}),drivers:this.state.drivers.map(function(e){return e.firstname+" "+e.lastname}),food:this.state.food,remarks:this.state.remarks}))))))}}]),a}(u.Component),S=Object(v.b)(function(e){return{user:e.data.user.data,openOrders:e.data.openOrders,members:e.data.members,loading:e.data.openOrders.loading||e.data.members.loading||e.data.user.loading||!e.data.openOrders.ids||!e.data.members.ids||Object.keys(e.data.user.data).length<0}},function(e){return{fetchOpenOrders:function(){e(E.a.fetchOpenOrders())},fetchMembers:function(){e(E.a.fetchMembers())},save:function(t){e(E.a.addBillingReport(t))}}})(j)}).call(this,a(81).setImmediate)},103:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(3),r=a(4),i=a(7),o=a(5),s=a(6),l=a(0),c=a.n(l),p=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"renderSteps",value:function(){for(var e=[],t=this.props.totalSteps||0,a=1;a<=t;a++){var n="dot";a==this.props.currentStep&&(n+=" active"),e.push(c.a.createElement("span",{key:a,className:n},"\u2022"))}return e}},{key:"render",value:function(){return c.a.createElement("div",{key:"WizardNav",id:"WizardNav",className:"d-flex justify-content-center"},this.renderSteps())}}]),t}(l.Component)},104:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(28),r=a(3),i=a(4),o=a(7),s=a(5),l=a(6),c=a(2),p=a(0),u=a.n(p),d=a(37),h=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).onInputChange=a.onInputChange.bind(Object(c.a)(Object(c.a)(a))),a.validate=a.validate.bind(Object(c.a)(Object(c.a)(a))),a.state={order:"",date:""},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"renderOptions",value:function(){var e=[u.a.createElement("option",{key:"none",value:""},"Bitte W\xe4hlen")],t=!0,a=!1,n=void 0;try{for(var r,i=this.props.openOrders.ids[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,s=this.props.openOrders.byId[o];e.push(u.a.createElement("option",{key:s.documentNr,value:s.id},s.title))}}catch(l){a=!0,n=l}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return e}},{key:"onInputChange",value:function(e){var t=e.target,a=t.value,r=t.name;this.setState(Object(n.a)({},r,a))}},{key:"validate",value:function(){if(this.formEl){var e=this.formEl.checkValidity();return this.formEl.className="was-validated",e&&this.props.onNext({order:this.props.openOrders.byId[parseInt(this.state.order)],date:new Date(this.state.date)}),e}return!1}},{key:"render",value:function(){var e=this;return u.a.createElement(d.a,Object.assign({title:"Details",onNextStep:this.validate},this.props),u.a.createElement("form",{ref:function(t){return e.formEl=t}},u.a.createElement("h5",null,"Einsatz"),u.a.createElement("select",{className:"form-control",name:"order",id:"order",onChange:this.onInputChange,value:this.state.order,required:!0},this.renderOptions()),u.a.createElement("br",null),u.a.createElement("h5",null,"Datum"),u.a.createElement("input",{type:"Date",name:"date",id:"date",className:"form-control",value:this.state.date,onChange:this.onInputChange,required:!0})))}}]),t}(p.Component)},107:function(e,t,a){"use strict";a.d(t,"a",function(){return b});var n=a(28),r=a(3),i=a(4),o=a(7),s=a(5),l=a(6),c=a(2),p=a(0),u=a.n(p),d=a(37),h=a(57),m=a(38),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).onInputChange=a.onInputChange.bind(Object(c.a)(Object(c.a)(a))),a.onNext=a.onNext.bind(Object(c.a)(Object(c.a)(a))),a.onELChange=a.onSelectChange("els"),a.onDriversChange=a.onSelectChange("drivers"),a.state={els:[],drivers:[],food:!1,remarks:""},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"onInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.id;this.setState(Object(n.a)({},r,a))}},{key:"onSelectChange",value:function(e){var t=this;return function(a){a?t.setState(Object(n.a)({},e,a)):t.setState(Object(n.a)({},e,[]))}}},{key:"onNext",value:function(){if(this.elSelect&&this.driversSelect){var e=!0;if(this.state.els.length<=0&&(e=!1),this.state.drivers.length<=0&&(e=!1),e)return this.props.onNext(this.state),!0}return!1}},{key:"render",value:function(){var e=this;return u.a.createElement(d.a,Object.assign({title:"Weiteres",onNextStep:this.onNext},this.props),u.a.createElement("form",{ref:function(t){return e.formEl=t},className:"was-validated"},u.a.createElement("h5",null,"ELs"),u.a.createElement(m.a,{ref:function(t){return e.elSelect=t},onChange:this.onELChange,isMulti:!0}),u.a.createElement("br",null),u.a.createElement("h5",null,"Fahrer"),u.a.createElement(m.a,{ref:function(t){return e.driversSelect=t},onChange:this.onDriversChange,isMulti:!0}),u.a.createElement("br",null),u.a.createElement("h5",null,"Diverses"),u.a.createElement(h.a,{id:"food",checked:this.state.food,onChange:this.onInputChange,label:"Verpflegung"}),u.a.createElement("br",null),u.a.createElement("h5",null,"Bemerkungen"),u.a.createElement("small",{className:"text-muted"},"Bei mehreren EL bitte die Schichtzeiten hier eingeben"),u.a.createElement("textarea",{id:"remarks",value:this.state.remarks,onChange:this.onInputChange,className:"form-control"})))}}]),t}(p.Component)},108:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(3),r=a(4),i=a(7),o=a(5),s=a(6),l=a(0),c=a.n(l),p=a(37),u=a(36),d=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement(p.a,Object.assign({title:"Zusammenfassung",onNextStep:this.props.onNext},this.props),c.a.createElement("h5",null,"Einsatz"),c.a.createElement("p",null,this.props.order?this.props.order.title:""),c.a.createElement("h5",null,"Datum"),c.a.createElement("p",null,this.props.date?this.props.date.toLocaleDateString():""),c.a.createElement("h5",null,"VKs"),c.a.createElement(u.a,{columns:[{text:"VK",keys:{member:["firstname","lastname"]}},{text:"Von",keys:["from"]},{text:"Bis",keys:["until"]},{text:"Verrechnet",keys:["charge"]},{text:"Anzahl Stunden",keys:["totalHours"]}],defaultSort:{keys:["from"],direction:"asc"},data:this.props.vks?this.props.vks:{}}),c.a.createElement("h5",null,"ELs"),c.a.createElement("p",null,this.props.els.join(",")),c.a.createElement("h5",null,"Fahrer"),c.a.createElement("p",null,this.props.drivers.join(",")),c.a.createElement("h5",null,"Diverses"),c.a.createElement("p",{className:"switch switch-sm"},c.a.createElement("input",{type:"checkbox",className:"switch",id:"food",name:"food",checked:this.props.food}),c.a.createElement("label",{htmlFor:"food"},"Verpflegung")),c.a.createElement("h5",null,"Bemerkungen"),c.a.createElement("p",null,this.props.remarks?this.props.remarks:""))}}]),t}(l.Component)},11:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(3),r=a(4),i=a(7),o=a(5),s=a(6),l=a(0),c=a.n(l),p=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).className="col",a.props.className&&a.props.className.indexOf("col")>-1?a.className=a.props.className:a.props.className&&(a.className+=" "+a.props.className),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:this.className},this.props.children)}}]),t}(l.Component)},110:function(e,t,a){e.exports=a(172)},12:function(e,t,a){"use strict";var n=a(3),r=a(4),i=a(7),o=a(5),s=a(6),l=a(2),c=a(0),p=a.n(c),u=a(10),d=a(9),h=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).scrolling=!1,a.minThreshold=e.minThreshold||10,a.maxThreshold=e.maxThreshold||100,a.minDurationThreshold=e.minDurationThreshold||0,a.maxDurationThreshold=e.maxDurationThreshold||100,a.onStart=a.onStart.bind(Object(l.a)(Object(l.a)(a))),a.onMove=a.onMove.bind(Object(l.a)(Object(l.a)(a))),a.onEnd=a.onEnd.bind(Object(l.a)(Object(l.a)(a))),a.onScroll=a.onScroll.bind(Object(l.a)(Object(l.a)(a))),a.state={capturing:!1,start:{x:-1,y:-1}},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"onStart",value:function(e){if(!this.scrolling&&(e.clientX&&this.props.mouseMove||e.touches)){var t=0,a=0;e.clientX?(t=e.clientX,a=e.clientY):e.touches&&(t=e.touches[0].clientX,a=e.touches[0].clientY),this.setState({capturing:!0,start:{x:t,y:a},startTime:new Date,current:void 0,end:void 0})}}},{key:"onMove",value:function(e){if(this.state.capturing){var t=0,a=0;e.clientX?(t=e.clientX,a=e.clientY):e.touches&&(t=e.touches[0].clientX,a=e.touches[0].clientY),this.setState({current:{x:t,y:a}}),this.fireRunningEvents(this.calculateDirection(this.state.start,{x:t,y:a}),e)}}},{key:"onEnd",value:function(e){if(this.state.capturing&&this.state.start&&this.state.startTime){var t=0,a=0;e.clientX?(t=e.clientX,a=e.clientY):e.touches&&(t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY),this.setState({capturing:!1,end:{x:t,y:a},endTime:new Date}),this.fireFinishEvents(this.calculateDirection(this.state.start,{x:t,y:a}),(new Date).getTime()-this.state.startTime.getTime(),e)}}},{key:"onScroll",value:function(e){var t=this;this.scrolling=!0,this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){t.scrolling=!1},150)}},{key:"calculateDirection",value:function(e,t){var a=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);if(a>n){if(a>this.minThreshold&&a<this.maxThreshold)return e.x>t.x?"left":"right"}else if(n>this.minThreshold&&n<this.maxThreshold)return e.y>t.y?"up":"down";return""}},{key:"fireFinishEvents",value:function(e,t,a){if(t>this.minDurationThreshold&&t<this.maxDurationThreshold)switch(e){case"up":this.props.swipedUp&&this.props.swipedUp(a);break;case"right":this.props.swipedRight&&this.props.swipedRight(a);break;case"down":this.props.swipedDown&&this.props.swipedDown(a);break;case"left":this.props.swipedLeft&&this.props.swipedLeft(a)}}},{key:"fireRunningEvents",value:function(e,t){switch(e){case"up":this.props.swipingUp&&this.props.swipingUp(t);break;case"right":this.props.swipingRight&&this.props.swipingRight(t);break;case"down":this.props.swipingDown&&this.props.swipingDown(t);break;case"left":this.props.swipingLeft&&this.props.swipingLeft(t)}}},{key:"render",value:function(){return p.a.createElement("div",{onScroll:this.onScroll,onTouchStart:this.onStart,onTouchMove:this.onMove,onTouchEnd:this.onEnd,onMouseDown:this.onStart,onMouseMove:this.onMove,onMouseUp:this.onEnd,className:this.props.className},this.props.children)}}]),t}(c.Component);a.d(t,"a",function(){return b});var m=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).swipedRight=a.swipedRight.bind(Object(l.a)(Object(l.a)(a))),a.swipedLeft=a.swipedLeft.bind(Object(l.a)(Object(l.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"swipedRight",value:function(){this.props.openNavibar&&this.props.openNavibar()}},{key:"swipedLeft",value:function(){this.props.closeNavibar&&this.props.closeNavibar()}},{key:"render",value:function(){var e="navibar-open";return this.props.open||(e="navibar-collapsed"),p.a.createElement(h,{className:e+" content",mouseMove:!0,swipedRight:this.swipedRight,swipedLeft:this.swipedLeft},p.a.createElement("div",{className:"content-top"},p.a.createElement("h1",{className:"page-title"},this.props.title)),p.a.createElement("div",{className:"content-body container-fluid"},this.props.children))}}]),t}(c.Component),b=Object(u.b)(function(e){return{open:e.ui.navibar_open}},function(e){return{closeNavibar:function(){e(d.a.closeNavibar())},openNavibar:function(){e(d.a.openNavibar())}}})(m)},13:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(3),r=a(4),i=a(7),o=a(5),s=a(6),l=a(0),c=a.n(l),p=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t=this.props.actions||[];return this.props.title?e=c.a.createElement("div",{className:"panel-header"},c.a.createElement("span",{className:"panel-title"},this.props.title),c.a.createElement("div",{className:"panel-actions"},t.map(function(e){return e}))):this.props.actions&&this.props.actions.length>0&&(e=c.a.createElement("div",{className:"panel-header"},c.a.createElement("div",{className:"panel-actions"},t.map(function(e){return e})))),c.a.createElement("div",{className:"panel "+(this.props.className||"")},e,c.a.createElement("div",{className:"panel-body"},this.props.children))}}]),t}(l.Component)},14:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(3),r=a(4),i=a(7),o=a(5),s=a(6),l=a(0),c=a.n(l),p=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"row "+this.props.className},this.props.children)}}]),t}(l.Component)},148:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var n=a(50),r=a(16),i=a(93);n.b.add(i.a,r.w,r.r,r.a,r.o,r.i,r.g,r.d,r.u,r.y,r.f,r.v,r.e,r.t,r.s,r.p,r.k,r.j,r.l,r.q,r.m,r.h,r.h,r.x,r.b,r.c,r.n);var o=a(0),s=a.n(o),l=a(32),c=a.n(l),p=a(3),u=a(4),d=a(7),h=a(5),m=a(6),b=a(10),f=a(34),E=a(9),v=a(51),y=a(47);var O=Object(f.c)({navibar_open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!y.a.mobile();switch((arguments.length>1?arguments[1]:void 0).type){case E.b.NAVIBAR_TOGGLE:return!e;case E.b.NAVIBAR_OPEN:return!0;case E.b.NAVIBAR_CLOSE:return!1;default:return e}},navibar_level:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.b.NAVIBAR_LEVEL_OPEN:return t.payload;case E.b.NAVIBAR_LEVEL_COLLAPSE:return"";default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.b.NOTIFICATION_SUCCESS:return v.toast.success(t.payload,{autoClose:2e3,position:y.a.mobile()?"bottom-center":"top-right"}),e;case E.b.NOTIFICATION_ERROR:return v.toast.error(t.payload,{autoClose:2e3,position:y.a.mobile()?"bottom-center":"top-right"}),e;default:return e}}}),g=a(8);var k=Object(f.c)({collectionPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["city"],direction:"desc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[];switch(t.type){case g.b.FETCH_COLLECTION_POINTS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case g.b.GOT_COLLECTION_POINTS:if(Object.keys(t.payload).length<1)return e;var r=!0,i=!1,o=void 0;try{for(var s,l=t.payload[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;a[c.id]=c,n.push(c.id)}}catch(p){i=!0,o=p}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n=C(Object.assign({},e,{loading:!1,byId:a,ids:n}),Object.assign({},t,{payload:""})),Object.assign({},e,{loading:!1,byId:a,ids:n});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,data:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.b.FETCH_USER:return Object.assign({},e,{loading:!0});case g.b.GOT_USER:return Object.keys(t.payload).length>0?{loading:!1,data:t.payload}:{loading:!1,data:void 0};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["displayName"],direction:"asc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[],r=["displayName"];switch(t.type){case g.b.FETCH_USERS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case g.b.GOT_USERS:if(Object.keys(t.payload).length<1)return e;var i=!0,o=!1,s=void 0;try{for(var l,c=t.payload[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var p=l.value;a[p.id]=p,n.push(p.id)}}catch(u){o=!0,s=u}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return n=N(Object.assign({},e,{loading:!1,byId:a,ids:n}),r,Object.assign({},t,{payload:""})),n=C(Object.assign({},e,{loading:!1,byId:a,ids:n}),Object.assign({},t,{payload:""})),Object.assign({},e,{loading:!1,byId:a,ids:n});case E.b.SEARCH_USERS:return n=N(e,r,t),Object.assign({},e,{ids:C(Object.assign({},e,{ids:n}),Object.assign({},t,{payload:""}))});case E.b.SORT_USERS:return Object.assign({},e,{ids:C(e,t),sort:{keys:t.payload.keys,direction:t.payload.direction}});default:return e}},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["firstname"],direction:"asc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[];switch(t.type){case g.b.FETCH_CONTACTS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case g.b.GOT_CONTACTS:if(Object.keys(t.payload).length<1)return e;var r=!0,i=!1,o=void 0;try{for(var s,l=t.payload[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;a[c.id]=c,n.push(c.id)}}catch(p){i=!0,o=p}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return Object.assign({},e,{loading:!1,byId:a,ids:n});default:return e}},members:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["firstname"],direction:"asc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[],r=["firstname","lastname","address","postcode","city","mail","mailSecond","phoneFixed","phoneFixedSecond","phoneMobile"];switch(t.type){case g.b.FETCH_MEMBERS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case g.b.GOT_MEMBERS:if(Object.keys(t.payload).length<1)return e;var i=!0,o=!1,s=void 0;try{for(var l,c=t.payload[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var p=l.value;a[p.id]=p,n.push(p.id)}}catch(u){o=!0,s=u}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return n=N(Object.assign({},e,{loading:!1,byId:a,ids:n}),r,Object.assign({},t,{payload:""})),n=C(Object.assign({},e,{loading:!1,byId:a,ids:n}),Object.assign({},t,{payload:""})),Object.assign({},e,{loading:!1,byId:a,ids:n});case E.b.SEARCH_MEMBERS:return n=N(e,r,t),Object.assign({},e,{ids:C(Object.assign({},e,{ids:n}),Object.assign({},t,{payload:""}))});case E.b.SORT_MEMBERS:return Object.assign({},e,{ids:C(e,t),sort:{keys:t.payload.keys,direction:t.payload.direction}});default:return e}},ranks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["name"],direction:"asc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[];switch(t.type){case g.b.FETCH_RANKS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case g.b.GOT_RANKS:if(Object.keys(t.payload).length<1)return e;var r=!0,i=!1,o=void 0;try{for(var s,l=t.payload[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;a[c.id]=c,n.push(c.id)}}catch(p){i=!0,o=p}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return Object.assign({},e,{loading:!1,byId:a,ids:n});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["documentNr"],direction:"desc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[],r=["documentNr","title"];switch(t.type){case g.b.FETCH_ORDERS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case g.b.GOT_ORDERS:if(Object.keys(t.payload).length<1)return e;var i=!0,o=!1,s=void 0;try{for(var l,c=t.payload[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var p=l.value;a[p.id]=p,n.push(p.id)}}catch(u){o=!0,s=u}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return n=N(Object.assign({},e,{loading:!1,byId:a,ids:n}),r,Object.assign({},t,{payload:""})),n=C(Object.assign({},e,{loading:!1,byId:a,ids:n}),Object.assign({},t,{payload:""})),Object.assign({},e,{loading:!1,byId:a,ids:n});case E.b.SEARCH_ORDERS:return n=N(e,r,t),Object.assign({},e,{ids:C(Object.assign({},e,{ids:n}),Object.assign({},t,{payload:""}))});case E.b.SORT_ORDERS:return Object.assign({},e,{ids:C(e,t),sort:{keys:t.payload.keys,direction:t.payload.direction}});default:return e}},openOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["title"],direction:"desc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[];switch(t.type){case g.b.FETCH_OPEN_ORDERS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case g.b.GOT_OPEN_ORDERS:if(Object.keys(t.payload).length<1)return e;var r=!0,i=!1,o=void 0;try{for(var s,l=t.payload[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;a[c.id]=c,n.push(c.id)}}catch(p){i=!0,o=p}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n=N(Object.assign({},e,{loading:!1,byId:a,ids:n}),["documentNr","title"],Object.assign({},t,{payload:""})),n=C(Object.assign({},e,{loading:!1,byId:a,ids:n}),Object.assign({},t,{payload:""})),Object.assign({},e,{loading:!1,byId:a,ids:n});default:return e}},billingReports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["orderDate"],direction:"desc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[],r={order:["documentNr","title"]};switch(t.type){case g.b.FETCH_BILLING_REPORTS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case g.b.GOT_BILLING_REPORTS:if(Object.keys(t.payload).length<1)return e;var i=!0,o=!1,s=void 0;try{for(var l,c=t.payload[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var p=l.value;a[p.id]=p,n.push(p.id)}}catch(u){o=!0,s=u}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return n=N(Object.assign({},e,{loading:!1,byId:a,ids:n}),r,Object.assign({},t,{payload:""})),n=C(Object.assign({},e,{loading:!1,byId:a,ids:n}),Object.assign({},t,{payload:""})),Object.assign({},e,{loading:!1,byId:a,ids:n});case E.b.SEARCH_BILLING_REPORTS:return n=N(e,r,t),Object.assign({},e,{ids:C(Object.assign({},e,{ids:n}),Object.assign({},t,{payload:""}))});case E.b.SORT_BILLING_REPORTS:return Object.assign({},e,{ids:C(e,t),sort:{keys:t.payload.keys,direction:t.payload.direction}});case g.b.APPROVE_BILLING_REPORT:return a=Object.assign({},e.byId,Object.assign({},e.byId[t.payload],{status:"approved"})),Object.assign({},e,{byId:a});default:return e}},compensationEntries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["date"],direction:"desc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[],r={member:["firstname","lastname"],amount:"",creator:["displayName"]};switch(t.type){case g.b.FETCH_COMPENSATION_ENTRIES:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case g.b.GOT_COMPENSATION_ENTRIES:if(Object.keys(t.payload).length<0)return e;var i=!0,o=!1,s=void 0;try{for(var l,c=t.payload[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var p=l.value;a[p.id]=p,n.push(p.id)}}catch(u){o=!0,s=u}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return n=N(Object.assign({},e,{loading:!1,byId:a,ids:n}),r,Object.assign({},t,{payload:""})),n=C(Object.assign({},e,{loading:!1,byId:a,ids:n}),Object.assign({},t,{payload:""})),Object.assign({},e,{loading:!1,byId:a,ids:n});case E.b.SEARCH_COMPENSATION_ENTRIES:return n=N(e,r,t),Object.assign({},e,{ids:C(Object.assign({},e,{ids:n}),Object.assign({},t,{payload:""}))});case E.b.SORT_COMPENSATION_ENTRIES:return Object.assign({},e,{ids:C(e,t),sort:{keys:t.payload.keys,direction:t.payload.direction}});case g.b.APPROVE_COMPENSATION_ENTRY:return a=Object.assign({},e.byId,Object.assign({},e.byId[t.payload],{status:"approved"})),Object.assign({},e,{byId:a});default:return e}},mailingLists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.b.GOT_MEMBERS:var a={all:[],drivers:[],vks:[],squad:[],vst:[]},n=!0,r=!1,i=void 0;try{for(var o,s=t.payload[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;a.all.push(l.mail),l.mailSecond&&a.all.push(l.mailSecond),l.contactGroups.find(function(e){return 9===e.bexioId})&&(a.drivers.push(l.mail),l.mailSecond&&a.drivers.push(l.mailSecond)),l.contactGroups.find(function(e){return 17===e.bexioId||13===e.bexioId||11===e.bexioId||12===e.bexioId||28===e.bexioId||29===e.bexioId||15===e.bexioId||27===e.bexioId||26===e.bexioId||10===e.bexioId||14===e.bexioId})&&(a.vks.push(l.mail),l.mailSecond&&a.vks.push(l.mailSecond)),l.contactGroups.find(function(e){return 13===e.bexioId||11===e.bexioId||12===e.bexioId||28===e.bexioId||29===e.bexioId||15===e.bexioId||27===e.bexioId||26===e.bexioId||14===e.bexioId})&&(a.squad.push(l.mail),l.mailSecond&&a.squad.push(l.mailSecond)),l.contactGroups.find(function(e){return 16===e.bexioId})&&(a.vst.push(l.mail),l.mailSecond&&a.vst.push(l.mailSecond))}}catch(c){r=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return a;default:return e}}}),N=function(e,t,a){var n=[],r=a.payload||e.filter;if(a.type.indexOf("search")>-1&&(r=a.payload),r)for(var i in e.byId){var o=e.byId[i],s="";for(var l in t){var c=t[l];if(c||(c=l),c instanceof Array){var p=!0,u=!1,d=void 0;try{for(var h,m=c[Symbol.iterator]();!(p=(h=m.next()).done);p=!0){var b=h.value;b.indexOf("phone")>-1&&(s+=o[l][b].toString().replace(" ","")+" "),s+=o[l][b].toString()+" "}}catch(E){u=!0,d=E}finally{try{p||null==m.return||m.return()}finally{if(u)throw d}}}else c.indexOf("phone")>-1&&(s+=o[c].toString().replace(" ","")+" "),s+=o[c].toString()+" "}s.toLowerCase().indexOf(r.toLowerCase())>-1&&n.push(o.id)}else for(var f in e.byId)n.push(parseInt(f));return n},C=function(e,t){var a=t.payload.keys||e.sort.keys,n=t.payload.direction||e.sort.direction,r=[],i=!0,o=!1,s=void 0;try{for(var l,c=e.ids[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var p=l.value,u=e.byId[p],d=[];for(var h in a){var m=a[h];if(m||(m=h),m instanceof Array){var b=!0,f=!1,E=void 0;try{for(var v,y=m[Symbol.iterator]();!(b=(v=y.next()).done);b=!0){var O=v.value;m.indexOf("phone")>-1?d.push(u[h][O].replace(" ","")):d.push(u[h][O])}}catch(g){f=!0,E=g}finally{try{b||null==y.return||y.return()}finally{if(f)throw E}}}else m.indexOf("phone")>-1?d.push(u[m].replace(" ","")):d.push(u[m])}r.push({id:p,value:d.join(" ").toLowerCase()})}}catch(g){o=!0,s=g}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return r.sort(function(e,t){var a,r;return a=parseFloat(e.value),r=parseFloat(t.value),(isNaN(a)||isNaN(r))&&(a=e.value,r=t.value),a<r?"asc"===n?-1:1:a>r?"asc"===n?1:-1:0}),r.map(function(e){return e.id})},j=Object(f.c)({ui:O,data:k}),S=a(96);var R,I=a(178),_=a(179),T=a(145),x=a(177),A=a(23),w=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e="navibar-open";return this.props.open||(e="navibar-collapsed"),this.props.user?s.a.createElement("div",{id:"header"},s.a.createElement("div",{id:"header-title",className:e},s.a.createElement("div",{id:"user"},this.props.user.displayName)),s.a.createElement("div",{id:"header-bars",onClick:this.props.onClick},s.a.createElement("span",null,s.a.createElement(A.a,{icon:"bars"})))):s.a.createElement("div",null)}}]),t}(o.Component),D=Object(b.b)(function(e){return{open:e.ui.navibar_open,user:e.data.user.data}},function(e){return{onClick:function(){e(E.a.toggleNavibar())}}})(w),M=a(2),L=a(173),P=a(180),B=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onMouseUp=a.onMouseUp.bind(Object(M.a)(Object(M.a)(a))),a.level=a.props.level||0,a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onMouseUp",value:function(e){0===this.level&&this.props.onClose&&this.props.onClose(),this.props.onMouseUp&&this.props.onMouseUp(e),y.a.mobile()&&this.props.toggleNavibar&&this.props.to&&this.props.toggleNavibar()}},{key:"render",value:function(){var e,t=s.a.createElement("p",null);return this.props.leftIcon&&(e=s.a.createElement(A.a,{icon:this.props.leftIcon,className:"navibar-element-icon"})),this.props.rightIcon&&(t=s.a.createElement(A.a,{icon:this.props.rightIcon,className:"navibar-element-icon navibar-element-icon-right float-right"})),this.props.to?s.a.createElement(L.a,{exact:!0,to:this.props.to,className:"navibar-element",activeClassName:"navibar-element-active",onMouseUp:this.onMouseUp},s.a.createElement("li",null,e,s.a.createElement("p",{className:"navibar-element-text"},this.props.text),t)):s.a.createElement("li",{className:"navibar-element",onMouseUp:this.onMouseUp},e,s.a.createElement("p",{className:"navibar-element-text"},this.props.text),t)}}]),t}(o.Component),F=Object(P.a)(Object(b.b)(function(e){return{navibar_open:e.ui.navibar_open}},function(e){return{onClose:function(){e(E.a.collapseNavibarLevel())},toggleNavibar:function(){e(E.a.toggleNavibar())}}})(B)),V=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onClick=a.onClick.bind(Object(M.a)(Object(M.a)(a))),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onClick",value:function(e){this.props.open_level===this.props.id?this.props.onClose():this.props.onOpen(this.props.id)}},{key:"render",value:function(){var e=this,t="",a="angle-up";return this.props.id!==this.props.open_level&&(t=" level-collapsed",a="angle-down"),s.a.createElement("div",null,s.a.createElement(F,{leftIcon:this.props.leftIcon,rightIcon:a,text:this.props.text,onMouseUp:this.onClick}),s.a.createElement("div",{key:"levelContainer-"+this.props.id,className:"level-container level-"+this.props.level.toString()+t},o.Children.map(this.props.children,function(t){return Object(o.cloneElement)(t,{level:e.props.level})})))}}]),t}(o.Component),G=Object(b.b)(function(e){return{open_level:e.ui.navibar_level}},function(e){return{onOpen:function(t){e(E.a.openNavibarLevel(t))},onClose:function(){e(E.a.collapseNavibarLevel())}}})(V);!function(e){e.AUTHENTICATED="authenticated",e.CONTACTS_READ="contacts_read",e.CONTACTS_EDIT="contacts_edit",e.MEMBERS_READ="members_read",e.MEMBERS_EDIT="members_edit",e.RANKS_READ="ranks_read",e.RANKS_EDIT="ranks_edit",e.ORDERS_READ="orders_read",e.ORDERS_EDIT="orders_edit",e.COMPENSATIONS_READ="compensation_read",e.COMPENSATIONS_CREATE="compensation_create",e.COMPENSATIONS_EDIT="compensation_edit",e.COMPENSATIONS_APPROVE="compensation_approve",e.BILLINGREPORTS_READ="billingreports_read",e.BILLINGREPORTS_CREATE="billingreports_create",e.BILLINGREPORTS_EDIT="billingreports_edit",e.BILLINGREPORTS_APPROVE="billingrepors_approve",e.DRAFT_READ="draft_read",e.DRAFT_CREATE="draft_create",e.DRAFT_EDIT="draft_edit",e.ADMIN="admin"}(R||(R={}));var H=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"renderElement",value:function(e,t){if(!t)return e;var a=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var s=i.value;if(this.props.user&&(this.props.user.roles.includes(s)||this.props.user.roles.includes(R.ADMIN)))return e}}catch(l){n=!0,r=l}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"render",value:function(){var e="navibar-open";return this.props.open||(e="navibar-collapsed"),this.props.user?s.a.createElement("div",{id:"navibar",className:e},s.a.createElement("ol",null,this.renderElement(s.a.createElement(F,{to:"/dashboard",text:"Dashboard",leftIcon:"tachometer-alt"}),[R.AUTHENTICATED]),this.renderElement(s.a.createElement(F,{to:"/members",text:"Mitglieder",leftIcon:"users"}),[R.MEMBERS_READ]),this.renderElement(s.a.createElement(F,{to:"/mailing-lists",text:"Verteiler",leftIcon:"mail-bulk"}),[R.MEMBERS_READ]),this.renderElement(s.a.createElement(G,{text:"Aufgebot",leftIcon:"address-book",id:"draft",level:1},s.a.createElement(F,{to:"/draft/collection-points",leftIcon:"map-marker-alt",text:"Abholpunkte"})),[R.DRAFT_READ,R.DRAFT_CREATE]),this.renderElement(s.a.createElement(F,{to:"/orders",text:"Auftr\xe4ge",leftIcon:"file-alt"}),[R.ORDERS_READ]),this.renderElement(s.a.createElement(G,{text:"Verrechnungsrapporte",leftIcon:"file-signature",id:"billingreports",level:1},this.renderElement(s.a.createElement(F,{to:"/billing-reports/add",leftIcon:"plus",text:"Erstellen"}),[R.BILLINGREPORTS_CREATE]),s.a.createElement(F,{to:"/billing-reports",leftIcon:"list",text:"Alle"})),[R.BILLINGREPORTS_READ,R.BILLINGREPORTS_CREATE]),this.renderElement(s.a.createElement(G,{text:"Entsch\xe4digungen",leftIcon:"dollar-sign",id:"compensations",level:1},this.renderElement(s.a.createElement(F,{to:"/compensations/add",leftIcon:"plus",text:"Erstellen"}),[R.COMPENSATIONS_CREATE]),s.a.createElement(F,{to:"/compensations",leftIcon:"list",text:"Alle"})),[R.COMPENSATIONS_READ]),this.renderElement(s.a.createElement(F,{to:"/users",text:"Benutzer",leftIcon:"user"}),[R.ADMIN]))):s.a.createElement("div",null)}}]),t}(o.Component),U=Object(b.b)(function(e){return{open:e.ui.navibar_open,user:e.data.user.data}},{},null,{pure:!1})(H),z=a(12),K=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(z.a,{title:""},s.a.createElement("div",{className:"gandalf"},s.a.createElement("div",{className:"fireball"}),s.a.createElement("div",{className:"skirt"}),s.a.createElement("div",{className:"sleeves"}),s.a.createElement("div",{className:"shoulders"},s.a.createElement("div",{className:"hand left"}),s.a.createElement("div",{className:"hand right"})),s.a.createElement("div",{className:"head"},s.a.createElement("div",{className:"hair"}),s.a.createElement("div",{className:"beard"}))),s.a.createElement("div",{className:"message"},s.a.createElement("h1",null,"403 - You Shall Not Pass"),s.a.createElement("p",null,"Uh oh, Gandalf is blocking the way!",s.a.createElement("br",null),"Maybe you have a typo in the url? Or you meant to go to a different location? Like...Hobbiton?")))}}]),t}(o.Component),W=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=!0,a=!1,n=void 0;try{for(var r,i=this.props.roles[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;if(this.props.user&&(this.props.user.roles.includes(o)||this.props.user.roles.includes(R.ADMIN)))return s.a.createElement(T.a,{exact:this.props.exact,path:this.props.path,component:this.props.component})}}catch(l){a=!0,n=l}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return this.props.user&&this.props.showError?(this.props.showError("Not Authorized!"),s.a.createElement(T.a,{exact:this.props.exact,path:this.props.path,component:K})):s.a.createElement(T.a,{exact:this.props.exact,path:this.props.path,component:function(){return s.a.createElement(x.a,{push:!0,to:{pathname:"/login",state:{prevLocation:(e.props.location||{pathname:""}).pathname}}})}})}}]),t}(o.Component),q=Object(b.b)(function(e){return{user:e.data.user.data}},function(e){return{showError:function(t){e(E.a.showError(t))}}})(W),Y=a(19),X=(a(148),a(150),a(13)),Z=a(11),J=a(14),$=a(147),Q=a(21),ee=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"renderShortcuts",value:function(){var e=[s.a.createElement($.a,{to:"/billing-reports/add/",className:"btn btn-block btn-outline-primary"},"Verrechnungsrapport erstellen")];return this.props.user.bexioContact&&e.push(s.a.createElement($.a,{to:"/contact/"+this.props.user.bexioContact.id,className:"btn btn-block btn-outline-primary"},"Mein Profil")),e}},{key:"render",value:function(){return this.props.loading||!this.props.user?s.a.createElement(z.a,{title:"Dashboard"},s.a.createElement(Q.a,null)):s.a.createElement(z.a,{title:"Dashboard"},s.a.createElement(J.a,null,s.a.createElement(Z.a,{className:"col-md-6"},s.a.createElement(X.a,{title:"Shortcuts"},this.renderShortcuts()))))}}]),t}(o.Component),te=Object(b.b)(function(e,t){return{user:e.data.user.data,loading:e.data.user.loading}},function(e,t){return{fetchUser:function(){e(g.a.fetchUser())}}})(ee),ae=a(33),ne=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onClick=a.onClick.bind(Object(M.a)(Object(M.a)(a))),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onClick",value:function(e){e.preventDefault(),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){return this.props.to?s.a.createElement($.a,{to:this.props.to,className:"action-button btn btn-outline-dark"},s.a.createElement(A.a,{icon:this.props.icon})):s.a.createElement("button",{onClick:this.onClick,className:"action-button btn btn-outline-dark"},s.a.createElement(A.a,{icon:this.props.icon}))}}]),t}(o.Component),re=Object(b.b)(function(e){return{data:e.data.members,title:"Mitglieder",actions:[s.a.createElement(ne,{icon:"download",to:""})],viewLocation:"/contact/",tableColumns:[{text:"Name",keys:["firstname","lastname"],sortable:!0},{text:"Addresse",keys:["address","postcode","city"],link:!0,linkPrefix:"https://www.google.com/maps/place/",sortable:!0},{text:"Festnetz",keys:["phoneFixed"],link:!0,linkPrefix:"tel:",sortable:!0},{text:"Festnetz 2",keys:["phoneFixedSecond"],link:!0,linkPrefix:"tel:",sortable:!0},{text:"Mobile",keys:["phoneMobile"],link:!0,linkPrefix:"tel:",sortable:!0},{text:"E-Mail",keys:["mail"],link:!0,linkPrefix:"mailto:",sortable:!0},{text:"E-Mail 2",keys:["mailSecond"],link:!0,linkPrefix:"mailto:",sortable:!0}]}},function(e){return{fetchData:function(){e(g.a.fetchMembers())},onSearch:function(t){e(E.a.searchMembers(t))},onSort:function(t,a){e(E.a.sortMembers(t,a))}}})(ae.a),ie=a(57),oe=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"renderChildren",value:function(){if("undefined"!==typeof this.props.value){if("checkbox"===this.props.type){var e=this.props.onChange||function(){};return this.props.editable||(e=function(){return!1}),s.a.createElement(ie.a,{id:this.props.id,checked:this.props.value,onChange:e,label:""})}return"textarea"===this.props.type?s.a.createElement("textarea",{id:this.props.id,value:this.props.value,onChange:this.props.onChange,className:"form-entry form-control"+(this.props.editable?"":"-plaintext"),readOnly:!this.props.editable}):s.a.createElement("input",{id:this.props.id,type:this.props.type?this.props.type:"text",value:this.props.value,onChange:this.props.onChange,className:"form-entry form-control"+(this.props.editable?"":"-plaintext"),readOnly:!this.props.editable})}return this.props.children}},{key:"render",value:function(){return s.a.createElement(J.a,null,s.a.createElement(Z.a,{className:"col-6"},this.props.title),s.a.createElement(Z.a,{className:"col-6"},this.renderChildren()))}}]),t}(o.Component),se=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).rank="",a.groups=[],a.props.contact||a.props.loading||a.props.loadContacts(),0!==a.props.ranks.ids.length||a.props.loading||a.props.loadRanks(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;if(this.props.loading||!this.props.contact)return s.a.createElement(z.a,{title:"Kontakt"},s.a.createElement(Q.a,null));this.groups=this.props.contact.contactGroups;var t=!0,a=!1,n=void 0;try{for(var r,i=function(){var t=r.value,a=e.groups.find(function(e){return e.id===t});if(a)return e.rank=a.name,"break"},o=this.props.ranks.ids[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){if("break"===i())break}}catch(l){a=!0,n=l}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}return s.a.createElement(z.a,{title:this.props.contact.firstname+" "+this.props.contact.lastname},s.a.createElement(J.a,null,s.a.createElement(Z.a,{className:"col-md-6"},s.a.createElement(X.a,{title:"Pers\xf6nliche Informationen"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement(oe,{id:"firstname",title:"Vorname"},this.props.contact.firstname),s.a.createElement(oe,{id:"lastname",title:"Nachname"},this.props.contact.lastname),s.a.createElement(oe,{id:"rank",title:"Rang"},this.rank),s.a.createElement(oe,{id:"birthday",title:"Geburtstag"},new Date(this.props.contact.birthday).toLocaleDateString("de-CH",{year:"numeric",month:"numeric",day:"numeric"})),s.a.createElement(oe,{id:"mail",title:"E-Mail"},s.a.createElement("a",{href:"mailto:"+this.props.contact.mail},this.props.contact.mail)),s.a.createElement(oe,{id:"mailSecond",title:"E-Mail 2"},s.a.createElement("a",{href:"mailto:"+this.props.contact.mailSecond},this.props.contact.mailSecond)),s.a.createElement(oe,{id:"phoneFixed",title:"Festnetz"},s.a.createElement("a",{href:"tel:"+this.props.contact.phoneFixed},this.props.contact.phoneFixed)),s.a.createElement(oe,{id:"phoneFixedSecond",title:"Festnetz 2"},s.a.createElement("a",{href:"tel:"+this.props.contact.phoneFixedSecond},this.props.contact.phoneFixedSecond)),s.a.createElement(oe,{id:"phoneMobile",title:"Mobile"},s.a.createElement("a",{href:"tel:"+this.props.contact.phoneMobile},this.props.contact.phoneMobile)),s.a.createElement(oe,{id:"groups",title:"Gruppen"},this.groups?this.groups.map(function(e){return s.a.createElement("span",{className:"badge badge-primary"},e.name)}):""),s.a.createElement(oe,{id:"remarks",title:"Bemerkungen"},this.props.contact.remarks)))),s.a.createElement(Z.a,{className:"col-md-6"},s.a.createElement(X.a,{title:"Actions"},s.a.createElement("a",{target:"_blank",href:"https://office.bexio.com/index.php/kontakt/show/id/"+this.props.contact.bexioId,className:"btn btn-block btn-outline-primary"},"In Bexio anschauen"),s.a.createElement("a",{target:"_blank",href:"https://vkazu.sharepoint.com/leitung/Personalakten?viewpath=/leitung/Personalakten&id=/leitung/Personalakten/"+this.props.contact.firstname+" "+this.props.contact.lastname,className:"btn btn-block btn-outline-primary"},"Personalakte \xf6ffnen")))))}}]),t}(o.Component),le=Object(b.b)(function(e,t){return{contact:e.data.contacts.byId[t.match.params.id]||e.data.members.byId[t.match.params.id],ranks:e.data.ranks,loading:e.data.contacts.loading||e.data.ranks.loading||e.data.members.loading}},function(e,t){return{loadContacts:function(){e(g.a.fetchContacts())},loadRanks:function(){e(g.a.fetchRanks())}}})(se),ce=Object(b.b)(function(e){return{data:e.data.orders,viewLocation:"/order/",title:"Auftr\xe4ge",tableColumns:[{text:"Auftragsnummer",keys:["documentNr"],sortable:!0},{text:"Titel",keys:["title"],sortable:!0},{text:"Total",keys:["total"],sortable:!0,prefix:"CHF "}]}},function(e){return{fetchData:function(){e(g.a.fetchOrders())},onSearch:function(t){e(E.a.searchOrders(t))},onSort:function(t,a){e(E.a.sortOrders(t,a))}}})(ae.a),pe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).props.order||a.props.loading||a.props.loadOrders(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"renderPositions",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=this.props.order.positions[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;e.push(s.a.createElement(J.a,{className:"position"},s.a.createElement(Z.a,{className:"col-1"},o.pos),s.a.createElement(Z.a,null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:o.text||""}})),o.positionTotal?s.a.createElement(Z.a,{className:"col-2"},"CHF ",o.positionTotal):""))}}catch(l){a=!0,n=l}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return e}},{key:"render",value:function(){return this.props.loading||!this.props.order?s.a.createElement(z.a,{title:this.props.order.title},s.a.createElement(Q.a,null)):(this.props.order.execDates instanceof Date&&(this.props.order.execDates=[this.props.order.execDates]),s.a.createElement(z.a,{title:this.props.order.title},s.a.createElement(J.a,null,s.a.createElement(Z.a,{className:"col-md-6"},s.a.createElement(X.a,{title:"Informationen"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement(oe,{id:"title",title:"Titel"},this.props.order.title),s.a.createElement(oe,{id:"documentNr",title:"Auftragsnummer"},this.props.order.documentNr),s.a.createElement(oe,{id:"executionDates",title:"Auftragsdaten"},this.props.order.execDates?this.props.order.execDates.map(function(e){return s.a.createElement("span",{className:"badge badge-secondary"},e.toLocaleDateString())}):""))))),s.a.createElement(J.a,null,s.a.createElement(Z.a,{className:"col"},s.a.createElement(X.a,{title:"Positionen"},s.a.createElement("div",{className:"container-fluid"},this.renderPositions(),s.a.createElement(J.a,{className:"position"},s.a.createElement(Z.a,{className:"col-1"}),s.a.createElement(Z.a,null,s.a.createElement("strong",null,"Total")),s.a.createElement(Z.a,{className:"col-2"},"CHF ",this.props.order.total))))))))}}]),t}(o.Component),ue=Object(b.b)(function(e,t){return{order:e.data.orders.byId[t.match.params.id],loading:e.data.orders.loading}},function(e,t){return{loadOrders:function(){e(g.a.fetchOrders())}}})(pe),de=Object(b.b)(function(e){return{data:e.data.billingReports,title:"Verrechnungsrapporte",viewLocation:"/billing-report/",tableColumns:[{text:"Datum",keys:["date"],sortable:!0},{text:"Auftrag Nr",keys:{order:["documentNr"]},sortable:!0},{text:"Auftrag Titel",keys:{order:["title"]},sortable:!0},{text:"Ersteller",keys:{creator:["displayName"]},sortable:!0},{text:"Status",keys:["state"],sortable:!0}]}},function(e){return{fetchData:function(){e(g.a.fetchBillingReports())},onSearch:function(t){e(E.a.searchBillingReports(t))},onSort:function(t,a){e(E.a.sortBillingReports(t,a))}}})(ae.a),he=a(175),me=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleClose=a.handleClose.bind(Object(M.a)(Object(M.a)(a))),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleClose",value:function(){this.props.onHide&&this.props.onHide()}},{key:"render",value:function(){return s.a.createElement(he.a,{show:this.props.show,onHide:this.handleClose,dialogClassName:"modal-lg"},s.a.createElement(he.a.Header,{closeButton:!0},this.props.header),s.a.createElement(he.a.Body,null,this.props.body),s.a.createElement(he.a.Footer,null,this.props.footer))}}]),t}(o.Component),be=a(174),fe=a(176),Ee=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).deleteCompensation=a.deleteCompensation.bind(Object(M.a)(Object(M.a)(a))),a.deleteCompensationConfirmed=a.deleteCompensationConfirmed.bind(Object(M.a)(Object(M.a)(a))),a.showModal=a.showModal.bind(Object(M.a)(Object(M.a)(a))),a.hideModal=a.hideModal.bind(Object(M.a)(Object(M.a)(a))),a.state={modalShow:!1},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"deleteCompensation",value:function(e){if(e.currentTarget.parentNode&&e.currentTarget.parentNode.parentNode&&e.currentTarget.parentNode.parentNode.parentElement){var t=e.currentTarget.parentNode.parentNode.parentElement.getAttribute("data-key");t&&this.setState({toDeleteCompensation:this.props.data.byId[t],modalShow:!0})}}},{key:"deleteCompensationConfirmed",value:function(){this.state.toDeleteCompensation&&(this.props.delete(this.state.toDeleteCompensation.id),this.setState({toDeleteCompensation:void 0,modalShow:!1}))}},{key:"showModal",value:function(){this.setState({modalShow:!0})}},{key:"hideModal",value:function(){this.setState({modalShow:!1})}},{key:"renderModal",value:function(){return this.state.toDeleteCompensation?s.a.createElement(me,{show:this.state.modalShow,onHide:this.hideModal,header:s.a.createElement("h3",null,this.state.toDeleteCompensation.member.firstname+" "+this.state.toDeleteCompensation.member.lastname+" vom  "+this.state.toDeleteCompensation.date.toLocaleDateString()),body:s.a.createElement("span",null,"Willst du die Entsch\xe4digung von "+this.state.toDeleteCompensation.member.firstname+" "+this.state.toDeleteCompensation.member.lastname+" vom  "+this.state.toDeleteCompensation.date.toLocaleDateString()+" mit einem Betrag von CHF"+this.state.toDeleteCompensation.amount+" wirklich l\xf6schen?"),footer:s.a.createElement(be.a,null,s.a.createElement(fe.a,{variant:"danger",onClick:this.deleteCompensationConfirmed},"L\xf6schen"),s.a.createElement(fe.a,{variant:"secondary",onClick:this.hideModal},"Abbrechen"))}):null}},{key:"render",value:function(){return s.a.createElement("div",null,this.renderModal(),s.a.createElement(ae.a,{title:"Entsch\xe4digungen",viewLocation:"/compensation/",rowActions:[s.a.createElement("button",{className:"btn btn-danger delete",onMouseUp:this.deleteCompensation},s.a.createElement(A.a,{icon:"trash"}))],tableColumns:[{text:"Mitglied",keys:{member:["firstname","lastname"]},sortable:!0},{text:"Datum",keys:["date"],sortable:!0},{text:"Betrag",keys:["amount"],sortable:!0,prefix:"CHF "},{text:"Ersteller",keys:{creator:["displayName"]},sortable:!0},{text:"Genehmigt",keys:["approved"],sortable:!0},{text:"Ausbezahlt",keys:["paied"],sortable:!0}],data:this.props.data,fetchData:this.props.fetchData,onSearch:this.props.onSearch,onSort:this.props.onSort,history:this.props.history}))}}]),t}(o.Component),ve=Object(b.b)(function(e){return{data:e.data.compensationEntries}},function(e){return{fetchData:function(){e(g.a.fetchCompensationEntries())},onSearch:function(t){e(E.a.searchCompensationEntries(t))},onSort:function(t,a){e(E.a.sortCompensationEntries(t,a))},delete:function(t){e(g.a.deleteCompensationEntry(t))}}})(Ee),ye=a(101),Oe=a(20),ge=a.n(Oe),ke=a(30),Ne=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loaded:!1},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ke.a)(ge.a.mark(function e(){return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchUser();case 2:this.setState({loaded:!0});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.user.data?(this.props.showSuccess("Willkommen zur\xfcck"),console.log(this.props.location),this.props.location.state&&this.props.location.state.prevLocation?this.props.history.push(this.props.location.state.prevLocation):this.props.history.push("/dashboard"),null):this.props.user.loading||!this.state.loaded?s.a.createElement(Q.a,{fullscreen:!0}):(this.props.location.state&&!this.props.location.state.errorShown&&(this.props.showError("Sorry.... zuerst einloggen!"),this.props.history.replace(this.props.location.pathname,Object.assign({},this.props.location.state,{errorShown:!0}))),s.a.createElement("div",{id:"login"},s.a.createElement("h2",null,"Login"),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"username",placeholder:"Username",className:"form-control"}),s.a.createElement("input",{type:"password",name:"password",placeholder:"Password",className:"form-control"}),s.a.createElement("button",{className:"btn btn-primary btn-block"},"Login")),"oder",s.a.createElement("div",{className:"form-group"},s.a.createElement("a",{className:"btn btn-secondary btn-block",href:Y.a.apiEndpoint+"/api/auth/outlook"},s.a.createElement(A.a,{icon:["fab","microsoft"],style:{marginRight:"5px"}}),"VK-Login"))))}}]),t}(o.Component),Ce=Object(b.b)(function(e){return{user:e.data.user}},function(e){return{fetchUser:function(){return e(g.a.fetchUser())},showError:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Ooppss...! Versuche es sp\xe4ter erneut";e(E.a.showError(t))},showSuccess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Yeeppiii";e(E.a.showSuccess(t))}}})(Ne),je=Object(b.b)(function(e){return{data:e.data.users,viewLocation:"/user/",title:"Benutzer",tableColumns:[{text:"Name",keys:["displayName"],sortable:!0},{text:"Rechte",keys:["roles"],sortable:!0}]}},function(e){return{fetchData:function(){e(g.a.fetchUsers())},onSearch:function(t){e(E.a.searchUsers(t))},onSort:function(t,a){e(E.a.sortUsers(t,a))}}})(ae.a),Se=a(36),Re=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).props.fetchUsers(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"renderBexioPart",value:function(){if(!this.props.user.bexioContact)return s.a.createElement("span",null,"Kein Link gefunden....");var e=this.props.user.bexioContact;return s.a.createElement("div",null,s.a.createElement(oe,{id:"bexioId",title:"ID"},e.bexioId),s.a.createElement(oe,{id:"firstname",title:"Vorname"},e.firstname),s.a.createElement(oe,{id:"lastname",title:"Nachname"},e.lastname),s.a.createElement($.a,{to:"/contact/"+e.id,className:"btn btn-block btn-outline-primary"},"Kontakt \xf6ffnen"),s.a.createElement("a",{target:"_blank",href:"https://office.bexio.com/index.php/kontakt/show/id/"+e.bexioId,className:"btn btn-block btn-outline-primary"},"In Bexio anschauen"))}},{key:"renderRolePart",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=this.props.user.roles[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;e.push({role:o})}}catch(l){a=!0,n=l}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return s.a.createElement(Se.a,{columns:[{text:"Role",keys:["role"]}],data:e})}},{key:"render",value:function(){return this.props.loading||!this.props.user?s.a.createElement(z.a,{title:this.props.user.displayName},s.a.createElement(Q.a,null)):s.a.createElement(z.a,{title:this.props.user.displayName},s.a.createElement(J.a,null,s.a.createElement(Z.a,{className:"col-md-6"},s.a.createElement(X.a,{title:"Allgemeine Informationen"},s.a.createElement(oe,{id:"displayName",title:"Name"},this.props.user.displayName)),s.a.createElement(X.a,{title:"Rechte"},this.renderRolePart())),s.a.createElement(Z.a,{className:"col-md-6"},s.a.createElement(X.a,{title:"Bexio Informationen"},this.renderBexioPart()))))}}]),t}(o.Component),Ie=Object(b.b)(function(e,t){return{user:e.data.users.byId[t.match.params.id],loading:e.data.users.loading}},function(e,t){return{fetchUsers:function(){e(g.a.fetchUsers())}}})(Re),_e=a(28),Te=a(46),xe=function(e){function t(e){var a;if(Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).props.defaultValue instanceof Array){var n=[],r=!0,i=!1,o=void 0;try{for(var s,l=a.props.defaultValue[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;n.push({value:c.id.toString(),label:c.title})}}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}a.state={value:n}}else a.state={};return a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.defaultValue instanceof Array){var t=[],a=!0,n=!1,r=void 0;try{for(var i,o=e.defaultValue[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var s=i.value;s.hasOwnProperty("id")&&t.push({value:s.id.toString(),label:s.title})}}catch(l){n=!0,r=l}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}this.setState({value:t})}}},{key:"componentWillMount",value:function(){this.props.orders.ids.length<1&&this.props.fetchOrders()}},{key:"prepareOptions",value:function(){var e=[];if(Object.keys(this.props.orders.byId).length>0)for(var t in this.props.orders.byId){var a=this.props.orders.byId[t];e.push({label:a.title,value:t})}return e}},{key:"onChange",value:function(e){var t=[e];this.props.isMulti&&(t=e),this.setState({value:t});var a=[],n=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;a.push(this.props.orders.byId[l.value])}}catch(c){r=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}this.props.onChange&&(this.props.isMulti?this.props.onChange(a):this.props.onChange(a[0]))}},{key:"prepareValue",value:function(){return this.props.isMulti?this.state.value||[]:(this.state.value||[])[0]}},{key:"render",value:function(){var e=this;return this.props.loading?null:s.a.createElement(Te.a,{ref:function(t){e.props.ref&&e.props.ref(t)},isClearable:!0,options:this.prepareOptions(),backspaceRemovesValue:!0,hideSelectedOptions:!0,openMenuOnFocus:!0,isMulti:this.props.isMulti||!1,onChange:this.onChange.bind(this),value:this.prepareValue()})}}]),t}(o.Component),Ae=Object(b.b)(function(e,t){return{orders:e.data.orders,loading:e.data.orders.loading}},function(e,t){return{fetchOrders:function(){e(g.a.fetchOrders())}}})(xe),we=a(38),De=a(59),Me=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).approve=a.approve.bind(Object(M.a)(Object(M.a)(a))),a.decline=a.decline.bind(Object(M.a)(Object(M.a)(a))),a.elementView=a.elementView.bind(Object(M.a)(Object(M.a)(a))),a.billingReport=a.props.billingReports.byId[parseInt(a.props.match.params.id)],a.onInformationEdit=a.onInformationEdit.bind(Object(M.a)(Object(M.a)(a))),a.onInformationSave=a.onInformationSave.bind(Object(M.a)(Object(M.a)(a))),a.onInputChange=a.onInputChange.bind(Object(M.a)(Object(M.a)(a))),a.getCompensationActions=a.getCompensationActions.bind(Object(M.a)(Object(M.a)(a))),a.deleteCompensation=a.deleteCompensation.bind(Object(M.a)(Object(M.a)(a))),a.deleteCompensationConfirmed=a.deleteCompensationConfirmed.bind(Object(M.a)(Object(M.a)(a))),a.addCompensations=a.addCompensations.bind(Object(M.a)(Object(M.a)(a))),a.showModal=a.showModal.bind(Object(M.a)(Object(M.a)(a))),a.hideModal=a.hideModal.bind(Object(M.a)(Object(M.a)(a))),a.billingReport&&(a.state={informationEdit:!1,order:a.billingReport.order,date:a.billingReport.date,els:a.billingReport.els,drivers:a.billingReport.drivers,food:a.billingReport.food,remarks:a.billingReport.remarks,modalShow:!1}),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.billingReport=e.billingReports.byId[parseInt(e.match.params.id)],this.billingReport&&this.setState({order:this.billingReport.order,date:this.billingReport.date,els:this.billingReport.els,drivers:this.billingReport.drivers,food:this.billingReport.food,remarks:this.billingReport.remarks})}},{key:"componentWillMount",value:function(){this.props.fetchBillingReports(),this.props.fetchOrders()}},{key:"approve",value:function(){this.props.approve(this.billingReport.id.toString())}},{key:"decline",value:function(){this.props.decline(this.billingReport.id.toString())}},{key:"onInformationEdit",value:function(e){this.setState({informationEdit:!0})}},{key:"onInformationSave",value:function(e){this.props.edit({id:this.billingReport.id.toString(),date:this.state.date,drivers:this.state.drivers,els:this.state.els,food:this.state.food,orderId:this.state.order.id,remarks:this.state.remarks}),this.setState({informationEdit:!1})}},{key:"onInputChange",value:function(e){var t,a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.id;"date"===a.type&&"string"===typeof n&&(t=new Date(n)),this.setState(Object(_e.a)({},r,t||n))}},{key:"onSelectChange",value:function(e){var t=this;return function(a){t.setState(Object(_e.a)({},e,a))}}},{key:"elementView",value:function(e){if(e.currentTarget.parentNode&&e.currentTarget.parentNode.parentNode&&e.currentTarget.parentNode.parentNode.parentElement){var t=e.currentTarget.parentNode.parentNode.parentElement.getAttribute("data-key");1==e.button?window.open(document.location.origin+"/compensation/"+t):this.props.history.push("/compensation/"+t)}}},{key:"deleteCompensation",value:function(e){if(e.currentTarget.parentNode&&e.currentTarget.parentNode.parentNode&&e.currentTarget.parentNode.parentNode.parentElement){var t=e.currentTarget.parentNode.parentNode.parentElement.getAttribute("data-key");t&&this.setState({toDeleteCompensation:this.billingReport.compensations.find(function(e){return e.id===parseInt(t||"")}),modalShow:!0})}}},{key:"deleteCompensationConfirmed",value:function(){this.state.toDeleteCompensation&&(this.props.deleteCompensation(this.state.toDeleteCompensation.id),this.setState({toDeleteCompensation:void 0,modalShow:!1}),this.props.fetchBillingReports())}},{key:"addCompensations",value:function(e){var t=[];for(var a in e.vks)t.push(e.vks[a]);this.props.addCompensationEntries({billingReportId:this.billingReport.id,entries:t}),this.hideModal()}},{key:"showModal",value:function(){this.setState({modalShow:!0})}},{key:"hideModal",value:function(){return this.setState({modalShow:!1}),!0}},{key:"prepareCompensationsForTable",value:function(){var e={},t=!0,a=!1,n=void 0;try{for(var r,i=this.billingReport.compensations[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;e[o.id]=o}}catch(s){a=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return e}},{key:"renderActions",value:function(){var e=[];return"pending"===this.billingReport.state&&(this.props.user.roles.includes(R.BILLINGREPORTS_APPROVE)||this.props.user.roles.includes(R.ADMIN))&&(e.push(s.a.createElement("button",{id:"approve",className:"btn btn-block btn-outline-success",onClick:this.approve},"Genehmigen")),e.push(s.a.createElement("button",{id:"decline",className:"btn btn-block btn-outline-danger",onClick:this.decline},"Ablehnen"))),e}},{key:"renderOrder",value:function(){return this.state.informationEdit?s.a.createElement(Ae,{defaultValue:[this.state.order],onChange:this.onSelectChange("order")}):this.state.order.title}},{key:"renderEls",value:function(){return this.state.informationEdit?s.a.createElement(we.a,{defaultValue:this.state.els,isMulti:!0,onChange:this.onSelectChange("els")}):this.state.els.map(function(e){return e.firstname+" "+e.lastname}).join(",")}},{key:"renderDrivers",value:function(){return this.state.informationEdit?s.a.createElement(we.a,{defaultValue:this.state.drivers,isMulti:!0,onChange:this.onSelectChange("drivers")}):this.state.drivers.map(function(e){return e.firstname+" "+e.lastname}).join(",")}},{key:"renderInformations",value:function(){var e="badge-success";"pending"===this.billingReport.state&&(e="badge-warning"),"declined"===this.billingReport.state&&(e="badge-danger");var t=[];return(this.props.user.roles.includes(R.ADMIN)||this.props.user.roles.includes(R.BILLINGREPORTS_EDIT)||"pending"===this.billingReport.state&&this.billingReport.creator.id===this.props.user.id)&&(this.state.informationEdit?t.push(s.a.createElement(ne,{icon:"save",onClick:this.onInformationSave})):t.push(s.a.createElement(ne,{icon:"pencil-alt",onClick:this.onInformationEdit}))),s.a.createElement(X.a,{title:"Informationen",actions:t,className:this.state.informationEdit?"editable":""},s.a.createElement(oe,{id:"orderTitle",title:"Auftrag"},this.renderOrder()),s.a.createElement(oe,{id:"date",title:"Datum",value:this.state.date.toISOString().split("T")[0],type:"date",editable:this.state.informationEdit,onChange:this.onInputChange}),s.a.createElement(oe,{id:"creator",title:"Ersteller"},this.billingReport.creator.displayName),s.a.createElement(oe,{id:"state",title:"Status"},s.a.createElement("div",{className:"badge "+e},this.billingReport.state)),s.a.createElement(oe,{id:"els",title:"ELs"},this.renderEls()),s.a.createElement(oe,{id:"drivers",title:"Fahrer"},this.renderDrivers()),s.a.createElement(oe,{id:"food",title:"Verpflegung",value:this.state.food,type:"checkbox",editable:this.state.informationEdit,onChange:this.onInputChange}),s.a.createElement(oe,{id:"remarks",title:"Bemerkungen",value:this.state.remarks,type:"textarea",editable:this.state.informationEdit,onChange:this.onInputChange}))}},{key:"renderCompensationDeletionModal",value:function(){return this.state.toDeleteCompensation?s.a.createElement(me,{show:this.state.modalShow,onHide:this.hideModal,header:s.a.createElement("h3",null,this.state.toDeleteCompensation.member.firstname+" "+this.state.toDeleteCompensation.member.lastname+" vom  "+this.state.toDeleteCompensation.date.toLocaleDateString()),body:s.a.createElement("span",null,"Willst du die Entsch\xe4digung von "+this.state.toDeleteCompensation.member.firstname+" "+this.state.toDeleteCompensation.member.lastname+" vom  "+this.state.toDeleteCompensation.date.toLocaleDateString()+" mit einem Betrag von CHF"+this.state.toDeleteCompensation.amount+" wirklich l\xf6schen?"),footer:s.a.createElement(be.a,null,s.a.createElement(fe.a,{variant:"danger",onClick:this.deleteCompensationConfirmed},"L\xf6schen"),s.a.createElement(fe.a,{variant:"secondary",onClick:this.hideModal},"Abbrechen"))}):null}},{key:"renderCompensationsAddModal",value:function(){return this.state.toDeleteCompensation?null:s.a.createElement(me,{show:this.state.modalShow,onHide:this.hideModal,header:s.a.createElement("h3",null,"Entsch\xe4digungen hinzuf\xfcgen"),body:s.a.createElement(De.a,{onNext:this.addCompensations,onPrevious:this.hideModal}),footer:s.a.createElement("div",null)})}},{key:"getCompensationActions",value:function(){var e=[s.a.createElement(fe.a,{variant:"success",className:"view",onMouseUp:this.elementView},s.a.createElement(A.a,{icon:"eye"}))];return(this.props.user.roles.includes(R.ADMIN)||this.props.user.roles.includes(R.BILLINGREPORTS_EDIT)||"pending"===this.billingReport.state&&this.billingReport.creator.id===this.props.user.id)&&e.push(s.a.createElement(fe.a,{variant:"danger",className:"delete",onMouseUp:this.deleteCompensation},s.a.createElement(A.a,{icon:"trash"}))),e}},{key:"render",value:function(){return!this.props.loading&&this.billingReport&&this.state?s.a.createElement(z.a,{title:"Verrechnungsrapport"},this.renderCompensationDeletionModal(),this.renderCompensationsAddModal(),s.a.createElement(J.a,null,s.a.createElement(Z.a,{className:"col-md-6"},this.renderInformations()),s.a.createElement(Z.a,{className:"col-md-6"},s.a.createElement(X.a,{title:"Actions"},this.renderActions()))),s.a.createElement(J.a,null,s.a.createElement(Z.a,null,s.a.createElement(X.a,{title:"VKs",actions:[s.a.createElement(ne,{icon:"plus",onClick:this.showModal})]},s.a.createElement(Se.a,{columns:[{text:"Name",keys:{member:["firstname","lastname"]}},{text:"Von",keys:["from"],format:"toLocaleTimeString"},{text:"Bis",keys:["until"],format:"toLocaleTimeString"},{text:"Verrechnen",keys:["charge"]},{text:"Betrag",keys:["amount"],prefix:"CHF "},{text:"Ausbezahlt",keys:["paied"]},{text:"Actions",keys:["_id"],content:s.a.createElement(be.a,null,this.getCompensationActions())}],defaultSort:{keys:["from"],direction:"asc"},data:this.prepareCompensationsForTable()}))))):s.a.createElement(z.a,{title:"Verrechnungsrapport"},s.a.createElement(Q.a,null))}}]),t}(o.Component),Le=Object(b.b)(function(e,t){return{billingReports:e.data.billingReports,user:e.data.user.data,orders:e.data.orders,loading:e.data.billingReports.loading||e.data.user.loading||e.data.orders.loading}},function(e,t){return{fetchBillingReports:function(){e(g.a.fetchBillingReports())},fetchOrders:function(){e(g.a.fetchOrders())},approve:function(t){e(g.a.approveBillingReport(t))},decline:function(t){e(g.a.declineBillingReport(t))},edit:function(t){e(g.a.editBillingReport(t))},deleteCompensation:function(t){e(g.a.deleteCompensationEntry(t)).then(function(){e(g.a.fetchBillingReports())})},addCompensationEntries:function(t){e(g.a.addCompensationEntriesForBillingReport(t)).then(function(){e(g.a.fetchBillingReports())})}}})(Me),Pe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSelectChange=a.onSelectChange.bind(Object(M.a)(Object(M.a)(a))),a.onInputChange=a.onInputChange.bind(Object(M.a)(Object(M.a)(a))),a.onSave=a.onSave.bind(Object(M.a)(Object(M.a)(a))),a.state={member:"",date:"",description:""},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchMembers()}},{key:"validate",value:function(){if(this.formEl){var e=this.formEl.checkValidity();return this.formEl.className="was-validated",e}return!1}},{key:"onSelectChange",value:function(e){e?this.setState({member:e.value}):this.setState({member:""})}},{key:"prepareMembers",value:function(){var e=[];if(Object.keys(this.props.members.byId).length>0)for(var t in this.props.members.byId){var a=this.props.members.byId[t];e.push({label:a.firstname+" "+a.lastname,value:t})}return e}},{key:"onInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(_e.a)({},n,a))}},{key:"onSave",value:function(e){e.preventDefault(),this.formEl&&this.validate()&&(this.props.save({member:this.state.member,date:new Date(this.state.date),description:this.state.description,amount:this.state.amount}),this.props.history.push("/compensations"))}},{key:"render",value:function(){var e=this;return this.props.loading||this.props.members.ids.length<1?s.a.createElement(z.a,{title:"Entsch\xe4digung hinzuf\xfcgen"},s.a.createElement(Q.a,null)):s.a.createElement(z.a,{title:"Entsch\xe4digung hinzuf\xfcgen"},s.a.createElement(J.a,null,s.a.createElement(Z.a,null,s.a.createElement(X.a,null,s.a.createElement("form",{id:"addCompensation",ref:function(t){e.formEl=t}},s.a.createElement("h5",null,"Mitglied"),s.a.createElement(Te.a,{isClearable:!0,onChange:this.onSelectChange,options:this.prepareMembers(),backspaceRemovesValue:!0,hideSelectedOptions:!0,openMenuOnFocus:!0}),s.a.createElement("br",null),s.a.createElement("h5",null,"Datum"),s.a.createElement("input",{name:"date",type:"date",className:"form-control",value:this.state.date,onChange:this.onInputChange,required:!0}),s.a.createElement("br",null),s.a.createElement("h5",null,"Beschreibung"),s.a.createElement("input",{name:"description",type:"text",className:"form-control",value:this.state.description,onChange:this.onInputChange,required:!0}),s.a.createElement("br",null),s.a.createElement("h5",null,"Betrag"),s.a.createElement("div",{className:"input-group mb-2"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("div",{className:"input-group-text"},"CHF")),s.a.createElement("input",{type:"number",step:"0.05",className:"form-control",name:"amount",value:this.state.amount,onChange:this.onInputChange,placeholder:"0.00",required:!0})),s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.onSave},"Speichern"))))))}}]),t}(o.Component),Be=Object(b.b)(function(e){return{members:e.data.members,loading:e.data.members.loading}},function(e){return{fetchMembers:function(){e(g.a.fetchMembers())},save:function(t){e(g.a.addCompensationEntry(t))}}})(Pe),Fe=function(e){function t(e,a,n,r){var i,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;return Object(p.a)(this,t),(i=Object(d.a)(this,Object(h.a)(t).call(this))).member=e,i.creator=a,i.amount=n,i.date=r,i.approved=o,i.paied=s,i.valutaDate=l,i.payout=c,i}return Object(m.a)(t,e),Object(u.a)(t,null,[{key:"isOrderBased",value:function(e){return void 0!==e.billingReport&&null!==e.billingReport}},{key:"isCustom",value:function(e){return void 0!==e.description&&null!==e.description}}]),t}(function e(){Object(p.a)(this,e)}),Ve=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(z.a,{title:""},s.a.createElement("div",{id:"page-404"},s.a.createElement("img",{src:"/404.png"})))}}]),t}(o.Component),Ge=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).approve=a.approve.bind(Object(M.a)(Object(M.a)(a))),a.renderBillingReport=a.renderBillingReport.bind(Object(M.a)(Object(M.a)(a))),a.renderActions=a.renderActions.bind(Object(M.a)(Object(M.a)(a))),a.props.fetchCompensations(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"approve",value:function(){this.props.approve(this.props.compensation.id)}},{key:"renderActions",value:function(){if(!this.props.compensation.approved)return o.createElement("button",{id:"approve",className:"btn btn-block btn-outline-success",onClick:this.approve},"Genehmigen")}},{key:"renderBillingReport",value:function(){if(Fe.isOrderBased(this.props.compensation)){var e="badge-success";return"pending"===this.props.compensation.billingReport.state&&(e="badge-warning"),o.createElement(Z.a,{className:"col-md-6"},o.createElement(X.a,{title:"Verrechnungsrapport"},o.createElement(oe,{id:"orderNr",title:"Auftragsnummer"},this.props.compensation.billingReport.order.documentNr),o.createElement(oe,{id:"orderNr",title:"Auftrag"},this.props.compensation.billingReport.order.title),o.createElement(oe,{id:"state",title:"Verrechnungsrapportstatus"},o.createElement("div",{className:"badge "+e},this.props.compensation.billingReport.state)),o.createElement(oe,{id:"from",title:"Von"},this.props.compensation.from.toLocaleTimeString()),o.createElement(oe,{id:"until",title:"Bis"},this.props.compensation.until.toLocaleTimeString()),o.createElement(oe,{id:"charge",title:"Verrechnen"},this.props.compensation.charge?"\u2713":"\u2a2f"),o.createElement($.a,{to:"/order/"+this.props.compensation.billingReport.order.id,className:"btn btn-outline-primary btn-block"},"Auftrag"),o.createElement($.a,{to:"/billing-report/"+this.props.compensation.billingReport.id,className:"btn btn-outline-primary btn-block"},"Verrechnungsrapport")))}}},{key:"render",value:function(){var e=this;if(!this.props.loading&&!this.props.compensation&&this.props.compensationIds.length>0)return o.createElement(Ve,null);if(this.props.loading||!this.props.compensation)return o.createElement(z.a,{title:"Compensation"},o.createElement(Q.a,null));var t="badge-success";return this.props.compensation.approved||(t="badge-warning"),o.createElement(z.a,{title:"Compensation"},o.createElement(J.a,null,o.createElement(Z.a,{className:"col-md-6"},o.createElement(X.a,{title:"Informationen"},o.createElement(oe,{id:"member",title:"Mitglied"},this.props.compensation.member.firstname," ",this.props.compensation.member.lastname),o.createElement(oe,{id:"date",title:"Datum"},this.props.compensation.date.toLocaleDateString()),o.createElement(oe,{id:"amount",title:"Betrag"},"CHF ",this.props.compensation.amount),function(){if(Fe.isCustom(e.props.compensation))return o.createElement(oe,{id:"description",title:"Beschreibung"},e.props.compensation.description)},o.createElement(oe,{id:"state",title:"Status"},o.createElement("div",{className:"badge "+t},this.props.compensation.approved?"Bewilligt":"Ausstehend")),o.createElement(oe,{id:"creator",title:"Ersteller"},this.props.compensation.creator.displayName))),o.createElement(Z.a,{className:"col-md-6"},o.createElement(X.a,{title:"Actions"},this.renderActions()))),o.createElement(J.a,null,this.renderBillingReport(),o.createElement(Z.a,{className:"col-md-6"},o.createElement(X.a,{title:"Auszahlung"},o.createElement(oe,{id:"paied",title:"Ausbezahlt"},this.props.compensation.paied?"\u2713":"\u2a2f"),o.createElement(oe,{id:"valutaDate",title:"Valuta Datum"},this.props.compensation.valutaDate?this.props.compensation.valutaDate.toLocaleDateString():""),function(){if(e.props.compensation.payout)return o.createElement($.a,{to:"/payout/"+e.props.compensation.payout.id,className:"btn btn-outline-primary btn-block"},"Auszahlung")}))))}}]),t}(o.Component),He=Object(b.b)(function(e,t){return{compensation:e.data.compensationEntries.byId[t.match.params.id],compensationIds:e.data.compensationEntries.ids,loading:e.data.compensationEntries.loading}},function(e){return{fetchCompensations:function(){e(g.a.fetchCompensationEntries())},approve:function(t){e(g.a.approveCompensationEntry(t))}}})(Ge),Ue=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).props.fetchMembers(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return Object.keys(this.props.mailingLists).length<1?s.a.createElement(z.a,{title:"Verteiler"},s.a.createElement(Q.a,null)):(console.log(this.props.mailingLists),s.a.createElement(z.a,{title:"Verteiler"},s.a.createElement(J.a,null,s.a.createElement(Z.a,{className:"col-md-4"},s.a.createElement(X.a,{title:"Mitglieder"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{className:"form-control",readOnly:!0,value:this.props.mailingLists.all.join(";")})))),s.a.createElement(Z.a,{className:"col-md-4"},s.a.createElement(X.a,{title:"VKs"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{className:"form-control",readOnly:!0,value:this.props.mailingLists.vks.join(";")})))),s.a.createElement(Z.a,{className:"col-md-4"},s.a.createElement(X.a,{title:"Kader"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{className:"form-control",readOnly:!0,value:this.props.mailingLists.squad.join(";")}))))),s.a.createElement(J.a,null,s.a.createElement(Z.a,{className:"col-md-4"},s.a.createElement(X.a,{title:"Fahrer"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{className:"form-control",readOnly:!0,value:this.props.mailingLists.drivers.join(";")})))),s.a.createElement(Z.a,{className:"col-md-4"},s.a.createElement(X.a,{title:"Vorstand"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{className:"form-control",readOnly:!0,value:this.props.mailingLists.vst.join(";")})))))))}}]),t}(o.Component),ze=Object(b.b)(function(e){return{mailingLists:e.data.mailingLists}},function(e,t){return{fetchMembers:function(){e(g.a.fetchMembers())}}})(Ue),Ke=Object(b.b)(function(e){return{data:e.data.collectionPoints,title:"Abholpunkte",actions:[s.a.createElement(ne,{icon:"plus",to:"/draft/collection-points/add"})],viewLocation:"/collection-point/",tableColumns:[{text:"Abholpunkt",keys:["address","postcode","city"],link:!0,linkPrefix:"https://www.google.com/maps/place/",sortable:!0}]}},function(e){return{fetchData:function(){e(g.a.fetchCollectionPoints())}}})(ae.a),We=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={address:"",postcode:"",city:""},a.onInputChange=a.onInputChange.bind(Object(M.a)(Object(M.a)(a))),a.save=a.save.bind(Object(M.a)(Object(M.a)(a))),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(_e.a)({},n,a))}},{key:"save",value:function(e){if(e.preventDefault(),this.formEl){var t=this.formEl.checkValidity();return this.formEl.className="was-validated",t&&(this.props.save({postcode:this.state.postcode,address:this.state.address,city:this.state.city}),this.props.history.push("/draft/collection-points")),t}return!1}},{key:"render",value:function(){var e=this;return s.a.createElement(z.a,{title:"Abholpunkt Hinzuf\xfcgen"},s.a.createElement(J.a,null,s.a.createElement(Z.a,null,s.a.createElement(X.a,null,s.a.createElement("form",{ref:function(t){return e.formEl=t}},s.a.createElement("h5",null,"Addresse"),s.a.createElement("input",{type:"text",name:"address",id:"address",className:"form-control",value:this.state.address,onChange:this.onInputChange,required:!0}),s.a.createElement("br",null),s.a.createElement("h5",null,"PLZ"),s.a.createElement("input",{type:"text",minLength:4,maxLength:4,name:"postcode",id:"postcode",className:"form-control",value:this.state.postcode,onChange:this.onInputChange,required:!0}),s.a.createElement("br",null),s.a.createElement("h5",null,"Ort"),s.a.createElement("input",{type:"text",name:"city",id:"city",className:"form-control",value:this.state.city,onChange:this.onInputChange,required:!0}),s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.save},"Speichern"))))))}}]),t}(o.Component),qe=Object(b.b)(function(){},function(e){return{save:function(t){e(g.a.addCollectionPoint(t))}}})(We),Ye=function(e){function t(e,a){var n;return Object(p.a)(this,t),n=Object(d.a)(this,Object(h.a)(t).call(this,e,a)),Y.a.loadConfig(),n.store=Object(f.d)(j,Object(f.a)(S.a)),n.store.getState(),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(b.a,{store:this.store},s.a.createElement(I.a,null,s.a.createElement("div",{className:"body"},s.a.createElement(v.ToastContainer,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnHover:!0}),s.a.createElement(D,null),s.a.createElement(U,null),s.a.createElement(_.a,null,s.a.createElement(T.a,{exact:!0,path:"/",component:function(){return s.a.createElement(x.a,{to:"/login"})}}),s.a.createElement(T.a,{exact:!0,path:"/login",component:Ce}),s.a.createElement(T.a,{exact:!0,path:"/login?source=:source",component:Ce}),s.a.createElement(q,{exact:!0,path:"/dashboard",roles:[R.AUTHENTICATED],component:te}),s.a.createElement(q,{exact:!0,path:"/members",roles:[R.MEMBERS_READ],component:re}),s.a.createElement(q,{exact:!0,path:"/mailing-lists",roles:[R.MEMBERS_READ],component:ze}),s.a.createElement(q,{exact:!0,path:"/draft/collection-points",roles:[R.DRAFT_READ],component:Ke}),s.a.createElement(q,{exact:!0,path:"/draft/collection-points/add",roles:[R.DRAFT_EDIT,R.DRAFT_CREATE],component:qe}),s.a.createElement(q,{exact:!0,path:"/contact/:id",roles:[R.CONTACTS_READ],component:le}),s.a.createElement(q,{exact:!0,path:"/orders",roles:[R.ORDERS_READ],component:ce}),s.a.createElement(q,{exact:!0,path:"/order/:id",roles:[R.ORDERS_READ],component:ue}),s.a.createElement(q,{exact:!0,path:"/billing-reports",roles:[R.BILLINGREPORTS_READ,R.BILLINGREPORTS_CREATE],component:de}),s.a.createElement(q,{exact:!0,path:"/billing-reports/add",roles:[R.BILLINGREPORTS_CREATE],component:ye.a}),s.a.createElement(q,{exact:!0,path:"/billing-report/:id",roles:[R.BILLINGREPORTS_CREATE,R.BILLINGREPORTS_READ],component:Le}),s.a.createElement(q,{exact:!0,path:"/compensations",roles:[R.COMPENSATIONS_READ],component:ve}),s.a.createElement(q,{exact:!0,path:"/compensations/add",roles:[R.COMPENSATIONS_CREATE],component:Be}),s.a.createElement(q,{exact:!0,path:"/compensation/:id",roles:[R.COMPENSATIONS_READ],component:He}),s.a.createElement(q,{exact:!0,path:"/users",roles:[R.ADMIN],component:je}),s.a.createElement(q,{exact:!0,path:"/user/:id",roles:[R.ADMIN],component:Ie}),s.a.createElement(T.a,{path:"/*",component:Ve})))))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(Ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},19:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(3),r=a(4),i=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"loadConfig",value:function(){e.apiEndpoint="https://app.vkazu.ch"}},{key:"isModeProduction",value:function(){return e.isMode("production")}},{key:"isModeDev",value:function(){return e.isMode("development")}},{key:"isMode",value:function(e){return"production".toLowerCase()===e.toLowerCase()}}]),e}()},21:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(3),r=a(4),i=a(7),o=a(5),s=a(6),l=a(0),c=a.n(l),p=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"loading-animation "+(this.props.fullscreen?"fullscreen":"")},c.a.createElement("div",{className:"sk-folding-cube"},c.a.createElement("div",{className:"sk-cube1 sk-cube"}),c.a.createElement("div",{className:"sk-cube2 sk-cube"}),c.a.createElement("div",{className:"sk-cube4 sk-cube"}),c.a.createElement("div",{className:"sk-cube3 sk-cube"})))}}]),t}(l.Component)},33:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return v});var n=a(3),r=a(4),i=a(7),o=a(5),s=a(6),l=a(2),c=a(0),p=a.n(c),u=a(12),d=a(14),h=a(11),m=a(13),b=a(36),f=a(23),E=a(21),v=function(t){function a(t){var r;return Object(n.a)(this,a),(r=Object(i.a)(this,Object(o.a)(a).call(this,t))).props.data.loading||e(function(){r.props.fetchData()}),r.elementView=r.elementView.bind(Object(l.a)(Object(l.a)(r))),r.sortClick=r.sortClick.bind(Object(l.a)(Object(l.a)(r))),r}return Object(s.a)(a,t),Object(r.a)(a,[{key:"elementView",value:function(e){if(e.currentTarget.parentNode&&e.currentTarget.parentNode.parentNode&&e.currentTarget.parentNode.parentNode.parentElement){var t=e.currentTarget.parentNode.parentNode.parentElement.getAttribute("data-key");1==e.button?window.open(document.location.origin+this.props.viewLocation+t):this.props.history.push(this.props.viewLocation+t)}}},{key:"sortClick",value:function(e,t,a){this.props.onSort(t,a)}},{key:"textSearch",value:function(e){this.props.onSearch(e.target.value)}},{key:"renderTable",value:function(){if(this.props.data.loading)return p.a.createElement(E.a,null);var e={},t=!0,a=!1,n=void 0;try{for(var r,i=this.props.data.ids[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;e["_"+o]=this.props.data.byId[o]}}catch(s){a=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return p.a.createElement(b.a,{columns:this.props.tableColumns.concat([{text:"Actions",keys:["id"],content:p.a.createElement("div",{className:"btn-group"},p.a.createElement("button",{className:"btn btn-success view",onMouseUp:this.elementView},p.a.createElement(f.a,{icon:"eye"})),this.props.rowActions)}]),data:e,sortClick:this.sortClick,defaultSort:{keys:this.props.data.sort.keys,direction:this.props.data.sort.direction}})}},{key:"render",value:function(){var e=this;return p.a.createElement(u.a,{title:this.props.title},p.a.createElement(d.a,null,p.a.createElement(h.a,null,p.a.createElement(m.a,{actions:this.props.panelActions||[],title:p.a.createElement("input",{id:"search",defaultValue:this.props.data.filter,placeholder:"Search...",className:"float-right form-control form-control-sm",onChange:function(t){return e.textSearch(t)}})},this.renderTable()))))}}]),a}(c.Component)}).call(this,a(81).setImmediate)},36:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(109),r=a(3),i=a(4),o=a(7),s=a(5),l=a(6),c=a(2),p=a(0),u=a.n(p),d=a(23),h=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).sortClick=a.sortClick.bind(Object(c.a)(Object(c.a)(a))),a.props.defaultSort?a.state={sortKey:a.props.defaultSort.keys.join("-"),sortDirection:a.props.defaultSort.direction,data:a.props.data}:a.state={sortKey:"",sortDirection:"asc",data:a.props.data},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"sortClick",value:function(e){var t=e.target.dataset.key,a="asc";if(this.state.sortKey===t&&(a="asc"===this.state.sortDirection?"desc":"asc"),this.props.sortClick){var n=[t];t.indexOf("_")>-1&&(n=t.split("_"));var r={},i=!0,o=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var p=l.value;p&&(p.indexOf(".")>-1?r[p.split(".")[0]]=p.split(".")[1].split("-"):r=p.split("-"))}}catch(C){o=!0,s=C}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}this.props.sortClick(e,r,a),this.setState({sortKey:t,sortDirection:a})}else{var u=[];for(var d in this.props.data){var h=this.props.data[d],m=[],b=!0,f=!1,E=void 0;try{for(var v,y=t[Symbol.iterator]();!(b=(v=y.next()).done);b=!0){var O=v.value;O.indexOf("phone")>-1?m.push(h[O].replace(" ","")):m.push(h[O])}}catch(C){f=!0,E=C}finally{try{b||null==y.return||y.return()}finally{if(f)throw E}}u.push({id:d,value:m.join(" ").toLowerCase()})}u.sort(function(e,t){var n,r;return n=parseFloat(e.value),r=parseFloat(t.value),(isNaN(n)||isNaN(r))&&(n=e.value,r=t.value),n<r?"asc"===a?-1:1:n>r?"asc"===a?1:-1:0});for(var g={},k=0;k<u.length;k++){var N=u[k];g[N.id]=this.props.data[N.id]}this.setState({sortDirection:a,sortKey:t,data:g})}}},{key:"renderRows",value:function(){var e=this,t=[],a=function(a){var r=e.state.data[a],i=[],o=!0,s=!1,l=void 0;try{for(var c,p=function(){var e=c.value;if(e.content)i.push(u.a.createElement("td",null,e.content||""));else{var t=[];if(e.keys instanceof Array)t=e.keys.map(function(t){return r[t]instanceof Date?e.format?r[t][e.format]():r[t].toLocaleDateString():"boolean"===typeof r[t]?r[t]?"\u2713":"\u2a2f":r[t]});else{var a=function(a){t=t.concat(e.keys[a].map(function(t){return r[a][t]instanceof Date?e.format?r[a][t][e.format]():r[a][t].toLocaleDateString():"boolean"===typeof r[a][t]?r[a][t]?"\u2713":"\u2a2f":r[a][t]}))};for(var o in e.keys)a(o)}e.link?i.push(u.a.createElement("td",{key:r.id+(t.join(" ")||Math.random().toString())},u.a.createElement("a",{key:r.id+Object(n.a)(t||[Math.random().toString()]).concat(["a"]).join(" "),href:(e.linkPrefix?e.linkPrefix:"")+t.join(" "),target:"_blank"},(e.prefix?e.prefix:"")+t.join(" ")+(e.suffix?e.suffix:"")))):i.push(u.a.createElement("td",{key:r.id+(t.join(" ")||Math.random().toString())},(e.prefix?e.prefix:"")+t.join(" ")+(e.suffix?e.suffix:"")))}},d=e.props.columns[Symbol.iterator]();!(o=(c=d.next()).done);o=!0)p()}catch(h){s=!0,l=h}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}t.push(u.a.createElement("tr",{key:r.id,"data-key":r.id},i))};for(var r in this.state.data)a(r);return t}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"table-responsive"},u.a.createElement("table",{className:"table table-striped"},u.a.createElement("thead",{key:"table-head"},u.a.createElement("tr",null,this.props.columns.map(function(t){var a,n="";if(t.keys instanceof Array)n=t.keys.join("-");else for(var r in t.keys)n+="_"+r+"."+t.keys[r].join("-");return n===e.state.sortKey&&(a="asc"===e.state.sortDirection?u.a.createElement(d.a,{icon:"sort-down",className:"float-right"}):u.a.createElement(d.a,{icon:"sort-up",className:"float-right"})),t.sortable?u.a.createElement("th",{key:n,"data-key":n,scope:"col",onClick:e.sortClick,style:{cursor:"pointer"}},t.text,a):u.a.createElement("th",{key:n,"data-key":n,scope:"col"},t.text)}))),u.a.createElement("tbody",{key:"table-body"},this.renderRows())))}}]),t}(p.Component)},37:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(3),r=a(4),i=a(7),o=a(5),s=a(6),l=a(2),c=a(0),p=a.n(c),u=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).previousStep=a.previousStep.bind(Object(l.a)(Object(l.a)(a))),a.nextStep=a.nextStep.bind(Object(l.a)(Object(l.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"nextStep",value:function(){var e=!0;this.props.onNextStep&&(e=this.props.onNextStep()),e&&this.props.nextStep&&this.props.nextStep()}},{key:"previousStep",value:function(){this.props.onPreviousStep&&this.props.onPreviousStep(),this.props.previousStep&&this.props.previousStep()}},{key:"render",value:function(){var e="Weiter",t="btn btn-primary";return this.props.currentStep===this.props.totalSteps&&(e="Speichern",t="btn btn-success"),p.a.createElement("div",null,p.a.createElement("div",{className:"wizard-step-header"},p.a.createElement("h4",null,this.props.title)),p.a.createElement("div",{className:"wizard-step-body"},this.props.children),p.a.createElement("div",{className:"d-flex justify-content-between wizard-step-footer"},p.a.createElement("button",{className:"btn btn-secondary",onClick:this.previousStep},"Zur\xfcck"),p.a.createElement("button",{className:t,onClick:this.nextStep},e)))}}]),t}(c.Component)},38:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(3),r=a(4),i=a(7),o=a(5),s=a(6),l=a(0),c=a.n(l),p=a(8),u=a(46),d=a(10),h=function(e){function t(e){var a;if(Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).props.defaultValue instanceof Array){var r=[],s=!0,l=!1,c=void 0;try{for(var p,u=a.props.defaultValue[Symbol.iterator]();!(s=(p=u.next()).done);s=!0){var d=p.value;r.push({value:d.id.toString(),label:d.firstname+" "+d.lastname})}}catch(h){l=!0,c=h}finally{try{s||null==u.return||u.return()}finally{if(l)throw c}}a.state={value:r}}else a.state={};return a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.defaultValue instanceof Array){var t=[],a=!0,n=!1,r=void 0;try{for(var i,o=e.defaultValue[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var s=i.value;t.push({value:s.id.toString(),label:s.firstname+" "+s.lastname})}}catch(l){n=!0,r=l}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}this.setState({value:t})}}},{key:"componentWillMount",value:function(){this.props.members.ids.length<1&&this.props.fetchMembers()}},{key:"prepareOptions",value:function(){var e=[];if(Object.keys(this.props.members.byId).length>0)for(var t in this.props.members.byId){var a=this.props.members.byId[t];e.push({label:a.firstname+" "+a.lastname,value:t})}return e}},{key:"onChange",value:function(e){var t=[e];this.props.isMulti&&(t=e),this.setState({value:t});var a=[],n=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;a.push(this.props.members.byId[l.value])}}catch(c){r=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}this.props.onChange&&(this.props.isMulti?this.props.onChange(a):this.props.onChange(a[0]))}},{key:"prepareValue",value:function(){return this.props.isMulti?this.state.value||[]:(this.state.value||[])[0]}},{key:"render",value:function(){var e=this;return this.props.loading?null:c.a.createElement(u.a,{ref:function(t){e.props.ref&&e.props.ref(t)},isClearable:!0,options:this.prepareOptions(),backspaceRemovesValue:!0,hideSelectedOptions:!0,openMenuOnFocus:!0,isMulti:this.props.isMulti||!1,onChange:this.onChange.bind(this),value:this.prepareValue()})}}]),t}(l.Component),m=Object(d.b)(function(e,t){return{members:e.data.members,loading:e.data.members.loading}},function(e,t){return{fetchMembers:function(){e(p.a.fetchMembers())}}})(h)},57:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(3),r=a(4),i=a(7),o=a(5),s=a(6),l=a(0),c=a.n(l),p=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("span",{className:"switch switch-sm"},c.a.createElement("input",{id:this.props.id,type:"checkbox",className:"switch",checked:this.props.checked,onChange:this.props.onChange}),c.a.createElement("label",{htmlFor:"food"},this.props.label))}}]),t}(l.Component)},59:function(e,t,a){"use strict";a.d(t,"a",function(){return b});var n=a(28),r=a(3),i=a(4),o=a(7),s=a(5),l=a(6),c=a(2),p=a(0),u=a.n(p),d=a(36),h=a(37),m=a(38),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).onAdd=a.onAdd.bind(Object(c.a)(Object(c.a)(a))),a.onInputChange=a.onInputChange.bind(Object(c.a)(Object(c.a)(a))),a.onSelectChange=a.onSelectChange.bind(Object(c.a)(Object(c.a)(a))),a.removeTableItem=a.removeTableItem.bind(Object(c.a)(Object(c.a)(a))),a.validate=a.validate.bind(Object(c.a)(Object(c.a)(a))),a.state={tableEntries:{},vks:[],from:"",until:"",charge:!0},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"onAdd",value:function(e){if(e.preventDefault(),this.formEl){var t=this.state.tableEntries,a=this.formEl.checkValidity();if(this.formEl.className="was-validated",a&&(a=this.state.vks.length>0),a){var n=new Date("1970-01-01 "+this.state.from),r=(new Date("1970-01-01 "+this.state.until).getTime()-n.getTime())/1e3/60/60;r<0&&(r+=24);var i=!0,o=!1,s=void 0;try{for(var l,c=this.state.vks[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var p=l.value;t[p.id]={id:p.id,member:p,from:this.state.from,until:this.state.until,charge:this.state.charge,totalHours:r}}}catch(u){o=!0,s=u}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}this.setState({tableEntries:t,vks:[],from:"",until:"",charge:!0})}}}},{key:"onInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;this.setState(Object(n.a)({},r,a))}},{key:"onSelectChange",value:function(e){if(e){var t=e;this.setState({vks:t})}}},{key:"removeTableItem",value:function(e){if(e.currentTarget.parentNode&&e.currentTarget.parentNode.parentElement){var t=e.currentTarget.parentNode.parentElement.getAttribute("data-key");if(t){var a=this.state.tableEntries;delete a[t],this.setState({tableEntries:a})}}}},{key:"validate",value:function(){return Object.keys(this.state.tableEntries).length>0&&(this.props.onNext({vks:this.state.tableEntries}),!0)}},{key:"render",value:function(){var e=this;return u.a.createElement(h.a,Object.assign({title:"Einsatzzeiten",onNextStep:this.validate,onPreviousStep:this.props.onPrevious||function(){return!0}},this.props),u.a.createElement("form",{ref:function(t){return e.formEl=t}},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},u.a.createElement("h5",null,"VKs"),u.a.createElement(m.a,{onChange:this.onSelectChange,isMulti:!0,defaultValue:this.state.vks})),u.a.createElement("div",{className:"col-2"},u.a.createElement("h5",null,"Verrechnen"),u.a.createElement("span",{className:"switch switch-sm"},u.a.createElement("input",{type:"checkbox",className:"switch",id:"charge",name:"charge",checked:this.state.charge,onChange:this.onInputChange}),u.a.createElement("label",{htmlFor:"charge"})))),u.a.createElement("br",null),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},u.a.createElement("h5",null,"Von"),u.a.createElement("input",{type:"time",name:"from",value:this.state.from,onChange:this.onInputChange,className:"form-control",required:!0})),u.a.createElement("div",{className:"col"},u.a.createElement("h5",null,"Bis"),u.a.createElement("input",{type:"time",name:"until",value:this.state.until,onChange:this.onInputChange,className:"form-control",required:!0}))),u.a.createElement("br",null),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},u.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.onAdd},"Hinzuf\xfcgen")))),u.a.createElement("br",null),u.a.createElement("div",{className:"row"},u.a.createElement(d.a,{columns:[{text:"VK",keys:{member:["firstname","lastname"]}},{text:"Von",keys:["from"]},{text:"Bis",keys:["until"]},{text:"Anzahl Stunden",keys:["totalHours"]},{text:"Verrechnet",keys:["charge"]},{text:"Actions",keys:{member:["id"]},content:u.a.createElement("button",{className:"btn btn-danger",onClick:this.removeTableItem},"\u2a2f")}],defaultSort:{keys:["from"],direction:"asc"},data:this.state.tableEntries})))}}]),t}(p.Component)},8:function(e,t,a){"use strict";a.d(t,"b",function(){return d}),a.d(t,"a",function(){return h});var n=a(20),r=a.n(n),i=a(30),o=a(3),s=a(4),l=a(9),c=a(52),p=a.n(c),u=a(19),d={FETCH_USER:"fetch_user",GOT_USER:"got_user",FETCH_MEMBERS:"fetch_members",GOT_MEMBERS:"got_members",FETCH_RANKS:"fetch_ranks",GOT_RANKS:"got_ranks",FETCH_CONTACTS:"fetch_contacts",GOT_CONTACTS:"got_contacts",FETCH_ORDERS:"fetch_orders",GOT_ORDERS:"got_orders",FETCH_OPEN_ORDERS:"fetch_open_orders",GOT_OPEN_ORDERS:"got_open_orders",FETCH_BILLING_REPORTS:"fetch_billing_reports",GOT_BILLING_REPORTS:"got_billing_reports",ADD_BILLING_REPORT:"add_billing_report",APPROVE_BILLING_REPORT:"approve_billing_report",DECLINE_BILLING_REPORT:"decline_billing_report",EDIT_BILLING_REPORT:"edit_billing_report",FETCH_COMPENSATION_ENTRIES:"fetch_compensation_entries",GOT_COMPENSATION_ENTRIES:"got_compensation_entries",ADD_COMPENSATION_ENTRIES:"add_compensation_entries",ADD_COMPENSATION_ENTRY:"add_compensation_entry",APPROVE_COMPENSATION_ENTRY:"approve_compensation_entry",DECLINE_COMPENSATION_ENTRY:"dcline_compensation_entry",FETCH_USERS:"fetch_users",GOT_USERS:"got_users",FETCH_COLLECTION_POINTS:"fetch_collection_points",GOT_COLLECTION_POINTS:"got_collection_points",ADD_COLLECTION_POINT:"add_collection_point"},h=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"fetchUser",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.fetchFromApi(u.a.apiEndpoint+"/api/me",d.FETCH_USER,d.GOT_USER)}},{key:"fetchContacts",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.fetchFromApi(u.a.apiEndpoint+"/api/contacts",d.FETCH_CONTACTS,d.GOT_CONTACTS)}},{key:"fetchMembers",value:function(){return e.fetchFromApi(u.a.apiEndpoint+"/api/members",d.FETCH_MEMBERS,d.GOT_MEMBERS)}},{key:"fetchRanks",value:function(){return e.fetchFromApi(u.a.apiEndpoint+"/api/ranks",d.FETCH_RANKS,d.GOT_RANKS)}},{key:"fetchOrders",value:function(){return e.fetchFromApi(u.a.apiEndpoint+"/api/orders",d.FETCH_ORDERS,d.GOT_ORDERS)}},{key:"fetchOpenOrders",value:function(){return e.fetchFromApi(u.a.apiEndpoint+"/api/billing-reports/open",d.FETCH_OPEN_ORDERS,d.GOT_OPEN_ORDERS)}},{key:"fetchBillingReports",value:function(){return e.fetchFromApi(u.a.apiEndpoint+"/api/billing-reports",d.FETCH_BILLING_REPORTS,d.GOT_BILLING_REPORTS)}},{key:"addBillingReport",value:function(e){var t=this;return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,r){n({type:d.ADD_BILLING_REPORT}),p.a.put(u.a.apiEndpoint+"/api/billing-reports",e,{withCredentials:!0}).then(function(e){n({type:l.b.NOTIFICATION_SUCCESS,payload:"Gespeichert!"}),n(t.fetchBillingReports())}).catch(function(e){n({type:l.b.NOTIFICATION_ERROR,payload:"Ooopss....! Versuche es sp\xe4ter erneut"})})}));case 1:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"approveBillingReport",value:function(t){return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:d.APPROVE_BILLING_REPORT,payload:t}),a.abrupt("return",e.sendToApi("post",u.a.apiEndpoint+"/api/billing-reports/approve",{id:t},n,function(){n(e.fetchBillingReports())}));case 2:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"declineBillingReport",value:function(t){return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:d.DECLINE_BILLING_REPORT,payload:t}),a.abrupt("return",e.sendToApi("post",u.a.apiEndpoint+"/api/billing-reports/decline",{id:t},n,function(){n(e.fetchBillingReports())}));case 2:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"editBillingReport",value:function(t){return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n({type:d.EDIT_BILLING_REPORT}),e.sendToApi("post",u.a.apiEndpoint+"/api/billing-reports",t,n,function(){n(e.fetchBillingReports())});case 2:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"fetchCompensationEntries",value:function(){return e.fetchFromApi(u.a.apiEndpoint+"/api/compensations",d.FETCH_COMPENSATION_ENTRIES,d.GOT_COMPENSATION_ENTRIES)}},{key:"addCompensationEntriesForBillingReport",value:function(t){return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:d.ADD_COMPENSATION_ENTRIES}),a.abrupt("return",e.sendToApi("put",u.a.apiEndpoint+"/api/compensations/bulk",t,n,function(){n(e.fetchCompensationEntries()),n({type:l.b.NOTIFICATION_SUCCESS,payload:"Gespeichert!"})}));case 2:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"addCompensationEntry",value:function(t){return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:d.ADD_COMPENSATION_ENTRY}),a.abrupt("return",e.sendToApi("put",u.a.apiEndpoint+"/api/compensations",t,n,function(){n(e.fetchCompensationEntries())}));case 2:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"approveCompensationEntry",value:function(t){return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:d.APPROVE_COMPENSATION_ENTRY,payload:t}),a.abrupt("return",e.sendToApi("post",u.a.apiEndpoint+"/api/compensations/approve",{id:t},n,function(){n({type:l.b.NOTIFICATION_SUCCESS,payload:"Genehmigt!"}),n(e.fetchCompensationEntries())}));case 2:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"deleteCompensationEntry",value:function(t){return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:d.APPROVE_COMPENSATION_ENTRY,payload:t}),a.abrupt("return",e.sendToApi("delete",u.a.apiEndpoint+"/api/compensations",{id:t},n,function(){n({type:l.b.NOTIFICATION_SUCCESS,payload:"Gel\xf6scht!"}),n(e.fetchCompensationEntries())}));case 2:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"fetchUsers",value:function(){return e.fetchFromApi(u.a.apiEndpoint+"/api/users",d.FETCH_USERS,d.GOT_USERS)}},{key:"fetchCollectionPoints",value:function(){return e.fetchFromApi(u.a.apiEndpoint+"/api/collection-points",d.FETCH_COLLECTION_POINTS,d.GOT_COLLECTION_POINTS)}},{key:"addCollectionPoint",value:function(e){var t=this;return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,r){n({type:d.ADD_COLLECTION_POINT}),p.a.put(u.a.apiEndpoint+"/api/collection-points",e,{withCredentials:!0}).then(function(e){n({type:l.b.NOTIFICATION_SUCCESS,payload:"Gespeichert!"}),n(t.fetchCollectionPoints())}).catch(function(e){n({type:l.b.NOTIFICATION_ERROR,payload:"Ooopss....! Versuche es sp\xe4ter erneut"})})}));case 1:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"fetchFromApi",value:function(t,a,n){return function(){var o=Object(i.a)(r.a.mark(function i(o){return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(r,i){o({type:a}),p.a.get(t,{withCredentials:!0}).then(function(t){var a=e.deepParser(t.data);r(o({type:n,payload:a}))}).catch(function(e){console.log(e),e.response&&401===e.response.status?o({type:l.b.NOTIFICATION_ERROR,payload:"Permission denied!"}):o({type:l.b.NOTIFICATION_ERROR,payload:"Ooopss....! Versuche es sp\xe4ter erneut"}),r(o({type:n,payload:{}}))})}));case 1:case"end":return r.stop()}},i,this)}));return function(e){return o.apply(this,arguments)}}()}},{key:"sendToApi",value:function(t,a,n,r,i){return new Promise(function(o,s){p()({method:t,url:a,data:n,withCredentials:!0}).then(function(t){e.deepParser(t.data);i(),o()}).catch(function(e){console.log(e),e.response&&401===e.response.status?r({type:l.b.NOTIFICATION_ERROR,payload:"Permission denied!"}):r({type:l.b.NOTIFICATION_ERROR,payload:"Ooopss....! Versuche es sp\xe4ter erneut"})})})}},{key:"deepParser",value:function(t){if(t instanceof Array||"object"===typeof t){for(var a in t)t[a]=e.deepParser(t[a]);return t}return/([0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T(2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9].[0-9][0-9][0-9]Z|[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]))/.test(t)?new Date(t):t}}]),e}()},9:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return o});var n=a(3),r=a(4),i={NAVIBAR_TOGGLE:"navibar_toggle",NAVIBAR_OPEN:"navibar_open",NAVIBAR_CLOSE:"navibar_close",NAVIBAR_LEVEL_OPEN:"navibar_level_open",NAVIBAR_LEVEL_COLLAPSE:"navibar_level_collapse",SEARCH_MEMBERS:"search_contacts",SORT_MEMBERS:"sort_members",SEARCH_ORDERS:"search_orders",SORT_ORDERS:"sort_orders",SEARCH_BILLING_REPORTS:"search_billing_reports",SORT_BILLING_REPORTS:"sort_billing_reports",SEARCH_COMPENSATION_ENTRIES:"search_compensation_entries",SORT_COMPENSATION_ENTRIES:"sort_compensation_entries",SEARCH_USERS:"search_users",SORT_USERS:"sort_users",NOTIFICATION_SUCCESS:"notification_success",NOTIFICATION_ERROR:"notification_error"},o=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"toggleNavibar",value:function(){return{type:i.NAVIBAR_TOGGLE}}},{key:"openNavibar",value:function(){return{type:i.NAVIBAR_OPEN}}},{key:"closeNavibar",value:function(){return{type:i.NAVIBAR_CLOSE}}},{key:"openNavibarLevel",value:function(e){return{type:i.NAVIBAR_LEVEL_OPEN,payload:e}}},{key:"collapseNavibarLevel",value:function(){return{type:i.NAVIBAR_LEVEL_COLLAPSE}}},{key:"searchMembers",value:function(e){return{type:i.SEARCH_MEMBERS,payload:e}}},{key:"sortMembers",value:function(e,t){return{type:i.SORT_MEMBERS,payload:{keys:e,direction:t}}}},{key:"searchOrders",value:function(e){return{type:i.SEARCH_ORDERS,payload:e}}},{key:"sortOrders",value:function(e,t){return{type:i.SORT_ORDERS,payload:{keys:e,direction:t}}}},{key:"searchBillingReports",value:function(e){return{type:i.SEARCH_BILLING_REPORTS,payload:e}}},{key:"sortBillingReports",value:function(e,t){return{type:i.SORT_BILLING_REPORTS,payload:{keys:e,direction:t}}}},{key:"searchCompensationEntries",value:function(e){return{type:i.SEARCH_COMPENSATION_ENTRIES,payload:e}}},{key:"sortCompensationEntries",value:function(e,t){return{type:i.SORT_COMPENSATION_ENTRIES,payload:{keys:e,direction:t}}}},{key:"searchUsers",value:function(e){return{type:i.SEARCH_COMPENSATION_ENTRIES,payload:e}}},{key:"sortUsers",value:function(e,t){return{type:i.SORT_COMPENSATION_ENTRIES,payload:{keys:e,direction:t}}}},{key:"showError",value:function(e){return{type:i.NOTIFICATION_ERROR,payload:e}}},{key:"showSuccess",value:function(e){return{type:i.NOTIFICATION_SUCCESS,payload:e}}}]),e}()}},[[110,2,1]]]);
//# sourceMappingURL=main.8b2acfea.chunk.js.map