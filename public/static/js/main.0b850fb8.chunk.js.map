{"version":3,"sources":["views/AddBillingReportSteps/AddBillingReportStep2.tsx","interfaces/AuthRoles.ts","components/Column.tsx","components/Panel.tsx","actions/UIActions.ts","components/Swipe.tsx","components/Header.tsx","components/NavibarElement.tsx","components/NavibarLevelHeader.tsx","components/Navibar.tsx","components/Page.tsx","views/AddBillingReport.tsx","components/WizardNav.tsx","views/AddBillingReportSteps/AddBillingReportStep1.tsx","views/AddBillingReportSteps/AddBillingReportStep3.tsx","Config.ts","views/AddBillingReportSteps/AddBillingReportStep4.tsx","components/Row.tsx","components/Button.tsx","components/Loading.tsx","components/Table.tsx","components/DataList.tsx","fontawesome_init.ts","reducers/UIReducer.ts","reducers/DataReducer.ts","reducers/IndexReducer.ts","entities/Logoff.ts","components/Errors/403.tsx","components/SecureRoute.tsx","components/ContactCompensation.tsx","components/ContactLogoffs.tsx","views/Dashboard.tsx","components/Action.tsx","views/Members.tsx","components/FormEntry.tsx","entities/Base.ts","entities/CollectionPoint.ts","components/CollectionPointSelect.tsx","views/Contact.tsx","views/Orders.tsx","views/Order.tsx","views/BillingReports.tsx","components/Modal.tsx","views/Compensations.tsx","views/Login.tsx","views/Users.tsx","views/User.tsx","components/OrderSelect.tsx","views/BillingReport.tsx","views/AddCompensation.tsx","entities/Compensation.ts","components/Errors/404.tsx","views/Compensation.tsx","views/MailingLists.tsx","views/CollectionPoints.tsx","views/AddCollectionPoint.tsx","views/Payouts.tsx","views/Payout.tsx","views/PayoutMember.tsx","views/AddPayout.tsx","views/Logoffs.tsx","views/Logoff.tsx","views/AddLogoff.tsx","Root.tsx","Store.ts","serviceWorker.js","index.tsx","components/Input.tsx","components/MemberSelect.tsx","components/WizardStep.tsx","actions/DataActions.ts","components/Checkbox.tsx"],"names":["AddBillingReportStep2","props","_this","Object","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","onAdd","bind","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","onInputChange","onSelectChange","removeTableItem","validate","state","tableEntries","vks","from","until","charge","event","preventDefault","formEl","selection","valid","checkValidity","className","length","Date","totalHours","getTime","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","i","value","Math","round","random","id","member","err","return","setState","target","type","checked","name","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","opt","optlet","currentTarget","parentNode","parentElement","getAttribute","entries","replace","keys","onNext","_this2","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","_components_WizardStep__WEBPACK_IMPORTED_MODULE_11__","assign","title","onNextStep","onPreviousStep","onPrevious","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee2","wrap","_context2","prev","abrupt","stop","ref","form","_components_MemberSelect__WEBPACK_IMPORTED_MODULE_12__","onChange","isMulti","defaultValue","htmlFor","required","onClick","_components_Table__WEBPACK_IMPORTED_MODULE_10__","columns","text","sortable","format","content","defaultSort","direction","data","Component","AuthRoles","__webpack_require__","d","__webpack_exports__","Column","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","indexOf","react__WEBPACK_IMPORTED_MODULE_5___default","children","Panel","header","actions","React","isValidElement","map","el","concat","scrollable","UIActions","NAVIBAR_TOGGLE","NAVIBAR_OPEN","NAVIBAR_CLOSE","NAVIBAR_LEVEL_OPEN","NAVIBAR_LEVEL_COLLAPSE","NOTIFICATION_SUCCESS","NOTIFICATION_ERROR","LOGOUT","UI","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","key","payload","message","_ref","_callee","dispatch","_context","push","_x","apply","arguments","Swipe","classCallCheck","possibleConstructorReturn","getPrototypeOf","scrolling","minThreshold","maxThreshold","minDurationThreshold","maxDurationThreshold","onStart","assertThisInitialized","onMove","onEnd","onScroll","capturing","start","x","y","clientX","mouseMove","touches","clientY","startTime","current","end","fireRunningEvents","calculateDirection","changedTouches","endTime","fireFinishEvents","scrollTimeout","clearTimeout","setTimeout","abs","duration","swipedUp","swipedRight","swipedDown","swipedLeft","swipingUp","swipingRight","swipingDown","swipingLeft","react_default","onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onMouseMove","onMouseUp","_Header","_Component","inherits","createClass","open","user","displayName","index_es","icon","Header","connect","ui","navibar_open","toggleNavibar","_NavibarElement","level","onClose","CurrentDevice","mobile","to","match","href","NavLink","exact","activeClassName","leftIcon","rightIcon","renderLinkElement","NavibarElement","withRouter","collapseNavibarLevel","_NavibarLevelHeader","open_level","onOpen","openClass","toString","Children","child","cloneElement","NavibarLevelHeader","navibar_level","openNavibarLevel","_Navibar","element","roles","role","includes","ADMIN","renderElement","AUTHENTICATED","MEMBERS_READ","DRAFT_READ","LOGOFFS_READ","ORDERS_READ","BILLINGREPORTS_CREATE","BILLINGREPORTS_READ","COMPENSATIONS_CREATE","COMPENSATIONS_READ","PAYOUTS_READ","Config","apiEndpoint","Navibar","pure","_Page","openNavibar","closeNavibar","Swipe_Swipe","Page","_AddBillingReport","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","save","setImmediate","fetchOpenOrders","fetchMembers","els","drivers","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__","_save","compensationEntries","orderId","order","date","food","remarks","creatorId","history","loading","_components_Page__WEBPACK_IMPORTED_MODULE_10__","_components_Loading__WEBPACK_IMPORTED_MODULE_21__","_components_Row__WEBPACK_IMPORTED_MODULE_11__","_components_Column__WEBPACK_IMPORTED_MODULE_12__","_components_Panel__WEBPACK_IMPORTED_MODULE_13__","react_step_wizard__WEBPACK_IMPORTED_MODULE_8___default","nav","_components_WizardNav__WEBPACK_IMPORTED_MODULE_16__","_AddBillingReportSteps_AddBillingReportStep1__WEBPACK_IMPORTED_MODULE_17__","openOrders","_AddBillingReportSteps_AddBillingReportStep2__WEBPACK_IMPORTED_MODULE_18__","_AddBillingReportSteps_AddBillingReportStep3__WEBPACK_IMPORTED_MODULE_19__","_AddBillingReportSteps_AddBillingReportStep4__WEBPACK_IMPORTED_MODULE_20__","firstname","lastname","driver","AddBillingReport","members","ids","Data","addBillingReport","WizardNav","steps","totalSteps","classes","currentStep","renderSteps","AddBillingReportStep1","options","byId","contact","documentNr","parseInt","_components_WizardStep__WEBPACK_IMPORTED_MODULE_10__","renderOptions","AddBillingReportStep3","onELChange","onDriversChange","stateName","elSelect","_this3","select","driversSelect","_components_Checkbox__WEBPACK_IMPORTED_MODULE_11__","label","window","location","protocol","host","isMode","mode","process","toLowerCase","AddBillingReportStep4","_components_WizardStep__WEBPACK_IMPORTED_MODULE_6__","toLocaleDateString","_components_Table__WEBPACK_IMPORTED_MODULE_7__","join","Row","Button","react__WEBPACK_IMPORTED_MODULE_8___default","react_bootstrap__WEBPACK_IMPORTED_MODULE_9__","viewBox","fillOpacity","attributeName","dur","repeatCount","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__","nextProps","prevState","Loading","fullscreen","Table","sortClick","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","search","onColumnDataChange","sortKey","sortDirection","searchableKeys","genSearchKeys","filter","defaultFilter","filters","columnKey","newly","column","find","colKey","Array","k","prevProps","table","obj","filterKey","goDownFilterKey","RegExp","test","filterId","f","matches","index","maxIndex","currentFilter","compareableData","filterMatcher","matchedKeys","result","forEach","genSortKeys","prepared","sortValues","b","sort","aValue","bValue","parseFloat","isNaN","sorted","_i","_prepared","split","finalKeys","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","dataKey","dataset","onSort","searchKeys","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","searchable","searchString","record","searchableString","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","hasOwnProperty","renderColumnValues","param","command","_this4","rows","onDataChange","_loop","dataEntry","row","checkable","react__WEBPACK_IMPORTED_MODULE_6___default","style","width","_components_Checkbox__WEBPACK_IMPORTED_MODULE_8__","onCheck","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_loop3","tdKey","_loop4","link","linkPrefix","prefix","suffix","editable","_Input__WEBPACK_IMPORTED_MODULE_9__","_iterator7","trKey","data-key","addNew","newRow","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_loop2","_iterator6","_this5","sortIndicator","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__","scope","cursor","renderRows","DataList","fetchData","elementView","textSearch","onFilter","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","button","document","origin","viewLocation","nextState","onSearch","activeFilter","activeFilterComponents","filterComponents","Fragment","react_bootstrap__WEBPACK_IMPORTED_MODULE_14__","react_bootstrap__WEBPACK_IMPORTED_MODULE_15__","variant","active","_Loading__WEBPACK_IMPORTED_MODULE_13__","dataById","_components_Table__WEBPACK_IMPORTED_MODULE_11__","tableColumns","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_12__","rowActions","_components_Page__WEBPACK_IMPORTED_MODULE_7__","_components_Row__WEBPACK_IMPORTED_MODULE_8__","_components_Column__WEBPACK_IMPORTED_MODULE_9__","_components_Panel__WEBPACK_IMPORTED_MODULE_10__","panelActions","react_bootstrap__WEBPACK_IMPORTED_MODULE_16__","renderFilters","additionalTitleStuff","placeholder","renderTable","library","add","fab","faUserTimes","faCheckCircle","faFileInvoiceDollar","faFileWord","faFilePdf","faExternalLinkAlt","faFileExcel","faPowerOff","faTrash","faSave","faAddressBook","faMapMarkerAlt","faDownload","faClipboard","faBars","faTachometerAlt","faUsers","faCircleNotch","faTimes","faCheck","faSortUp","faSortDown","faPencilAlt","faFileAlt","faEye","faFileSignature","faPlus","faList","faDollarSign","faUser","faAngleDown","faAngleUp","faMailBulk","combineReducers","action","notification","toast","success","autoClose","position","error","IndexReducer","UIReducer","logoffs","DataActions","FETCH_LOGOFFS","GOT_LOGOFFS","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","logoff","APPROVE_LOGOFF","approved","DECLINE_LOGOFF","payouts","FETCH_PAYOUTS","GOT_PAYOUTS","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","entry","byMember","compensations","compensation","billingReport","description","compensationsByMember","totalWithoutMinus","total","comp","amount","reduce","_iterator11","collectionPoints","FETCH_COLLECTION_POINTS","GOT_COLLECTION_POINTS","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","FETCH_USER","GOT_USER","users","FETCH_USERS","GOT_USERS","contacts","FETCH_CONTACTS","GOT_CONTACTS","FETCH_MEMBERS","GOT_MEMBERS","ranks","FETCH_RANKS","GOT_RANKS","rank","orders","FETCH_ORDERS","GOT_ORDERS","FETCH_OPEN_ORDERS","GOT_OPEN_ORDERS","billingReports","FETCH_BILLING_REPORTS","GOT_BILLING_REPORTS","report","APPROVE_BILLING_REPORT","status","FETCH_COMPENSATION_ENTRIES","GOT_COMPENSATION_ENTRIES","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","APPROVE_COMPENSATION_ENTRY","DELETE_COMPENSATION_ENTRY","mailingLists","all","squad","vst","con","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","mail","mailSecond","moreMails","contactGroups","group","bexioId","LogoffState","Error403","_SecureRoute","Route","path","component","showError","Redirect","pathname","prevLocation","SecureRoute","_ContactCompensation","compensationView","openCompensationsSum","getContactCompensations","paied","react_fontawesome_index_es","bexioContact","toFixed","ContactCompensation","fetchCompensationEntries","_ContactLogoff","logoffView","getContactLogoffs","ContactLogoff","fetchLogoffs","_Dashboard","fetchUser","shortcuts","Link","renderShortcuts","renderCompensations","renderLogoffs","Dashboard","Action","disabled","components_Button","_Members","excelExport","_excelExport","asyncToGenerator","regenerator_default","membersAsArray","germanizedMember","sheet","book","Nachname","Vorname","Rang","Funktionen","functions","Geburtstag","birthday","Adresse","address","postcode","city","Abholpunkt","E-Mail","E-Mail 2","Festnetz","phoneFixed","Mobile","phoneMobile","collectionPoint","Xlsx","utils","json_to_sheet","book_new","book_append_sheet","writeFile","objectSpread","Action_Action","memberlistPdf","toConsumableArray","Members","fetchRanks","_memberlistPdf","FormEntry","Input","renderChildren","Base","CollectionPoint","_CollectionPointSelect","valueProps","JSON","stringify","fetchCollectionPoints","ops","o","react_select_esm","isClearable","prepareOptions","backspaceRemovesValue","hideSelectedOptions","openMenuOnFocus","prepareValue","CollectionPointSelect","_Contact","groups","loadContacts","onSave","onAbort","renderCollectionPoint","renderPanelActions","onMoreMailsChange","entryDate","exitDate","bankName","iban","accountHolder","defineProperty","slice","editMember","collectionPointId","opts","multi","MEMBERS_EDIT","CONTACTS_EDIT","_callee3","_context3","isAdmin","CONTACTS_READ","params","_403_Error403","FormEntry_FormEntry","phoneFixedSecond","removeMoreMailEntry","renderActions","Contact","fetchContacts","Orders","now","fetchOrders","_Order","loadOrders","positionsRendered","positions","pos","dangerouslySetInnerHTML","__html","positionTotal","execDates","deliveryAddress","renderPositions","Order","BillingReports","creator","fetchBillingReports","Modal","handleClose","onHide","esm_Modal","show","dialogClassName","closeButton","Body","body","Footer","footer","_Compensations","deleteCompensation","deleteCompensationConfirmed","showModal","hideModal","modalShow","toDeleteCompensation","delete","Modal_Modal","ButtonGroup","renderModal","Compensations","deleteCompensationEntry","_Login","mounted","loaded","_componentDidMount","_componentWillUnmount","showSuccess","errorShown","Login","Users","fetchUsers","_User","renderRolePart","renderBexioPart","User","_OrderSelect","OrderSelect","_BillingReport","approve","decline","onInformationEdit","onInformationSave","getCompensationActions","addCompensations","informationEdit","_onInformationEdit","_onAbort","_x2","_onInformationSave","edit","_x3","_elementView","_callee4","_id","_context4","_x4","_deleteCompensation","_callee5","_id2","_context5","_x5","_deleteCompensationConfirmed","_callee6","_context6","_addCompensations","_callee7","_context7","addCompensationEntries","billingReportId","_x6","_showModal","_callee8","_context8","_hideModal","_callee9","_context9","BILLINGREPORTS_APPROVE","block","MemberSelect","statusBadgeClass","BILLINGREPORTS_EDIT","renderOrder","toISOString","renderEls","renderDrivers","renderCompensationDeletionModal","renderCompensationsAddModal","renderInformations","prepareCompensationsForTable","BillingReport","approveBillingReport","declineBillingReport","editBillingReport","_deleteCompensation2","_callee10","_context10","then","_x7","addCompensationEntriesForBillingReport","_AddCompensation","_onSave","prepareMembers","step","AddCompensation","addCompensationEntry","Compensation","payout","Error404","src","_Compensation","renderBillingReport","fetchCompensations","react","CompensationEntity","isOrderBased","toLocaleTimeString","compensationIds","_404_Error404","isCustom","bexioBill","transferCompensation","approveCompensationEntry","_MailingLists","navigator","permissions","query","clipboard","writeText","catch","console","copy","log","readOnly","addCopy","MailingLists","CollectionPoints","_AddCollectionPoint","minLength","maxLength","AddCollectionPoint","addCollectionPoint","Payouts","fetchPayouts","_Payout","showMailModal","showBexioModal","sendMails","sendToBexio","reclaim","transfer","modalType","selected","_showMailModal","_showBexioModal","_sendMails","_sendToBexio","_reclaim","_transfer","newId","records","getBankingXml","Payout","downloader","blob","filename","url","URL","createObjectURL","download","appendChild","click","removeChild","payoutId","memberIds","sendPayoutMails","reclaimPayout","_getBankingXml","sendToApi","sent","Blob","_PayoutMember","memberPdf","PayoutMember","memberId","revokeObjectURL","_memberPdf","responseType","_AddPayout","AddPayout","addPayout","_Logoffs","deleteLogoff","deleteLogoffConfirmed","getFilters","onTableDataChange","today","setHours","tableData","toDeleteLogoff","logoffsArray","addDays","days","setDate","getDate","logoffDates","l","dates","currentDate","arr","val","self","memberLogoffs","AbholpunktAdresse","getHours","getMinutes","InputGroup","size","Prepend","Text","Logoffs","_Logoff","PENDING","_this$props$logoff","_this$props$logoff$ch","logoffIds","APPROVED","DECLINED","toLocaleString","createdBy","changedStateBy","Logoff","approveLogoff","declineLogoff","_AddLogoff","onLogoffChange","onNotifyChange","notify","AddLogoff","addLogoffs","Root","loadConfig","createBrowserHistory","basename","store","createStore","router","connectRouter","composeWithDevTools","applyMiddleware","thunkMiddleware","routerMiddleware","getState","es","lib","hideProgressBar","newestOnTop","closeOnClick","rtl","draggable","pauseOnHover","esm","Switch","MAILING_LISTS","DRAFT_EDIT","DRAFT_CREATE","LOGOFFS_CREATE","PAYOUTS_CREATE","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","Root_Root","getElementById","addEventListener","fetch","response","contentType","headers","get","ready","unregister","reload","checkValidServiceWorker","_Checkbox__WEBPACK_IMPORTED_MODULE_6__","aria-describedby","react_datepicker__WEBPACK_IMPORTED_MODULE_7___default","allowSameDay","dateFormat","disabledKeyboardNavigation","showTimeSelect","timeFormat","shouldCloseOnSelect","option","_MemberSelect","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","react_select__WEBPACK_IMPORTED_MODULE_7__","WizardStep","previousStep","nextStep","renderBackButton","_Button__WEBPACK_IMPORTED_MODULE_9__","nextButtonText","nextButtonClasses","EDIT_MEMBER","ADD_BILLING_REPORT","DECLINE_BILLING_REPORT","EDIT_BILLING_REPORT","ADD_COMPENSATION_ENTRIES","ADD_COMPENSATION_ENTRY","DECLINE_COMPENSATION_ENTRY","ADD_COLLECTION_POINT","ADD_PAYOUT","SENDING_PAYOUTS_MAILS","SENT_PAYOUTS_MAILS","SENDING_PAYOUTS_BEXIO","SENT_PAYOUTS_BEXIO","ADD_LOGOFFS","ADD_LOGOFF","DELETE_LOGOFF","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__","fetchFromApi","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_x8","_ref9","_x9","_ref10","Promise","resolve","reject","_x10","_ref11","_callee11","_context11","_x11","_ref12","_callee12","_context12","_x12","_ref13","_callee13","_context13","_x13","_ref14","_callee14","_context14","_x14","_ref15","_callee15","_context15","_x15","_ref16","_callee16","_context16","_x16","_ref17","_callee17","_context17","_x17","_ref18","_callee18","_context18","_x18","_ref19","_callee19","_context19","_x19","route","fetchAction","gotAction","_ref20","_callee20","_context20","getFromApi","_x20","_getFromApi","_callee21","_context21","axios","withCredentials","deepParser","t0","logout","_x21","_x22","method","callback","axiosSettings","deepParse","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","timeout","Checkbox"],"mappings":"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","file":"static/js/main.0b850fb8.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport Table from \"../../components/Table\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport WizardStep from \"../../components/WizardStep\";\nimport { BillingReportCompensationEntry } from \"../../interfaces/BillingReport\";\nimport Contact from \"../../entities/Contact\";\nimport { MemberSelect } from \"../../components/MemberSelect\";\n\nexport interface Step2Props {\n    onNext: (data: StringIndexed<any>) => void,\n    onPrevious?: () => Promise<boolean>\n}\n\nexport default class AddBillingReportStep2 extends Component<Step2Props, { tableEntries: StringIndexed<BillingReportCompensationEntry>, vks: Array<Contact>, from: string, until: string, charge: boolean }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: Step2Props) {\n        super(props)\n        this.onAdd = this.onAdd.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.removeTableItem = this.removeTableItem.bind(this)\n        this.validate = this.validate.bind(this)\n\n        this.state = {\n            tableEntries: {},\n            vks: [],\n            from: '',\n            until: '',\n            charge: true\n        }\n    }\n\n    private onAdd(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (this.formEl) {\n            let selection = this.state.tableEntries\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                valid = this.state.vks.length > 0\n            }\n\n            if (valid) {\n                let from = new Date(\"01/01/1970 \" + this.state.from)\n                let until = new Date(\"01/01/1970 \" + this.state.until)\n                let totalHours = (until.getTime() - from.getTime()) / 1000 / 60 / 60\n\n                if (totalHours < 0) totalHours = totalHours + 24\n\n                for (let i of this.state.vks) {\n                    let id = Math.round(Math.random() * 100000)\n                    selection[id] = {\n                        id: i.id,\n                        member: i,\n                        from: from,\n                        until: until,\n                        charge: this.state.charge,\n                        totalHours: totalHours\n                    }\n                }\n\n                this.setState({\n                    tableEntries: selection,\n                    vks: [],\n                    from: '',\n                    until: '',\n                    charge: true\n                })\n            }\n        }\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private onSelectChange(opt: Contact) {\n        if (opt) {\n            let optlet: Array<Contact> = (opt as any) as Array<Contact>\n            this.setState({\n                vks: optlet\n            })\n        }\n    }\n\n    private removeTableItem(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentElement.getAttribute('data-key')\n\n            if (id) {\n                let entries = this.state.tableEntries\n                delete entries[id.replace('_', '')]\n                this.setState({\n                    tableEntries: entries\n                })\n            }\n        }\n    }\n\n    private async validate(): Promise<boolean> {\n        if (Object.keys(this.state.tableEntries).length > 0) {\n            this.props.onNext({\n                vks: this.state.tableEntries\n            })\n\n            return true\n        }\n\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Einsatzzeiten\" onNextStep={this.validate} onPreviousStep={this.props.onPrevious || async function () { return true }} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form}>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <h5>VKs</h5>\n                            <MemberSelect\n                                onChange={this.onSelectChange}\n                                isMulti={true}\n                                defaultValue={this.state.vks}\n                            />\n                        </div>\n                        <div className=\"col-2\">\n                            <h5>Verrechnen</h5>\n                            <span className=\"switch switch-sm\">\n                                <input type=\"checkbox\" className=\"switch\" id=\"charge\" name=\"charge\" checked={this.state.charge} onChange={this.onInputChange} />\n                                <label htmlFor=\"charge\"></label>\n                            </span>\n                        </div>\n                    </div>\n                    <br></br>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <h5>Von</h5>\n                            <input type=\"time\" name=\"from\" value={this.state.from} onChange={this.onInputChange} className='form-control' required={true} />\n                        </div>\n                        <div className=\"col\">\n                            <h5>Bis</h5>\n                            <input type=\"time\" name=\"until\" value={this.state.until} onChange={this.onInputChange} className='form-control' required={true} />\n                        </div>\n                    </div>\n                    <br></br>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <button className=\"btn btn-primary btn-block\" onClick={this.onAdd}>Hinzufügen</button>\n                        </div>\n                    </div>\n                </form>\n                <br></br>\n                <div className=\"row\">\n                    <Table<BillingReportCompensationEntry>\n                        columns={[\n                            { text: 'VK', keys: { 'member': ['firstname', 'lastname'] }, sortable: true },\n                            { text: 'Von', keys: ['from'], format: 'toLocaleTimeString', sortable: true },\n                            { text: 'Bis', keys: ['until'], format: 'toLocaleTimeString', sortable: true },\n                            { text: 'Anzahl Stunden', keys: ['totalHours'], sortable: true },\n                            { text: 'Verrechnet', keys: ['charge'], sortable: true },\n                            { text: 'Actions', keys: ['id'], content: <button className=\"btn btn-danger\" onClick={this.removeTableItem}>⨯</button> }\n                        ]}\n                        defaultSort={{ keys: ['from'], direction: 'asc' }}\n                        data={this.state.tableEntries}\n                    />\n                </div>\n            </WizardStep >\n        )\n    }\n}","export enum AuthRoles {\n    AUTHENTICATED = 'authenticated',\n\n    CONTACTS_READ = 'contacts_read',\n    CONTACTS_EDIT = 'contacts_edit',\n\n    MEMBERS_READ = 'members_read',\n    MEMBERS_EDIT = 'members_edit',\n\n    MAILING_LISTS = 'mailing_lists',\n\n    RANKS_READ = 'ranks_read',\n    RANKS_EDIT = 'ranks_edit',\n\n    ORDERS_READ = 'orders_read',\n    ORDERS_EDIT = 'orders_edit',\n\n    COMPENSATIONS_READ = 'compensations_read',\n    COMPENSATIONS_CREATE = 'compensations_create',\n    COMPENSATIONS_EDIT = 'compensations_edit',\n    COMPENSATIONS_APPROVE = 'compensations_approve',\n\n    BILLINGREPORTS_READ = 'billingreports_read',\n    BILLINGREPORTS_CREATE = 'billingreports_create',\n    BILLINGREPORTS_EDIT = 'billingreports_edit',\n    BILLINGREPORTS_APPROVE = 'billingrepors_approve',\n\n    DRAFT_READ = 'draft_read',\n    DRAFT_CREATE = 'draft_create',\n    DRAFT_EDIT = 'draft_edit',\n\n    PAYOUTS_READ = 'payouts_read',\n    PAYOUTS_CREATE = 'payouts_create',\n    PAYOUTS_SEND = 'payouts_send',\n\n    LOGOFFS_READ = 'logoffs_read',\n    LOGOFFS_CREATE = 'logoffs_create',\n    LOGOFFS_EDIT = 'logoffs_edit',\n    LOGOFFS_APPROVE = 'logoffs_approve',\n\n    ADMIN = 'admin'\n}","import React, { Component } from \"react\";\n\nexport default class Column extends Component<{ className?: string }> {\n    private className = 'col'\n\n    constructor(props: { className?: string }) {\n        super(props)\n\n        if (this.props.className && this.props.className.indexOf('col') > -1) {\n            this.className = this.props.className\n        } else if (this.props.className) {\n            this.className += ' ' + this.props.className\n        }\n    }\n\n    public render() {\n        return (\n            <div className={this.className}>\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\"\n\nexport default class Panel extends Component<{ title?: string | React.ReactNode, actions?: Array<any>, className?: string, scrollable?: boolean }> {\n    public render() {\n        let header\n        let actions = this.props.actions || []\n\n        if (this.props.title) {\n            if (this.props.title && React.isValidElement(this.props.title)) {\n                header = <div className=\"panel-header d-flex align-items-center\">{this.props.title}\n                    <div className=\"panel-actions\">\n                        {actions.map(el => el)}\n                    </div>\n                </div>\n            } else {\n                header = <div className=\"panel-header\"><span className=\"panel-title\">{this.props.title}</span>\n                    <div className=\"panel-actions\">\n                        {actions.map(el => el)}\n                    </div>\n                </div>\n            }\n        } else if (this.props.actions && this.props.actions.length > 0) {\n            header = <div className=\"panel-header\">\n                <div className=\"panel-actions\">\n                    {actions.map(el => el)}\n                </div>\n            </div>\n        }\n\n        return (\n            <div className={\"panel \" + (this.props.className || '')}>\n                {header}\n                <div className={`panel-body ${(this.props.scrollable) ? 'panel-body-scrollable' : ''}`}>\n                    {this.props.children}\n                </div>\n            </div>\n        )\n    }\n}","import { ThunkAction } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction, Dispatch } from \"redux\";\nimport { push } from \"connected-react-router\";\n\nexport const UIActions = {\n    NAVIBAR_TOGGLE: 'navibar_toggle',\n    NAVIBAR_OPEN: 'navibar_open',\n    NAVIBAR_CLOSE: 'navibar_close',\n    NAVIBAR_LEVEL_OPEN: 'navibar_level_open',\n    NAVIBAR_LEVEL_COLLAPSE: 'navibar_level_collapse',\n\n    NOTIFICATION_SUCCESS: 'notification_success',\n    NOTIFICATION_ERROR: 'notification_error',\n\n    LOGOUT: 'logout'\n}\n\nexport class UI {\n    public static toggleNavibar() {\n        return {\n            type: UIActions.NAVIBAR_TOGGLE\n        }\n    }\n\n    public static openNavibar() {\n        return {\n            type: UIActions.NAVIBAR_OPEN\n        }\n    }\n\n    public static closeNavibar() {\n        return {\n            type: UIActions.NAVIBAR_CLOSE\n        }\n    }\n\n    public static openNavibarLevel(id: string) {\n        return {\n            type: UIActions.NAVIBAR_LEVEL_OPEN,\n            payload: id\n        }\n    }\n\n    public static collapseNavibarLevel() {\n        return {\n            type: UIActions.NAVIBAR_LEVEL_COLLAPSE\n        }\n    }\n\n    public static showError(message: string) {\n        return {\n            type: UIActions.NOTIFICATION_ERROR,\n            payload: message\n        }\n    }\n\n    public static showSuccess(message: string) {\n        return {\n            type: UIActions.NOTIFICATION_SUCCESS,\n            payload: message\n        }\n    }\n\n    public static logout(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: Dispatch) => {\n            dispatch(push('/login'))\n            return { type: UIActions.LOGOUT }\n        }\n    }\n}","import React, { Component, HTMLAttributes, SyntheticEvent, MouseEvent } from \"react\";\n\nexport interface SwipeProps extends HTMLAttributes<{}> {\n    minThreshold?: number,\n    maxThreshold?: number,\n    minDurationThreshold?: number,\n    maxDurationThreshold?: number,\n    mouseMove?: boolean,\n    swipingRight?: (event: any) => void\n    swipingLeft?: (event: any) => void\n    swipingUp?: (event: any) => void\n    swipingDown?: (event: any) => void\n    swipedRight?: (event: any) => void\n    swipedLeft?: (event: any) => void\n    swipedUp?: (event: any) => void\n    swipedDown?: (event: any) => void\n}\n\ninterface Coordinates {\n    x: number,\n    y: number\n}\n\ninterface SwipeState {\n    capturing: boolean\n    start: Coordinates,\n    startTime?: Date,\n    end?: Coordinates,\n    endTime?: Date,\n    current?: Coordinates\n}\n\nexport default class Swipe extends Component<SwipeProps, SwipeState> {\n    private scrolling: boolean = false\n    private scrollTimeout: NodeJS.Timeout\n    private minThreshold: number\n    private maxThreshold: number\n    private minDurationThreshold: number\n    private maxDurationThreshold: number\n\n    constructor(props: SwipeProps) {\n        super(props)\n\n        this.minThreshold = props.minThreshold || 10\n        this.maxThreshold = props.maxThreshold || 100\n        this.minDurationThreshold = props.minDurationThreshold || 0\n        this.maxDurationThreshold = props.maxDurationThreshold || 100\n\n        this.onStart = this.onStart.bind(this)\n        this.onMove = this.onMove.bind(this)\n        this.onEnd = this.onEnd.bind(this)\n        this.onScroll = this.onScroll.bind(this)\n\n        this.state = {\n            capturing: false,\n            start: { x: -1, y: -1 }\n        }\n    }\n\n    private onStart(event: any): void {\n        if (!this.scrolling && ((event.clientX && this.props.mouseMove) || event.touches)) {\n            let x = 0, y = 0\n            if (event.clientX) {\n                x = event.clientX\n                y = event.clientY\n            } else if (event.touches) {\n                x = event.touches[0].clientX\n                y = event.touches[0].clientY\n            }\n\n            this.setState({\n                capturing: true,\n                start: { x: x, y: y },\n                startTime: new Date(),\n                current: undefined,\n                end: undefined\n            })\n        }\n    }\n\n    private onMove(event: any): void {\n        if (this.state.capturing) {\n            let x = 0, y = 0\n            if (event.clientX) {\n                x = event.clientX\n                y = event.clientY\n            } else if (event.touches) {\n                x = event.touches[0].clientX\n                y = event.touches[0].clientY\n            }\n\n            this.setState({\n                current: { x: x, y: y }\n            })\n\n            this.fireRunningEvents(this.calculateDirection(this.state.start, { x: x, y: y }), event)\n        }\n    }\n\n    private onEnd(event: any): void {\n        if (this.state.capturing && this.state.start && this.state.startTime) {\n            let x = 0, y = 0\n            if (event.clientX) {\n                x = event.clientX\n                y = event.clientY\n            } else if (event.touches) {\n                x = event.changedTouches[0].clientX\n                y = event.changedTouches[0].clientY\n            }\n\n            this.setState({\n                capturing: false,\n                end: { x: x, y: y },\n                endTime: new Date()\n            })\n\n            this.fireFinishEvents(this.calculateDirection(this.state.start, { x: x, y: y }), new Date().getTime() - this.state.startTime.getTime(), event)\n        }\n    }\n\n    private onScroll(event: SyntheticEvent): void {\n        this.scrolling = true\n        if (this.scrollTimeout) {\n            clearTimeout(this.scrollTimeout)\n        }\n\n        this.scrollTimeout = setTimeout(() => { this.scrolling = false }, 150)\n    }\n\n    private calculateDirection(start: Coordinates, end: Coordinates): string {\n        let x = Math.abs(start.x - end.x)\n        let y = Math.abs(start.y - end.y)\n\n        if (x > y) {\n            if (x > this.minThreshold && x < this.maxThreshold) {\n                if (start.x > end.x) {\n                    return 'left'\n                }\n                return 'right'\n            }\n        } else {\n            if (y > this.minThreshold && y < this.maxThreshold) {\n                if (start.y > end.y) {\n                    return 'up'\n                }\n                return 'down'\n            }\n        }\n\n        return ''\n    }\n\n    private fireFinishEvents(direction: string, duration: number, event: any): void {\n        if (duration > this.minDurationThreshold && duration < this.maxDurationThreshold) {\n            switch (direction) {\n                case 'up':\n                    if (this.props.swipedUp) this.props.swipedUp(event)\n                    break\n                case 'right':\n                    if (this.props.swipedRight) this.props.swipedRight(event)\n                    break\n                case 'down':\n                    if (this.props.swipedDown) this.props.swipedDown(event)\n                    break\n                case 'left':\n                    if (this.props.swipedLeft) this.props.swipedLeft(event)\n                    break\n            }\n        }\n    }\n\n    private fireRunningEvents(direction: string, event: any): void {\n        switch (direction) {\n            case 'up':\n                if (this.props.swipingUp) this.props.swipingUp(event)\n                break\n            case 'right':\n                if (this.props.swipingRight) this.props.swipingRight(event)\n                break\n            case 'down':\n                if (this.props.swipingDown) this.props.swipingDown(event)\n                break\n            case 'left':\n                if (this.props.swipingLeft) this.props.swipingLeft(event)\n                break\n        }\n    }\n\n    public render() {\n        return (\n            <div\n                onScroll={this.onScroll}\n                onTouchStart={this.onStart}\n                onTouchMove={this.onMove}\n                onTouchEnd={this.onEnd}\n                onMouseDown={this.onStart}\n                onMouseMove={this.onMove}\n                onMouseUp={this.onEnd}\n                className={this.props.className}\n            >\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { Dispatch } from \"redux\";\nimport { UI } from \"../actions/UIActions\";\nimport User from \"../entities/User\";\nimport { RouterProps } from \"react-router\";\nimport Config from \"../Config\";\n\nexport class _Header extends Component<{ open: boolean, user: User, onClick: () => {} } & RouterProps, {}> {\n    public render() {\n        let className = 'navibar-open'\n        if (!this.props.open) {\n            className = 'navibar-collapsed'\n        }\n\n        if (this.props.user) {\n            return (\n                <div id=\"header\">\n                    <div id=\"header-title\" className={className}>\n                        <div id=\"user\">\n                            {this.props.user.displayName}\n                        </div>\n                    </div>\n                    <div id=\"header-bars\" onClick={this.props.onClick}>\n                        <span>\n                            <FontAwesomeIcon icon=\"bars\" />\n                        </span>\n                    </div>\n                </div>\n            )\n        }\n\n        return (\n            <div></div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open: state.ui.navibar_open,\n        user: state.data.user.data\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        onClick: () => {\n            dispatch(UI.toggleNavibar())\n        }\n    }\n}\n\n//@ts-ignore\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(_Header)","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { NavLink } from \"react-router-dom\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport { UI } from \"../actions/UIActions\";\nimport { connect } from \"react-redux\";\nimport { AnyAction } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport CurrentDevice from 'current-device'\nimport { withRouter } from 'react-router-dom'\n\nexport interface NavibarElementProps {\n    level?: number,\n    leftIcon?: IconProp,\n    rightIcon?: IconProp,\n    to?: string,\n    text: string,\n    navibar_open?: boolean,\n    onMouseUp?: (event: React.MouseEvent<HTMLElement>) => void,\n    onClose?: () => void,\n    toggleNavibar?: () => void\n}\n\nexport class _NavibarElement extends Component<NavibarElementProps> {\n    private level: number\n\n    constructor(props: NavibarElementProps) {\n        super(props)\n\n        this.onMouseUp = this.onMouseUp.bind(this)\n        this.level = this.props.level || 0\n    }\n\n    private onMouseUp(event: React.MouseEvent<HTMLElement>) {\n        if (this.level === 0 && this.props.onClose) this.props.onClose()\n        if (this.props.onMouseUp) this.props.onMouseUp(event)\n        if (CurrentDevice.mobile() && this.props.toggleNavibar && this.props.to) this.props.toggleNavibar()\n    }\n\n    private renderLinkElement(to: string, content: Array<JSX.Element>, onMouseUp: (event: React.MouseEvent<HTMLElement>) => void) {\n        if (to.match(/^(http|https):\\/\\//)) {\n            return (\n                <a href={to} className=\"navibar-element\" onMouseUp={onMouseUp} target=\"_blank\">\n                    {content}\n                </a>\n            )\n        } else {\n            return (\n                <NavLink exact to={to} className=\"navibar-element\" activeClassName=\"navibar-element-active\" onMouseUp={onMouseUp} >\n                    {content}\n                </ NavLink>\n            )\n        }\n    }\n\n    public render() {\n        let leftIcon\n        let rightIcon: JSX.Element = <p></p>\n\n        if (this.props.leftIcon) leftIcon = <FontAwesomeIcon icon={this.props.leftIcon} className=\"navibar-element-icon\" />\n        if (this.props.rightIcon) rightIcon = <FontAwesomeIcon icon={this.props.rightIcon} className=\"navibar-element-icon navibar-element-icon-right float-right\" />\n\n        if (this.props.to) {\n            return this.renderLinkElement(this.props.to, [\n                <li key={this.props.to}>\n                    {leftIcon}\n                    <p className=\"navibar-element-text\">{this.props.text}</p>\n                    {rightIcon}\n                </li>\n            ], this.onMouseUp)\n        } else {\n            return (\n                <li className=\"navibar-element\" onMouseUp={this.onMouseUp} key={this.props.text}>\n                    {leftIcon}\n                    <p className=\"navibar-element-text\">{this.props.text}</p>\n                    {rightIcon}\n                </li>\n            )\n        }\n    }\n}\n\n\nconst mapStateToProps = (state: State) => {\n    return {\n        navibar_open: state.ui.navibar_open\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        onClose: () => {\n            dispatch(UI.collapseNavibarLevel())\n        },\n        toggleNavibar: () => {\n            dispatch(UI.toggleNavibar())\n        }\n    }\n}\n\n//@ts-ignore\nexport const NavibarElement = withRouter(connect(mapStateToProps, mapDispatchToProps)(_NavibarElement))","import { NavibarElement } from \"./NavibarElement\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport React, { Component, Children, cloneElement, ReactElement, PropsWithChildren } from \"react\";\nimport { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { UI } from \"../actions/UIActions\";\n\nexport interface NavibarLevelHeaderProps {\n    leftIcon?: IconProp,\n    text: string,\n    id: string,\n    level: number,\n    open_level: string,\n    onOpen: (id: string) => void,\n    onClose: () => void\n}\n\nexport default class _NavibarLevelHeader extends Component<PropsWithChildren<NavibarLevelHeaderProps>> {\n\n    constructor(props: NavibarLevelHeaderProps) {\n        super(props)\n        this.onClick = this.onClick.bind(this)\n    }\n\n    private onClick(event: React.MouseEvent<HTMLElement>) {\n        if (this.props.open_level === this.props.id) {\n            this.props.onClose()\n        } else {\n            this.props.onOpen(this.props.id)\n        }\n    }\n\n    public render() {\n        let openClass = ''\n        let rightIcon: IconProp = 'angle-up'\n\n        if (this.props.id !== this.props.open_level) {\n            openClass = ' level-collapsed'\n            rightIcon = 'angle-down'\n        }\n\n        return (\n            <div>\n                <NavibarElement leftIcon={this.props.leftIcon} rightIcon={rightIcon} text={this.props.text} onMouseUp={this.onClick} />\n                <div key={\"levelContainer-\" + this.props.id} className={\"level-container\" + \" level-\" + this.props.level.toString() + openClass}>\n                    {\n                        Children.map(this.props.children, child => {\n                            if (child) {\n                                return cloneElement(child as ReactElement<any>, { level: this.props.level })\n                            }\n                        })\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open_level: state.ui.navibar_level\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        onOpen: (id: string) => {\n            dispatch(UI.openNavibarLevel(id))\n        },\n        onClose: () => {\n            dispatch(UI.collapseNavibarLevel())\n        },\n    }\n}\n\n\n//@ts-ignore\nexport const NavibarLevelHeader = connect(mapStateToProps, mapDispatchToProps)(_NavibarLevelHeader)","import React, { Component } from \"react\"\nimport { NavibarElement } from \"./NavibarElement\"\nimport { connect } from \"react-redux\"\nimport { State } from '../reducers/IndexReducer'\nimport { NavibarLevelHeader } from \"./NavibarLevelHeader\"\nimport { AuthRoles } from \"../interfaces/AuthRoles\"\nimport User from \"../entities/User\"\nimport Config from \"../Config\"\n\nexport class _Navibar extends Component<{ open: boolean, user?: User }> {\n    public renderElement(element: JSX.Element, roles?: Array<AuthRoles>) {\n        if (roles) {\n            for (let role of roles) {\n                if (this.props.user && (this.props.user.roles.includes(role) || this.props.user.roles.includes(AuthRoles.ADMIN))) {\n                    return element\n                }\n            }\n        } else {\n            return element\n        }\n    }\n\n    public render() {\n        let className = 'navibar-open'\n        if (!this.props.open) {\n            className = 'navibar-collapsed'\n        }\n\n        if (this.props.user) {\n            return (\n                <div id=\"navibar\" className={className}>\n                    <ol>\n                        {this.renderElement(<NavibarElement to=\"/dashboard\" text=\"Dashboard\" leftIcon=\"tachometer-alt\" />, [AuthRoles.AUTHENTICATED])}\n                        {this.renderElement(<NavibarElement to=\"/members\" text=\"Mitglieder\" leftIcon=\"users\" />, [AuthRoles.MEMBERS_READ])}\n                        {this.renderElement(<NavibarElement to=\"/mailing-lists\" text=\"Verteiler\" leftIcon=\"mail-bulk\" />, [AuthRoles.MEMBERS_READ])}\n                        {this.renderElement(\n                            <NavibarLevelHeader text=\"Aufgebot\" leftIcon=\"address-book\" id=\"draft\" level={1}>\n                                {this.renderElement(<NavibarElement to=\"/draft/collection-points\" leftIcon=\"map-marker-alt\" text=\"Abholpunkte\" />, [AuthRoles.DRAFT_READ])}\n                                {this.renderElement(<NavibarElement to=\"/draft/logoffs\" leftIcon=\"user-times\" text=\"Abmeldungen\" />, [AuthRoles.LOGOFFS_READ])}\n                            </NavibarLevelHeader>\n                            , [AuthRoles.DRAFT_READ, AuthRoles.LOGOFFS_READ]\n                        )}\n                        {this.renderElement(<NavibarElement to=\"/orders\" text=\"Aufträge\" leftIcon=\"file-alt\" />, [AuthRoles.ORDERS_READ])}\n                        {this.renderElement(\n                            <NavibarLevelHeader text=\"Verrechnungsrapporte\" leftIcon=\"file-signature\" id=\"billingreports\" level={1}>\n                                {this.renderElement(<NavibarElement to=\"/billing-reports/add\" leftIcon=\"plus\" text=\"Erstellen\" />, [AuthRoles.BILLINGREPORTS_CREATE])}\n                                <NavibarElement to=\"/billing-reports\" leftIcon=\"list\" text=\"Alle\" />\n                                <NavibarElement to=\"https://vkazu.sharepoint.com/:w:/r/Vorlagen/Verrechungsrapport.docx?d=w66977fb79dfd4ab3832ca05fd6d9b8d2&csf=1&e=Spme13\" text=\"Word Vorlage\" leftIcon=\"file-word\" />\n                            </NavibarLevelHeader>\n                            , [AuthRoles.BILLINGREPORTS_READ, AuthRoles.BILLINGREPORTS_CREATE]\n                        )}\n                        {this.renderElement(\n                            <NavibarLevelHeader text=\"Entschädigungen\" leftIcon=\"dollar-sign\" id=\"compensations\" level={1}>\n                                {this.renderElement(<NavibarElement to=\"/compensations/add\" leftIcon=\"plus\" text=\"Erstellen\" />, [AuthRoles.COMPENSATIONS_CREATE])}\n                                <NavibarElement to=\"/compensations\" leftIcon=\"list\" text=\"Alle\" />\n                            </NavibarLevelHeader>\n                            , [AuthRoles.COMPENSATIONS_READ]\n                        )}\n                        {this.renderElement(<NavibarElement to=\"/payouts\" text=\"Auszahlungen\" leftIcon=\"file-invoice-dollar\" />, [AuthRoles.PAYOUTS_READ])}\n                        {this.renderElement(<NavibarElement to=\"/users\" text=\"Benutzer\" leftIcon=\"user\" />, [AuthRoles.ADMIN])}\n                        <NavibarElement to=\"https://vkazu.sharepoint.com/Dokumente\" text=\"Dokumente\" leftIcon=\"external-link-alt\" />\n                        <NavibarElement to={`${Config.apiEndpoint}/api/logout`} text=\"Abmelden\" leftIcon=\"power-off\" />\n                    </ol>\n                </div>\n            )\n        }\n\n        return (\n            <div></div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open: state.ui.navibar_open,\n        user: state.data.user.data\n    }\n}\n\nexport const Navibar = connect(mapStateToProps, {}, null, { pure: false })(_Navibar)","import React, { Component, PropsWithChildren } from \"react\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport { UI } from \"../actions/UIActions\";\nimport Swipe from \"./Swipe\";\nimport { Header } from \"./Header\";\nimport { Navibar } from \"./Navibar\";\n\nexport interface PageProps  {\n    title: string,\n    open: boolean,\n    openNavibar?: () => void,\n    closeNavibar?: () => void\n}\n\nexport class _Page extends Component<PropsWithChildren<PageProps>> {\n    constructor(props: PageProps) {\n        super(props)\n\n        this.swipedRight = this.swipedRight.bind(this)\n        this.swipedLeft = this.swipedLeft.bind(this)\n    }\n\n    public swipedRight() {\n        if (this.props.openNavibar) this.props.openNavibar()\n    }\n\n    public swipedLeft() {\n        if (this.props.closeNavibar) this.props.closeNavibar()\n    }\n\n    public render() {\n        let className = 'navibar-open'\n        if (!this.props.open) {\n            className = 'navibar-collapsed'\n        }\n\n        return (\n            <div className=\"body\">\n                <Header />\n                <Navibar />\n                <Swipe className={className + ' content'} mouseMove={true} swipedRight={this.swipedRight} swipedLeft={this.swipedLeft}>\n                    <div className=\"content-top\">\n                        <h1 className=\"page-title\">{this.props.title}</h1>\n                    </div>\n                    <div className=\"content-body container-fluid\">\n                        {this.props.children}\n                    </div>\n                </Swipe>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open: state.ui.navibar_open\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        closeNavibar: () => {\n            dispatch(UI.closeNavibar())\n        },\n        openNavibar: () => {\n            dispatch(UI.openNavibar())\n        }\n    }\n}\n\nexport const Page = connect(mapStateToProps, mapDispatchToProps)(_Page)","//@ts-ignore\nimport StepWizard from 'react-step-wizard';\nimport React, { Component } from 'react';\nimport { Page } from '../components/Page';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { Data } from '../actions/DataActions';\nimport { connect } from 'react-redux';\nimport { DataInterface } from '../reducers/DataReducer';\nimport WizardNav from '../components/WizardNav';\nimport AddBillingReportStep1 from './AddBillingReportSteps/AddBillingReportStep1';\nimport AddBillingReportStep2 from './AddBillingReportSteps/AddBillingReportStep2';\nimport AddBillingReportStep3 from './AddBillingReportSteps/AddBillingReportStep3';\nimport AddBillingReportStep4 from './AddBillingReportSteps/AddBillingReportStep4';\nimport StringIndexed from '../interfaces/StringIndexed';\nimport { BillingReportCompensationEntry, CreateBillingReport } from '../interfaces/BillingReport';\nimport { History } from \"history\";\nimport Loading from '../components/Loading';\nimport User from '../entities/User';\nimport Order from '../entities/Order';\nimport Contact from '../entities/Contact';\n\nexport interface AddBillingReportProps {\n    user: User,\n    openOrders: DataInterface<Order>,\n    members: DataInterface<Contact>,\n    loading: boolean,\n    fetchOpenOrders: Function,\n    fetchMembers: Function,\n    save: (data: CreateBillingReport) => Promise<void>,\n    history: History\n}\n\ninterface AddBillingReportState {\n    order: Order,\n    date: Date,\n    vks: StringIndexed<BillingReportCompensationEntry>,\n    els: Array<Contact>,\n    drivers: Array<Contact>,\n    food: boolean,\n    remarks: string,\n    [index: string]: any\n}\n\nexport class _AddBillingReport extends Component<AddBillingReportProps, AddBillingReportState> {\n    constructor(props: AddBillingReportProps) {\n        super(props)\n\n        this.onNext = this.onNext.bind(this)\n        this.save = this.save.bind(this)\n\n        setImmediate(() => {\n            this.props.fetchOpenOrders()\n            this.props.fetchMembers()\n        })\n\n        // init it with forced nulls\n        //@ts-ignore\n        this.state = { els: [], drivers: [] }\n    }\n\n    private onNext(data: StringIndexed<any>): void {\n        let state: AddBillingReportState = this.state\n        for (let i in data) {\n            state[i] = data[i]\n        }\n        this.setState(state)\n    }\n\n    private async save(): Promise<boolean> {\n        let compensationEntries: StringIndexed<BillingReportCompensationEntry<number>> = {}\n\n        for (let i in this.state.vks) {\n            //@ts-ignore\n            compensationEntries[i] = this.state.vks[i]\n            compensationEntries[i].member = this.state.vks[i].member.id\n        }\n\n        await this.props.save({\n            orderId: this.state.order.id,\n            date: this.state.date,\n            compensationEntries: this.state.vks,\n            els: this.state.els,\n            drivers: this.state.drivers,\n            food: this.state.food,\n            remarks: this.state.remarks,\n            creatorId: this.props.user.id\n        })\n        \n        this.props.history.push('/billing-reports')\n\n        return true\n    }\n\n    public render() {\n        if (this.props.loading) {\n            return (\n                <Page title=\"Verrechnungsrapport erfassen\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Verrechnungsrapport erfassen\">\n                <Row>\n                    <Column className=\"col\">\n                        <Panel title=\"\">\n                            <StepWizard nav={<WizardNav />}>\n                                <AddBillingReportStep1 openOrders={this.props.openOrders} onNext={this.onNext} />\n                                <AddBillingReportStep2 onNext={this.onNext} />\n                                <AddBillingReportStep3 onNext={this.onNext} />\n                                <AddBillingReportStep4\n                                    onNext={this.save}\n                                    order={this.state.order}\n                                    date={this.state.date}\n                                    vks={this.state.vks}\n                                    els={this.state.els.map(el =>  el.firstname + ' ' + el.lastname )}\n                                    drivers={this.state.drivers.map(driver => driver.firstname + ' ' + driver.lastname )}\n                                    food={this.state.food}\n                                    remarks={this.state.remarks}\n                                />\n                            </StepWizard>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user.data,\n        openOrders: state.data.openOrders,\n        members: state.data.members,\n        loading: state.data.openOrders.loading ||\n            state.data.members.loading ||\n            state.data.user.loading ||\n            !state.data.openOrders.ids ||\n            !state.data.members.ids ||\n            Object.keys(state.data.user.data as User).length < 0\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchOpenOrders: () => {\n            dispatch(Data.fetchOpenOrders())\n        },\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        save: (data: CreateBillingReport) => {\n            return dispatch(Data.addBillingReport(data))\n        }\n    }\n}\n\n//@ts-ignore\nexport const AddBillingReport = connect(mapStateToProps, mapDispatchToProps)(_AddBillingReport)","import React, { Component } from \"react\";\n\nexport interface WizardNavProps {\n    isActive?: boolean,\n    currentStep?: number,\n    totalSteps?: number,\n    fistStep?: () => void,\n    lastStep?: () => void,\n    nextStep?: () => void,\n    previousStep?: () => void,\n    gotoStep?: (step: number) => void\n}\n\nexport default class WizardNav extends Component<WizardNavProps> {\n    private renderSteps() {\n        let steps = []\n        let totalSteps = this.props.totalSteps || 0\n\n        for (let i = 1; i <= totalSteps; i++) {\n            let classes = 'dot'\n            if (i == this.props.currentStep) {\n                classes += ' active'\n            }\n            steps.push(<span key={i} className={classes}>•</span>)\n        }\n\n        return steps\n    }\n\n    public render() {\n        return (\n            <div key=\"WizardNav\" id=\"WizardNav\" className=\"d-flex justify-content-center\">\n                {this.renderSteps()}\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { DataInterface } from \"../../reducers/DataReducer\";\nimport WizardStep from \"../../components/WizardStep\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport Order from \"../../entities/Order\";\n\nexport interface Step1Props {\n    onNext: (data: StringIndexed<any>) => void,\n    openOrders: DataInterface<Order>\n}\n\nexport default class AddBillingReportStep1 extends Component<Step1Props, { order: string, date: string }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: Step1Props) {\n        super(props)\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.validate = this.validate.bind(this)\n\n        this.state = {\n            order: '',\n            date: ''\n        }\n    }\n\n    private renderOptions() {\n        let options = [<option key=\"none\" value=\"\">Bitte Wählen</option>]\n        for (let i of this.props.openOrders.ids) {\n            let order = this.props.openOrders.byId[i]\n            // only show the contact if the contact is not a privat person (identified that companies doesn't have any firstname)\n            if (!order.contact.firstname) {\n                options.push(<option key={order.documentNr} value={order.id}>{`${order.title} (${order.contact.lastname})`}</option>)\n            } else {\n                options.push(<option key={order.documentNr} value={order.id}>{`${order.title}`}</option>)\n            }\n        }\n\n        return options\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private async validate(): Promise<boolean> {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                this.props.onNext({\n                    order: this.props.openOrders.byId[parseInt(this.state.order)],\n                    date: new Date(this.state.date)\n                })\n            }\n            return valid\n        }\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Details\" onNextStep={this.validate} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form}>\n                    <h5>Einsatz</h5>\n                    <select className='form-control' name=\"order\" id=\"order\" onChange={this.onInputChange} value={this.state.order} required={true}>\n                        {this.renderOptions()}\n                    </select>\n                    <br></br>\n                    <h5>Datum</h5>\n                    <input type=\"Date\" name=\"date\" id=\"date\" className='form-control' value={this.state.date} onChange={this.onInputChange} required={true}></input>\n                </form>\n            </WizardStep>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport WizardStep from \"../../components/WizardStep\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport { DataInterface } from \"../../reducers/DataReducer\";\nimport Contact from \"../../entities/Contact\";\nimport { ValueType } from \"react-select/lib/types\";\nimport Select from 'react-select';\nimport Checkbox from \"../../components/Checkbox\";\nimport { MemberSelect } from \"../../components/MemberSelect\";\n\nexport interface AddBillingReportStep3Props {\n    onNext: (data: StringIndexed<any>) => void\n}\n\nexport default class AddBillingReportStep3 extends Component<AddBillingReportStep3Props, { els: Array<Contact>, drivers: Array<Contact>, food: boolean, remarks: string }> {\n    private onELChange: (opt: Array<Contact>) => void\n    private onDriversChange: (opt: Array<Contact>) => void\n    private formEl?: HTMLFormElement\n    private elSelect?: Select<{}>\n    private driversSelect?: Select<{}>\n\n    constructor(props: AddBillingReportStep3Props) {\n        super(props)\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onNext = this.onNext.bind(this)\n        this.onELChange = this.onSelectChange('els')\n        this.onDriversChange = this.onSelectChange('drivers')\n\n        this.state = {\n            els: [],\n            drivers: [],\n            food: false,\n            remarks: ''\n        }\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? (target as HTMLInputElement).checked : target.value;\n        const id = target.id;\n        //@ts-ignore\n        this.setState({\n            [id]: value\n        });\n    }\n\n    private onSelectChange(stateName: string) {\n        return (opt: Array<Contact>) => {\n            if (opt) {\n                //@ts-ignore\n                this.setState({\n                    [stateName]: opt\n                })\n            } else {\n                //@ts-ignore\n                this.setState({\n                    [stateName]: []\n                })\n            }\n        }\n    }\n\n    private async onNext(): Promise<boolean> {\n        if (this.elSelect) {\n            let valid = true\n            if (this.state.els.length <= 0) valid = false\n\n            if (valid) {\n                this.props.onNext(this.state)\n                return true\n            }\n        }\n\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Weiteres\" onNextStep={this.onNext} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form} className=\"was-validated\">\n                    <h5>ELs</h5>\n                    <MemberSelect\n                        ref={(select: any) => this.elSelect = select}\n                        onChange={this.onELChange}\n                        isMulti={true}\n                        required={true}\n                    />\n                    <br></br>\n                    <h5>Fahrer</h5>\n                    <MemberSelect\n                        ref={(select: any) => this.driversSelect = select}\n                        onChange={this.onDriversChange}\n                        isMulti={true}\n                        required={false}\n                    />\n                    <br></br>\n                    <h5>Diverses</h5>\n                    <Checkbox id='food' checked={this.state.food} onChange={this.onInputChange} label=\"Verpflegung\" />\n                    <br></br>\n                    <h5>Bemerkungen</h5>\n                    <small className=\"text-muted\">Bei mehreren EL bitte die Schichtzeiten hier eingeben</small>\n                    <textarea id=\"remarks\" value={this.state.remarks} onChange={this.onInputChange} className='form-control'></textarea>\n                </form>\n            </WizardStep>\n        )\n    }\n}","export default class Config {\n    static apiEndpoint: string\n\n    public static loadConfig(): void {\n        if (process.env.NODE_ENV && process.env.NODE_ENV === 'development') {\n            Config.apiEndpoint = \"http://localhost:8000\"\n        } else {\n            Config.apiEndpoint = `${window.location.protocol}//${window.location.host}`\n        }\n    }\n\n    public static isModeProduction(): boolean {\n        return Config.isMode('production')\n    }\n\n    public static isModeDev(): boolean {\n        return Config.isMode('development')\n    }\n\n    private static isMode(mode: string): boolean {\n        return (process.env.NODE_ENV || 'production').toLowerCase() === mode.toLowerCase()\n    }\n}","import React, { Component } from \"react\";\nimport WizardStep from \"../../components/WizardStep\";\nimport Table from \"../../components/Table\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport { BillingReportCompensationEntry } from \"../../interfaces/BillingReport\";\nimport Order from \"../../entities/Order\";\n\nexport default class AddBillingReportStep4 extends Component<{ onNext: () => Promise<boolean>, order: Order, date: Date, vks: StringIndexed<BillingReportCompensationEntry>, els: Array<string>, drivers: Array<string>, food: boolean, remarks: string }> {\n    public render() {\n        return (\n            <WizardStep title=\"Zusammenfassung\" onNextStep={this.props.onNext} {...this.props}>\n                <h5>Einsatz</h5>\n                <p>{(this.props.order) ? this.props.order.title : ''}</p>\n\n                <h5>Datum</h5>\n                <p>{(this.props.date) ? this.props.date.toLocaleDateString() : ''}</p>\n\n                <h5>VKs</h5>\n                <Table<BillingReportCompensationEntry>\n                    columns={[\n                        { text: 'VK', keys: { 'member': ['firstname', 'lastname'] } },\n                        { text: 'Von', keys: ['from'], format: 'toLocaleTimeString' },\n                        { text: 'Bis', keys: ['until'], format: 'toLocaleTimeString' },\n                        { text: 'Verrechnet', keys: ['charge'] },\n                        { text: 'Anzahl Stunden', keys: ['totalHours'] }\n                    ]}\n                    defaultSort={{ keys: ['from'], direction: 'asc' }}\n                    data={(this.props.vks) ? this.props.vks : {}}\n                />\n\n                <h5>ELs</h5>\n                <p>{this.props.els.join(',')}</p>\n\n                <h5>Fahrer</h5>\n                <p>{this.props.drivers.join(',')}</p>\n\n                <h5>Diverses</h5>\n                <p className=\"switch switch-sm\">\n                    <input type=\"checkbox\" className=\"switch\" id=\"food\" name=\"food\" checked={this.props.food} />\n                    <label htmlFor=\"food\">Verpflegung</label>\n                </p>\n\n                <h5>Bemerkungen</h5>\n                <p>{(this.props.remarks) ? this.props.remarks : ''}</p>\n            </WizardStep>\n        )\n    }\n}","import React, { Component } from \"react\";\n\nexport default class Row extends Component<{ className?: string }> {\n    public render() {\n        return (\n            <div className={\"row \" + this.props.className}>\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component, ButtonHTMLAttributes } from \"react\"\nimport * as Bootstrap from 'react-bootstrap'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n    onClick: (event: React.MouseEvent<HTMLButtonElement>) => Promise<any>\n    type?: \"button\" | \"reset\" | \"submit\",\n    active?: boolean\n    block?: boolean\n    variant?:\n    | 'primary'\n    | 'secondary'\n    | 'success'\n    | 'danger'\n    | 'warning'\n    | 'info'\n    | 'dark'\n    | 'light'\n    | 'link'\n    | 'outline-primary'\n    | 'outline-secondary'\n    | 'outline-success'\n    | 'outline-danger'\n    | 'outline-warning'\n    | 'outline-info'\n    | 'outline-dark'\n    | 'outline-light'\n    size?: 'sm' | 'lg'\n    href?: string\n    disabled?: boolean\n    loading?: boolean\n};\n\ninterface ButtonState {\n    state: 'normal' | 'inProgress' | 'done'\n}\n\nexport default class Button extends Component<ButtonProps, ButtonState> {\n    constructor(props: ButtonProps) {\n        super(props)\n\n        this.onClick = this.onClick.bind(this)\n\n        this.state = {\n            state: (this.props.loading) ? 'inProgress' : 'normal'\n        }\n    }\n\n    private async onClick(event: React.MouseEvent<HTMLButtonElement>) {\n        if (this.state.state === 'normal') {\n            this.setState({ state: 'inProgress' })\n            await this.props.onClick(event)\n            this.setState({ state: 'done' })\n            setTimeout(() => {\n                this.setState({ state: 'normal' })\n            }, 1000)\n        }\n    }\n\n    public static getDerivedStateFromProps(nextProps: ButtonProps, prevState: ButtonState): ButtonState {\n        return {\n            state: (nextProps.loading) ? 'inProgress' : 'normal'\n        }\n    }\n\n\n    public render() {\n        switch (this.state.state) {\n            case 'normal':\n                return (<Bootstrap.Button {...this.props} onClick={this.onClick}>{this.props.children}</Bootstrap.Button>)\n            case 'inProgress':\n                return (<Bootstrap.Button {...this.props} onClick={this.onClick}>\n                    <svg className=\"button-loading\" viewBox=\"0 0 128 128\">\n                        <g>\n                            <path d=\"M64 127.75A63.76 63.76 0 0 1 52.8 1.23v14.23a49.8 49.8 0 1 0 22.4 0V1.23A63.76 63.76 0 0 1 64 127.75z\" fillOpacity=\"1\" />\n                            <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 64 64\" to=\"360 64 64\" dur=\"2160ms\" repeatCount=\"indefinite\"></animateTransform>\n                        </g>\n                    </svg>\n                </Bootstrap.Button >)\n            case 'done':\n                return (<Bootstrap.Button {...this.props} onClick={this.onClick}><FontAwesomeIcon icon=\"check-circle\" /></Bootstrap.Button>)\n            default:\n                return (<Bootstrap.Button {...this.props} onClick={this.onClick}>{this.props.children}</Bootstrap.Button>)\n        }\n    }\n}","import React, { Component } from 'react'\n\nexport default class Loading extends Component<{ fullscreen?: boolean }> {\n    public render() {\n        return (\n            <div className={\"loading-animation \" + ((this.props.fullscreen) ? 'fullscreen' : '')}>\n                <div className=\"sk-folding-cube\">\n                    <div className=\"sk-cube1 sk-cube\"></div>\n                    <div className=\"sk-cube2 sk-cube\"></div>\n                    <div className=\"sk-cube4 sk-cube\"></div>\n                    <div className=\"sk-cube3 sk-cube\"></div>\n                </div>\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component, MouseEvent } from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport StringIndexed from \"../interfaces/StringIndexed\"\nimport Checkbox from \"../components/Checkbox\"\nimport Input from \"./Input\"\n\nexport interface TableColumn {\n    text: string\n    keys: Array<string> | { [index: string]: Array<string> }\n    content?: JSX.Element\n    link?: boolean\n    linkPrefix?: string,\n    sortable?: boolean,\n    searchable?: boolean,\n    prefix?: string\n    suffix?: string\n    format?: string\n    className?: string\n    editable?: boolean,\n    type?: string,\n    options?: string[],\n    required?: boolean,\n    onChange?: (id: string | number | null, field: string, value: any, newly: boolean) => void\n}\n\nexport type FilterKey = string | { [index: string]: FilterKey }\n\nexport interface AnyFilter {\n    type: 'any'\n}\n\nexport interface StringFilter {\n    type: 'eq',\n    key: FilterKey,\n    value: string | RegExp\n}\n\nexport interface RangeFilter {\n    type: 'gt' | 'gte' | 'lt' | 'lte',\n    key: FilterKey,\n    value: number\n}\n\nexport interface CustomFilter {\n    type: 'cu',\n    filter: (obj: any) => boolean\n}\n\nexport interface TableFilter {\n    id: string,\n    displayName: string,\n    filters: Array<StringFilter | RangeFilter | AnyFilter | CustomFilter>\n}\n\nexport interface TableProps<T> {\n    columns: Array<TableColumn>,\n    data: StringIndexed<T> | Array<T>,\n    onSort?: (event: MouseEvent<HTMLTableHeaderCellElement>, clickedKeys: Array<string> | StringIndexed<any>, sortDirection: 'asc' | 'desc') => void,\n    defaultSort?: { keys: Array<string> | StringIndexed<any>, direction: 'asc' | 'desc' },\n    searchString?: string,\n    ref?: Function,\n    className?: string,\n    checkable?: boolean,\n    onCheck?: (event: React.ChangeEvent<HTMLInputElement>) => void\n    addNew?: boolean\n    filters?: TableFilter[],\n    defaultFilter?: string\n    onDataChange?: (data: StringIndexed<T>) => void\n}\n\ninterface TableState<T> {\n    sortKey: string,\n    sortDirection: 'asc' | 'desc',\n    searchableKeys: Array<string | { [index: string]: Array<string> }>,\n    filter?: string\n}\n\nexport default class Table<T extends { id: string | number }> extends Component<TableProps<T>, TableState<T>> {\n    constructor(props: TableProps<T>) {\n        super(props)\n        this.sortClick = this.sortClick.bind(this)\n        this.search = this.search.bind(this)\n        this.ref = this.ref.bind(this)\n        this.onColumnDataChange = this.onColumnDataChange.bind(this)\n\n        if (this.props.defaultSort) {\n            this.state = {\n                sortKey: this.props.defaultSort.keys.join('-'),\n                sortDirection: this.props.defaultSort.direction,\n                searchableKeys: this.genSearchKeys(this.props.columns),\n                filter: this.props.defaultFilter || (this.props.filters || [{ id: '' }])[0].id\n            }\n        } else {\n            this.state = {\n                sortKey: '',\n                sortDirection: 'asc',\n                searchableKeys: this.genSearchKeys(this.props.columns),\n                filter: this.props.defaultFilter || (this.props.filters || [{ id: '' }])[0].id\n            }\n        }\n    }\n\n    private onColumnDataChange(columnKey: string, id: string | number | null, value: any, newly = false): void {\n        const column = this.props.columns.find(column => {\n            let colKey = ''\n            if (column.keys instanceof Array) {\n                colKey = column.keys.join('-')\n            } else {\n                for (let k in column.keys) {\n                    colKey += '_' + k + '.' + column.keys[k].join('-')\n                }\n            }\n            return colKey === columnKey\n        })\n        if (column && column.onChange) {\n            column.onChange(id, columnKey, value, newly)\n\n        }\n    }\n\n    public componentDidUpdate(prevProps: TableProps<T>) {\n        if (prevProps !== this.props) {\n            this.setState({\n                searchableKeys: this.genSearchKeys(this.props.columns),\n                filter: this.props.defaultFilter\n            })\n        }\n    }\n\n    private ref(table: HTMLTableElement) {\n        if (this.props.ref) this.props.ref(table)\n    }\n\n    private goDownFilterKey(obj: any, filterKey: FilterKey): any {\n        if (typeof filterKey === 'string') return obj[filterKey]\n        return this.goDownFilterKey(obj[Object.keys(filterKey)[0]], filterKey[Object.keys(filterKey)[0]])\n    }\n\n    private filterMatcher(filter: StringFilter | RangeFilter, value: string | number): boolean {\n        switch (filter.type) {\n            case 'eq':\n                if (filter.value instanceof RegExp) return filter.value.test(value.toString())\n                return value.toString() === filter.value\n            case 'lt':\n                return value < filter.value\n            case 'lte':\n                return value <= filter.value\n            case 'gt':\n                return value > filter.value\n            case 'gte':\n                return value >= filter.value\n        }\n    }\n\n    private filter(filterId: string, data?: StringIndexed<T> | Array<T>): StringIndexed<T> | Array<T> {\n        data = data || this.props.data\n        if (data) {\n            if (this.props.filters) {\n                const filter = this.props.filters.find(filter => filter.id === filterId)\n                if (filter) {\n                    if (filter.filters.find(f => f.type === 'any')) return data\n                    if (data instanceof Array) {\n                        return data.filter(el => {\n                            let matches = true\n                            let index = 0\n                            let maxIndex = filter.filters.length\n                            while (matches && index < maxIndex) {\n                                const currentFilter = filter.filters[index] as StringFilter | RangeFilter | CustomFilter\n                                if (currentFilter.type === 'cu') {\n                                    matches = currentFilter.filter(el)\n                                } else {\n                                    const compareableData = this.goDownFilterKey(el, currentFilter.key)\n                                    matches = this.filterMatcher(currentFilter, compareableData)\n                                }\n                                index += 1\n                            }\n                            return matches\n                        })\n                    } else {\n                        const matchedKeys = Object.keys(data).filter(k => {\n                            // @ts-ignore\n                            const el = data[k]\n                            let matches = true\n                            let index = 0\n                            let maxIndex = filter.filters.length\n                            while (matches && index < maxIndex) {\n                                const currentFilter = filter.filters[index] as StringFilter | RangeFilter | CustomFilter\n                                if (currentFilter.type === 'cu') {\n                                    matches = currentFilter.filter(el)\n                                } else {\n                                    const compareableData = this.goDownFilterKey(el, currentFilter.key)\n                                    matches = this.filterMatcher(currentFilter, compareableData)\n                                }\n                                index += 1\n                            }\n                            return matches\n                        })\n                        const result: StringIndexed<T> = {}\n                        matchedKeys.forEach(key => {\n                            // @ts-ignore\n                            result[key] = data[key]\n                        })\n                        return result\n                    }\n                }\n            }\n            return data\n        }\n        return []\n    }\n\n    private sort(sortKey: string, direction: 'asc' | 'desc', data?: StringIndexed<T> | Array<T>): StringIndexed<T> {\n        let keys = this.genSortKeys(sortKey)\n        let prepared = []\n        data = data || this.props.data\n        for (let a in data) {\n            //@ts-ignore\n            let element = data[a]\n            let sortValues = []\n            for (let i in keys) {\n                //@ts-ignore\n                let key = keys[i]\n                if (key instanceof Array) {\n                    for (let b of key) {\n                        if (element[i]) {\n                            if (b.indexOf('phone') > -1) {\n                                //@ts-ignore\n                                sortValues.push(element[i][b].replace(' ', ''))\n                            } else if (element[key] instanceof Date) {\n                                sortValues.push(element[key].getTime())\n                            } else {\n                                //@ts-ignore\n                                sortValues.push(element[i][b])\n                            }\n                        }\n                    }\n                } else {\n                    if (key.indexOf('phone') > -1) {\n                        //@ts-ignore\n                        sortValues.push(element[key].replace(' ', ''))\n                    } else if (element[key] instanceof Date) {\n                        sortValues.push(element[key].getTime())\n                    } else {\n                        //@ts-ignore\n                        sortValues.push(element[key])\n                    }\n                }\n\n            }\n            prepared.push({ id: a, value: sortValues.join(' ').toLowerCase() })\n        }\n\n        prepared.sort((a, b) => {\n            let aValue, bValue\n            aValue = parseFloat(a.value)\n            bValue = parseFloat(b.value)\n            if (isNaN(aValue) || isNaN(bValue)) {\n                aValue = a.value\n                bValue = b.value\n            }\n\n            if (aValue < bValue)\n                return (direction === 'asc') ? -1 : 1\n            if (aValue > bValue)\n                return (direction === 'asc') ? 1 : -1\n            return 0\n        })\n\n        let sorted = {}\n        for (let id of prepared) {\n            //@ts-ignore\n            sorted[`_${id.id}`] = this.props.data[id.id]\n        }\n\n        return sorted\n    }\n\n    private genSortKeys(key: string): Array<string> | StringIndexed<any> {\n        let keys = [key]\n        if (key.indexOf('_') > -1) keys = key.split('_')\n\n        let finalKeys: StringIndexed<any> | Array<string> = {}\n        for (let key of keys) {\n            if (key) {\n                if (key.indexOf('.') > -1) {\n                    (finalKeys as StringIndexed<any>)[key.split('.')[0]] = key.split('.')[1].split('-')\n                } else {\n                    (finalKeys as Array<string>) = key.split('-')\n                }\n            }\n        }\n\n        return finalKeys\n    }\n\n    private sortClick(event: MouseEvent<HTMLTableHeaderCellElement>) {\n        let dataKey = (event.target as HTMLElement).dataset.key as string\n        if (!dataKey) dataKey = ((event.target as HTMLElement).parentElement as HTMLElement).dataset.key as string\n        let direction: 'asc' | 'desc' = 'asc'\n\n        if (this.state.sortKey === dataKey) {\n            if (this.state.sortDirection === 'asc') {\n                direction = 'desc'\n            } else {\n                direction = 'asc'\n            }\n        }\n\n        if (this.props.onSort) this.props.onSort(event, this.genSortKeys(dataKey), direction)\n\n        this.setState({\n            sortDirection: direction,\n            sortKey: dataKey\n        })\n    }\n\n    private genSearchKeys(columns: Array<TableColumn>): Array<string | { [index: string]: Array<string> }> {\n        let searchKeys: Array<string | { [index: string]: Array<string> }> = []\n        for (let column of columns) {\n            if (column.searchable) {\n                if (column.keys instanceof Array) {\n                    searchKeys = searchKeys.concat(column.keys)\n                } else {\n                    searchKeys.push(column.keys)\n                }\n            }\n        }\n\n        return searchKeys\n    }\n\n    private search(searchString: string, data?: StringIndexed<T> | Array<T>): StringIndexed<T> | Array<T> {\n        let result: StringIndexed<T> | Array<T> = {}\n        data = data || this.props.data\n\n        if (searchString && this.state.searchableKeys.length > 0) {\n            for (let a in data) {\n                //@ts-ignore\n                let record = data[a]\n                let searchableString = ''\n                for (let key of this.state.searchableKeys) {\n\n                    if (key instanceof Object) {\n                        for (let f in key) {\n                            for (let k of key[f]) {\n                                if (record[f] && record[f][k]) {\n                                    if (k.indexOf('phone') > -1) {\n                                        //@ts-ignore\n                                        searchableString += record[f][k].toString().replace(' ', '') + ' '\n                                    }\n                                    //@ts-ignore\n                                    searchableString += record[f][k].toString() + ' '\n                                }\n                            }\n                        }\n                    } else if (typeof key === 'string' && record.hasOwnProperty(key) && record[key] !== null) {\n                        if (key.indexOf('phone') > -1) {\n                            //@ts-ignore\n                            searchableString += record[key].toString().replace(' ', '') + ' '\n                        }\n                        //@ts-ignore\n                        searchableString += record[key].toString() + ' '\n                    }\n                }\n\n                if (searchableString.toLowerCase().indexOf(searchString.toLowerCase()) > -1 && !result.hasOwnProperty(a)) {\n                    //@ts-ignore\n                    result[a] = record\n                }\n            }\n            return result\n        }\n\n        return data\n    }\n\n    private renderColumnValues(value: any, column: TableColumn): string {\n        if (typeof value === 'boolean') {\n            if (value) {\n                return '✓'\n            }\n            return '⨯'\n        }\n\n        if (value instanceof Array) {\n            return value.map(el => this.renderColumnValues(el, column)).join(',')\n        }\n\n        if (column.format) {\n            let param\n            let command = column.format\n            if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                if (match && match.length > 2) {\n                    command = match[1]\n                    param = match[2]\n                }\n            }\n            return value[command](param)\n        }\n        return (value || '').toString()\n    }\n\n    private renderRows() {\n        let rows = []\n        let data = this.filter(this.state.filter || '')\n        data = this.search(this.props.searchString || '', data)\n        data = this.sort(this.state.sortKey, this.state.sortDirection, data)\n        if (this.props.onDataChange) this.props.onDataChange(data)\n\n        for (let id in data) {\n            //@ts-ignore\n            let dataEntry = data[id] as T & { [index: string]: any }\n            let row = []\n\n            if (this.props.checkable) {\n                row.push(<td style={{ width: '40px' }}><Checkbox onChange={this.props.onCheck || (() => { })} /></td>)\n            }\n\n            for (let column of this.props.columns) {\n                let tdKey = (column.keys instanceof Array) ? column.keys.join('-') : Object.keys(column.keys).map((el: string) => ((column.keys as StringIndexed<Array<string>>)[el].join('-'))).join('-')\n\n                if (column.content) {\n                    row.push(<td key={tdKey}>{column.content || ''}</td>)\n                } else {\n                    let content: Array<string> = []\n                    if (column.keys instanceof Array) {\n                        content = column.keys.map((key) => this.renderColumnValues(dataEntry[key], column))\n                    } else {\n                        for (let k in column.keys) {\n                            tdKey = `${tdKey}${k}`\n                            content = content.concat(column.keys[k].map((key) => {\n                                if (dataEntry.hasOwnProperty(k) && dataEntry[k]) return this.renderColumnValues(dataEntry[k][key], column)\n                                return ''\n                            }))\n                        }\n                    }\n\n                    if (column.link) {\n                        row.push(<td className={column.className || ''} key={`${dataEntry.id}-${tdKey}`}><a key={`${dataEntry.id}-${tdKey}-a`} href={((column.linkPrefix) ? column.linkPrefix : '') + content.join(' ')} target={(column.linkPrefix && (column.linkPrefix.match(/w+:/i) || []).length > 0) ? \"\" : \"_blank\"}>{((column.prefix) ? column.prefix : '') + content.join(' ') + ((column.suffix) ? column.suffix : '')}</a></td>)\n                    } else if (column.editable) {\n                        row.push(<td className={column.className || ''} key={`${dataEntry.id}-${tdKey}`}><Input name={tdKey} value={content.join(' ')} editable={true} type={column.type} onChange={(name, value) => this.onColumnDataChange(tdKey, dataEntry.id, value)} options={column.options} required={column.required} /></td>)\n                    } else {\n                        row.push(<td className={column.className || ''} key={`${dataEntry.id}-${tdKey}`}>{`${column.prefix || ''}${content.join(' ')}${column.suffix || ''}`}</td>)\n                    }\n                }\n            }\n            let trKey = id\n            if (this.props.data instanceof Array) trKey = dataEntry.id.toString()\n            rows.push(<tr key={trKey} data-key={trKey.replace(/^_/, '')}>{row}</tr>)\n        }\n\n        if (this.props.addNew) {\n            const trKey = Object.keys(this.props.data).length\n            const newRow = []\n            for (const column of this.props.columns) {\n                let tdKey = ''\n                if (column.keys instanceof Array) {\n                    tdKey = column.keys.join('-')\n                } else {\n                    tdKey = Object.keys(column.keys).join('-')\n                }\n\n\n                if (column.editable) {\n                    newRow.push(<td className={column.className || ''} key={`${trKey}-${tdKey}`}><Input name={`${trKey}-${tdKey}`} value={''} editable={true} type={column.type} onChange={(name, value) => this.onColumnDataChange(tdKey, null, value, true)} options={column.options} /></td>)\n                } else {\n                    newRow.push(<td className={column.className || ''} key={`${trKey}-${tdKey}`}></td>)\n                }\n            }\n            rows.push(<tr key={trKey}>{newRow}</tr>)\n        }\n        return rows\n    }\n\n    public render() {\n        return (\n            <div className=\"table-responsive\">\n                <table className={`table table-striped ${this.props.className || ''}`} ref={this.ref}>\n                    <thead key=\"table-head\">\n                        <tr key=\"table-head-row\">\n                            {this.props.checkable ? <th></th> : ''}\n                            {this.props.columns.map((column) => {\n                                let columnKey = ''\n                                if (column.keys instanceof Array) {\n                                    columnKey = column.keys.join('-')\n                                } else {\n                                    for (let k in column.keys) {\n                                        columnKey += '_' + k + '.' + column.keys[k].join('-')\n                                    }\n                                }\n                                let sortIndicator\n                                if (columnKey === this.state.sortKey) {\n                                    if (this.state.sortDirection === 'asc') {\n                                        sortIndicator = <FontAwesomeIcon icon=\"sort-down\" className=\"float-right\" />\n                                    } else {\n                                        sortIndicator = <FontAwesomeIcon icon=\"sort-up\" className=\"float-right\" />\n                                    }\n                                }\n                                if (column.sortable) {\n                                    return <th key={columnKey} data-key={columnKey} scope=\"col\" onClick={this.sortClick} style={{ cursor: 'pointer' }}>{column.text}{sortIndicator}</th>\n                                }\n                                return <th key={columnKey} data-key={columnKey} scope=\"col\">{column.text}</th>\n                            })}\n                        </tr>\n                    </thead>\n                    <tbody key=\"table-body\">\n                        {this.renderRows()}\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\"\nimport { Page } from \"../components/Page\"\nimport Row from \"../components/Row\"\nimport Column from \"../components/Column\"\nimport Panel from \"../components/Panel\"\nimport { DataInterface } from \"../reducers/DataReducer\"\nimport Table, { TableColumn, TableFilter } from \"../components/Table\"\nimport { History } from \"history\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport Loading from \"./Loading\"\nimport StringIndexed from \"../interfaces/StringIndexed\"\nimport { ButtonToolbar, Button, ButtonGroup } from \"react-bootstrap\"\n\nexport interface DataListProps<T> {\n    data: DataInterface<T>,\n    fetchData: Function,\n    onSearch?: (value: string) => void,\n    onFilter?: (filter: string) => void,\n    title: string,\n    viewLocation: string,\n    tableColumns: Array<TableColumn>\n    history: History\n    panelActions?: Array<any>\n    rowActions?: Array<any>,\n    filters?: Array<DataListTableFilter | TableFilter>,\n    defaultFilter?: string,\n    additionalTitleStuff?: JSX.Element[],\n    onDataChange?: (data: StringIndexed<T>) => void\n}\n\nexport interface DataListState {\n    searchString: string,\n    filter: string,\n    sort: {\n        keys: Array<string> | StringIndexed<string>,\n        direction: 'asc' | 'desc'\n    }\n}\n\nexport interface DataListTableFilter extends TableFilter {\n    filterComponents: JSX.Element[]\n}\n\nexport class DataList<T extends { id: string | number }> extends Component<DataListProps<T>, DataListState> {\n    constructor(props: DataListProps<T>) {\n        super(props)\n\n        if (!this.props.data.loading) {\n            setImmediate(() => { this.props.fetchData() })\n        }\n\n        this.elementView = this.elementView.bind(this)\n        this.textSearch = this.textSearch.bind(this)\n        this.onSort = this.onSort.bind(this)\n        this.onFilter = this.onFilter.bind(this)\n\n        this.state = {\n            searchString: '',\n            sort: {\n                keys: this.props.data.sort.keys,\n                direction: this.props.data.sort.direction\n            },\n            filter: this.props.defaultFilter || (this.props.filters || [{ id: '' }])[0].id\n        }\n    }\n\n    public elementView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + this.props.viewLocation + id)\n            } else {\n                this.props.history.push(this.props.viewLocation + id)\n            }\n        }\n    }\n\n    public shouldComponentUpdate(nextProps: DataListProps<T>, nextState: DataListState): boolean {\n        if (this.props !== nextProps) return true\n        if (this.state.searchString !== nextState.searchString) return true\n        if (this.state.filter !== nextState.filter) return true\n\n        // don't rerender on sort change, because this is just to keep track of the state below\n        return false\n    }\n\n    private onSort(event: React.MouseEvent<HTMLTableHeaderCellElement>, keys: Array<string> | StringIndexed<string>, direction: 'asc' | 'desc'): void {\n        this.setState({\n            sort: {\n                keys: keys,\n                direction: direction\n            }\n        })\n    }\n\n    private onFilter(filter: string): void {\n        if (this.props.onFilter) this.props.onFilter(filter)\n        this.setState({\n            filter\n        })\n    }\n\n    private textSearch(event: React.ChangeEvent<HTMLInputElement>) {\n        if (this.props.onSearch) this.props.onSearch(event.target.value)\n        this.setState({\n            searchString: event.target.value\n        })\n    }\n\n    private renderFilters() {\n        if (this.props.filters) {\n            const activeFilter = this.props.filters.find(f => f.id === this.state.filter)\n            let activeFilterComponents: JSX.Element[] = []\n            if (activeFilter && 'filterComponents' in activeFilter) {\n                activeFilterComponents = activeFilter.filterComponents\n            }\n            return (\n                <>\n                    <ButtonGroup className=\"filters\">\n                        {\n                            this.props.filters.map((filter: TableFilter | DataListTableFilter) => {\n                                return <Button variant='outline-secondary' active={filter.id === this.state.filter} onClick={() => this.onFilter(filter.id)}>{filter.displayName}</Button>\n                            })\n                        }\n                    </ButtonGroup>\n                    {activeFilterComponents}\n                </>\n            )\n        }\n        return <ButtonGroup></ButtonGroup>\n    }\n\n    private renderTable() {\n        if (this.props.data.loading) {\n            return (\n                <Loading />\n            )\n        }\n\n        let dataById: StringIndexed<any> = {}\n        for (let id of this.props.data.ids) {\n            dataById[id] = this.props.data.byId[id]\n        }\n\n        return (\n            <Table<T>\n                columns={this.props.tableColumns.concat([\n                    {\n                        text: 'Actions', keys: ['id'], content:\n                            <div className=\"btn-group\">\n                                <button className=\"btn btn-success view\" onMouseUp={this.elementView}><FontAwesomeIcon icon=\"eye\" /></button>\n                                {this.props.rowActions}\n                            </div>\n                    }\n                ])}\n                data={dataById}\n                defaultSort={this.state.sort}\n                searchString={this.state.searchString}\n                onSort={this.onSort}\n                filters={this.props.filters}\n                defaultFilter={this.state.filter}\n                onDataChange={this.props.onDataChange}\n            />\n        )\n    }\n\n    public render() {\n        return (\n            <Page title={this.props.title}>\n                <Row>\n                    <Column>\n                        <Panel\n                            actions={this.props.panelActions || []}\n                            title={\n                                <ButtonToolbar className=\"justify-content-between align-items-center\">\n                                    {this.renderFilters()}\n                                    {this.props.additionalTitleStuff || []}\n                                    <input id=\"search\" value={this.state.searchString} placeholder=\"Search...\" className=\"form-control form-control-sm\" onChange={(event) => this.textSearch(event)} />\n                                </ButtonToolbar>\n                            }>\n                            {this.renderTable()}\n                        </Panel>\n                    </Column>\n                </Row>\n                {this.props.children}\n            </Page>\n        )\n    }\n}","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { faUserTimes, faCheckCircle, faFileInvoiceDollar, faFileWord, faFilePdf, faExternalLinkAlt, faFileExcel, faPowerOff, faTrash, faSave, faAddressBook, faMapMarkerAlt, faDownload, faClipboard, faBars, faTachometerAlt, faUsers, faCircleNotch, faTimes, faCheck, faSortUp, faSortDown, faPencilAlt, faFileAlt, faEye, faFileSignature, faPlus, faList, faDollarSign, faUser, faAngleDown, faAngleUp, faMailBulk } from '@fortawesome/free-solid-svg-icons'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\n//@ts-ignore\nlibrary.add(fab, faUserTimes, faCheckCircle, faFileInvoiceDollar, faFileWord, faFilePdf, faExternalLinkAlt, faFileExcel, faPowerOff, faTrash, faSave, faAddressBook, faMapMarkerAlt, faDownload, faClipboard, faBars, faTachometerAlt, faUsers, faCircleNotch, faTimes, faCheck, faSortUp, faSortDown, faPencilAlt, faFileAlt, faEye, faFileSignature, faPlus, faList, faDollarSign, faDollarSign, faUser, faAngleDown, faAngleUp, faMailBulk)\n","import { combineReducers, AnyAction } from \"redux\";\nimport { UIActions } from \"../actions/UIActions\";\nimport { toast } from 'react-toastify';\nimport CurrentDevice from 'current-device'\n\nexport interface UI {\n    navibar_open: boolean,\n    navibar_level: string,\n    notification: null\n}\n\n\nfunction NavibarToggle(state: boolean = !CurrentDevice.mobile(), action: AnyAction) {\n    switch (action.type) {\n        case UIActions.NAVIBAR_TOGGLE:\n            return !state\n        case UIActions.NAVIBAR_OPEN:\n            return true\n        case UIActions.NAVIBAR_CLOSE:\n            return false\n        default:\n            return state\n    }\n}\n\nfunction NavibarLevel(state: string = '', action: AnyAction) {\n    switch (action.type) {\n        case UIActions.NAVIBAR_LEVEL_OPEN:\n            return action.payload\n        case UIActions.NAVIBAR_LEVEL_COLLAPSE:\n            return ''\n        default:\n            return state\n    }\n}\n\nfunction Notify(state = null, action: AnyAction): null {\n    switch (action.type) {\n        case UIActions.NOTIFICATION_SUCCESS:\n            toast.success(action.payload, {\n                autoClose: 2000,\n                position: (CurrentDevice.mobile() ? 'bottom-center' : 'top-right')\n            })\n            return state\n        case UIActions.NOTIFICATION_ERROR:\n            toast.error(action.payload, {\n                autoClose: 2000,\n                position: (CurrentDevice.mobile() ? 'bottom-center' : 'top-right')\n            })\n            return state\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({ navibar_open: NavibarToggle, navibar_level: NavibarLevel, notification: Notify })","import { DataActions } from \"./../actions/DataActions\"\nimport { AnyAction, combineReducers } from \"redux\"\nimport StringIndexed from \"../interfaces/StringIndexed\"\nimport { UIActions } from \"../actions/UIActions\"\nimport User from \"../entities/User\"\nimport Contact from \"../entities/Contact\"\nimport ContactGroup from \"../entities/ContactGroup\"\nimport Order from \"../entities/Order\"\nimport BillingReport from \"../entities/BillingReport\"\nimport Compensation from \"../entities/Compensation\"\nimport CollectionPoint from \"../entities/CollectionPoint\"\nimport Payout from \"../entities/Payout\"\nimport CustomCompensation from \"../entities/CustomCompensation\"\nimport OrderCompensation from \"../entities/OrderCompensation\"\nimport Logoff from \"../entities/Logoff\"\n\nexport interface Data {\n    users: DataInterface<User>\n    user: SingleDataInterface<User>,\n    contacts: DataInterface<Contact>\n    members: DataInterface<Contact>\n    ranks: DataInterface<ContactGroup>\n    orders: DataInterface<Order>,\n    openOrders: DataInterface<Order>,\n    billingReports: DataInterface<BillingReport>,\n    compensationEntries: DataInterface<Compensation>,\n    mailingLists: StringIndexed<Array<string>>,\n    collectionPoints: DataInterface<CollectionPoint>,\n    payouts: DataInterface<Payout>,\n    logoffs: DataInterface<Logoff>\n}\n\nexport interface SingleDataInterface<T> {\n    loading: boolean,\n    data?: T\n}\n\nexport interface DataInterface<T> {\n    loading: boolean,\n    byId: StringIndexed<T>,\n    ids: Array<number>,\n    sort: { keys: Array<string>, direction: 'asc' | 'desc' }\n}\n\nfunction UserReducer(state: SingleDataInterface<User> = { loading: false, data: undefined }, action: AnyAction): SingleDataInterface<User> {\n    switch (action.type) {\n        case DataActions.FETCH_USER:\n            return Object.assign({}, state, { loading: true })\n        case DataActions.GOT_USER:\n            if (Object.keys(action.payload).length > 0) {\n                return { loading: false, data: action.payload }\n            } else {\n                return { loading: false, data: undefined }\n            }\n        case UIActions.LOGOUT:\n            return { loading: false, data: undefined }\n        default:\n            return state\n    }\n}\n\nfunction Users(state: DataInterface<User> = { loading: false, byId: {}, ids: [], sort: { keys: ['displayName'], direction: 'asc' } }, action: AnyAction): DataInterface<User> {\n    let byId: StringIndexed<User> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_USERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_USERS:\n            if (Object.keys(action.payload).length < 1) return Object.assign({}, state, { loading: false })\n            for (let contact of action.payload) {\n                byId[contact.id] = contact\n                ids.push(contact.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Ranks(state: DataInterface<ContactGroup> = { loading: false, byId: {}, ids: [], sort: { keys: ['name'], direction: 'asc' } }, action: AnyAction): DataInterface<ContactGroup> {\n    let byId: StringIndexed<ContactGroup> = {}\n    let ids = []\n    switch (action.type) {\n        case DataActions.FETCH_RANKS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_RANKS:\n            if (Object.keys(action.payload).length < 1) return Object.assign({}, state, { loading: false })\n            for (let rank of action.payload) {\n                byId[rank.id] = rank\n                ids.push(rank.id)\n            }\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Contacts(state: DataInterface<Contact> = { loading: false, byId: {}, ids: [], sort: { keys: ['lastname', 'firstname'], direction: 'asc' } }, action: AnyAction): DataInterface<Contact> {\n    let byId: StringIndexed<Contact> = {}\n    let ids = []\n    switch (action.type) {\n        case DataActions.FETCH_CONTACTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_CONTACTS:\n            if (Object.keys(action.payload).length < 1) return Object.assign({}, state, { loading: false })\n            for (let contact of action.payload) {\n                byId[contact.id] = contact\n                ids.push(contact.id)\n            }\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Members(state: DataInterface<Contact> = { loading: false, byId: {}, ids: [], sort: { keys: ['lastname', 'firstname'], direction: 'asc' } }, action: AnyAction): DataInterface<Contact> {\n    let byId: StringIndexed<Contact> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_MEMBERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_MEMBERS:\n            if (Object.keys(action.payload).length < 1) return Object.assign({}, state, { loading: false })\n            for (let contact of action.payload) {\n                byId[contact.id] = contact\n                ids.push(contact.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Orders(state: DataInterface<Order> = { loading: false, byId: {}, ids: [], sort: { keys: ['documentNr'], direction: 'desc' } }, action: AnyAction): DataInterface<Order> {\n    let byId: StringIndexed<Order> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_ORDERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_ORDERS:\n            if (Object.keys(action.payload).length < 1) return Object.assign({}, state, { loading: false })\n            for (let order of action.payload) {\n                byId[order.id] = order\n                ids.push(order.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction OpenOrders(state: DataInterface<Order> = { loading: false, byId: {}, ids: [], sort: { keys: ['title'], direction: 'desc' } }, action: AnyAction): DataInterface<Order> {\n    let byId: StringIndexed<Order> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_OPEN_ORDERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_OPEN_ORDERS:\n            if (Object.keys(action.payload).length < 1) return Object.assign({}, state, { loading: false })\n            for (let order of action.payload) {\n                byId[order.id] = order\n                ids.push(order.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\n\nfunction BillingReports(state: DataInterface<BillingReport> = { loading: false, byId: {}, ids: [], sort: { keys: ['date'], direction: 'desc' } }, action: AnyAction): DataInterface<BillingReport> {\n    let byId: StringIndexed<BillingReport> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_BILLING_REPORTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_BILLING_REPORTS:\n            if (Object.keys(action.payload).length < 1) return Object.assign({}, state, { loading: false })\n            for (let report of action.payload) {\n                byId[report.id] = report\n                ids.push(report.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        case DataActions.APPROVE_BILLING_REPORT:\n            byId = Object.assign({}, state.byId, Object.assign({}, state.byId[action.payload], { status: 'approved' }))\n            return Object.assign({}, state, { byId: byId })\n        default:\n            return state\n    }\n}\n\nfunction CompensationEntries(state: DataInterface<Compensation> = { loading: false, byId: {}, ids: [], sort: { keys: ['date'], direction: 'desc' } }, action: AnyAction): DataInterface<Compensation> {\n    let byId: StringIndexed<Compensation> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_COMPENSATION_ENTRIES:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_COMPENSATION_ENTRIES:\n            if (Object.keys(action.payload).length < 1) return Object.assign({}, state, { loading: false })\n            for (let entry of action.payload) {\n                byId[entry.id] = entry\n                ids.push(entry.id)\n\n                if (!entry.hasOwnProperty('description')) {\n                    if (entry.hasOwnProperty('billingReport') && entry.billingReport.hasOwnProperty('order')) {\n                        // only show the contact if the contact is not a privat person (identified that companies doesn't have any firstname)\n                        if (entry.billingReport.order.hasOwnProperty('contact') && !entry.billingReport.order.contact.hasOwnProperty('firstname')) {\n                            byId[entry.id] = Object.assign(byId[entry.id], { description: `${entry.billingReport.order.title} (${entry.billingReport.order.contact.lastname})` })\n                        } else {\n                            byId[entry.id] = Object.assign(byId[entry.id], { description: `${entry.billingReport.order.title}` })\n                        }\n                    }\n                }\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        case DataActions.APPROVE_COMPENSATION_ENTRY:\n            byId = Object.assign({}, state.byId, Object.assign({}, state.byId[action.payload], { status: 'approved' }))\n            return Object.assign({}, state, { byId: byId })\n        case DataActions.DELETE_COMPENSATION_ENTRY:\n            return Object.assign({}, state, { ids: state.ids.filter(el => el !== action.payload) })\n        default:\n            return state\n    }\n}\n\nfunction CollectionPoints(state: DataInterface<CollectionPoint> = { loading: false, byId: {}, ids: [], sort: { keys: ['city'], direction: 'desc' } }, action: AnyAction): DataInterface<CollectionPoint> {\n    let byId: StringIndexed<CollectionPoint> = {}\n    let ids: Array<number> = []\n    switch (action.type) {\n        case DataActions.FETCH_COLLECTION_POINTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_COLLECTION_POINTS:\n            if (Object.keys(action.payload).length < 1) return Object.assign({}, state, { loading: false })\n            for (let entry of action.payload) {\n                byId[entry.id] = entry\n                ids.push(entry.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction MailingLists(state: StringIndexed<Array<string>> = {}, action: AnyAction): StringIndexed<Array<string>> {\n    switch (action.type) {\n        case DataActions.GOT_MEMBERS:\n            let mailingLists = { all: ([] as Array<string>), drivers: ([] as Array<string>), vks: ([] as Array<string>), squad: ([] as Array<string>), vst: ([] as Array<string>), con: ([] as Array<string>) }\n\n            for (let member of (action.payload as Array<Contact>)) {\n                mailingLists.all.push(member.mail)\n                if (member.mailSecond) mailingLists.all.push(member.mailSecond)\n                mailingLists.all = mailingLists.all.concat(member.moreMails || [])\n\n                // Drivers\n                if (member.contactGroups.find(group => group.bexioId === 9)) {\n                    mailingLists.drivers.push(member.mail)\n                    if (member.mailSecond) mailingLists.drivers.push(member.mailSecond)\n                    mailingLists.drivers = mailingLists.drivers.concat(member.moreMails || [])\n                }\n\n                // VKs\n                if (member.contactGroups.find(group =>\n                    group.bexioId === 17 ||\n                    group.bexioId === 13 ||\n                    group.bexioId === 11 ||\n                    group.bexioId === 12 ||\n                    group.bexioId === 28 ||\n                    group.bexioId === 29 ||\n                    group.bexioId === 15 ||\n                    group.bexioId === 27 ||\n                    group.bexioId === 26 ||\n                    group.bexioId === 10 ||\n                    group.bexioId === 14\n                )) {\n                    mailingLists.vks.push(member.mail)\n                    if (member.mailSecond) mailingLists.vks.push(member.mailSecond)\n                    mailingLists.vks = mailingLists.vks.concat(member.moreMails || [])\n                }\n\n                // Squad\n                if (member.contactGroups.find(group =>\n                    group.bexioId === 13 ||\n                    group.bexioId === 12 ||\n                    group.bexioId === 28 ||\n                    group.bexioId === 29 ||\n                    group.bexioId === 15 ||\n                    group.bexioId === 14\n                )) {\n                    mailingLists.squad.push(member.mail)\n                    if (member.mailSecond) mailingLists.squad.push(member.mailSecond)\n                    mailingLists.squad = mailingLists.squad.concat(member.moreMails || [])\n                }\n\n                // VST\n                if (member.contactGroups.find(group => group.bexioId === 16)) {\n                    mailingLists.vst.push(member.mail)\n                    if (member.mailSecond) mailingLists.vst.push(member.mailSecond)\n                    mailingLists.vst = mailingLists.vst.concat(member.moreMails || [])\n                }\n\n                // Condor\n                if (member.contactGroups.find(group => group.bexioId === 22)) {\n                    mailingLists.con.push(member.mail)\n                    if (member.mailSecond) mailingLists.con.push(member.mailSecond)\n                    mailingLists.con = mailingLists.con.concat(member.moreMails || [])\n                }\n            }\n            return mailingLists\n        default:\n            return state\n    }\n}\n\nfunction Payouts(state: DataInterface<Payout> = { loading: false, byId: {}, ids: [], sort: { keys: ['until'], direction: 'desc' } }, action: AnyAction): DataInterface<Payout> {\n    let byId: StringIndexed<Payout> = {}\n    let ids: Array<number> = []\n    switch (action.type) {\n        case DataActions.FETCH_PAYOUTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_PAYOUTS:\n            if (Object.keys(action.payload).length < 1) return Object.assign({}, state, { loading: false })\n\n            for (let entry of action.payload as Array<Payout>) {\n                let byMember: StringIndexed<Array<Compensation>> = {}\n                for (let i in entry.compensations) {\n                    let compensation = entry.compensations[i]\n                    if (!compensation.hasOwnProperty('description')) {\n                        if (compensation.hasOwnProperty('billingReport') && (compensation as OrderCompensation).billingReport && (compensation as OrderCompensation).billingReport.hasOwnProperty('order')) {\n                            // only show the contact if the contact is not a privat person (identified that companies doesn't have any firstname)\n                            if ((compensation as OrderCompensation).billingReport.order.hasOwnProperty('contact') && !(compensation as OrderCompensation).billingReport.order.contact.hasOwnProperty('firstname')) {\n                                compensation = Object.assign(compensation, { description: `${(compensation as OrderCompensation).billingReport.order.title} (${(compensation as OrderCompensation).billingReport.order.contact.lastname})` })\n                            } else {\n                                compensation = Object.assign(compensation, { description: `${(compensation as OrderCompensation).billingReport.order.title}` })\n                            }\n                        }\n                    }\n\n                    entry.compensations[i] = compensation\n                    if (!byMember.hasOwnProperty(compensation.member.id)) byMember[compensation.member.id] = []\n                    byMember[compensation.member.id].push(compensation)\n                }\n                entry.compensationsByMember = byMember\n                entry.totalWithoutMinus = Object.keys(byMember).map(key => {\n                    let total = 0\n                    byMember[key].map(comp => total = total + comp.amount)\n                    if (total > 0) return total\n                    return 0\n                }).reduce((a, b) => a + b, 0)\n                byId[entry.id] = entry\n                ids.push(entry.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Logoffs(state: DataInterface<Logoff> = { loading: false, byId: {}, ids: [], sort: { keys: ['from'], direction: 'desc' } }, action: AnyAction): DataInterface<Logoff> {\n    let byId: StringIndexed<Logoff> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_LOGOFFS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_LOGOFFS:\n            if (Object.keys(action.payload).length < 1) return Object.assign({}, state, { loading: false })\n            for (let logoff of action.payload) {\n                byId[logoff.id] = logoff\n                ids.push(logoff.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        case DataActions.APPROVE_LOGOFF:\n            byId = Object.assign({}, state.byId, Object.assign({}, state.byId[action.payload], { approved: true }))\n            return Object.assign({}, state, { byId: byId })\n        case DataActions.DECLINE_LOGOFF:\n            return Object.assign({}, state, { ids: state.ids.filter(el => el !== action.payload) })\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({ logoffs: Logoffs, payouts: Payouts, collectionPoints: CollectionPoints, user: UserReducer, users: Users, contacts: Contacts, members: Members, ranks: Ranks, orders: Orders, openOrders: OpenOrders, billingReports: BillingReports, compensationEntries: CompensationEntries, mailingLists: MailingLists })\n","import UIReducer, { UI } from \"./UIReducer\";\nimport DataReducer, { Data } from \"./DataReducer\";\n\nexport interface State {\n    ui: UI,\n    data: Data\n}\n\nexport default { ui: UIReducer, data: DataReducer }","import Contact from \"./Contact\"\nimport Base from \"./Base\"\nimport User from \"./User\"\n\nexport enum LogoffState {\n    APPROVED = 'approved',\n    PENDING = 'pending',\n    DECLINED = 'declined'\n}\n\nexport default class Logoff extends Base {\n    public contact: Contact\n\n    public from: Date\n\n    public until: Date\n\n    public state: LogoffState\n\n    public remarks?: string\n\n    public createdBy: User\n\n    public changedStateBy: User\n\n    public deletedAt?: Date\n\n    public deletedBy: User\n\n    constructor(contact: Contact, from: Date, until: Date, state: LogoffState, remarks: string, createdBy: User) {\n        super()\n        this.contact = contact\n        this.from = from\n        this.until = until\n        this.state = state\n        this.remarks = remarks || undefined\n        this.createdBy = createdBy\n    }\n}","\nimport React, { Component } from \"react\";\nimport { Page } from \"../Page\";\n\nexport class Error403 extends Component {\n    public render() {\n        return (\n            <Page title=\"\">\n                <div className=\"gandalf\">\n                    <div className=\"fireball\"></div>\n                    <div className=\"skirt\"></div>\n                    <div className=\"sleeves\"></div>\n                    <div className=\"shoulders\">\n                        <div className=\"hand left\"></div>\n                        <div className=\"hand right\"></div>\n                    </div>\n                    <div className=\"head\">\n                        <div className=\"hair\"></div>\n                        <div className=\"beard\"></div>\n                    </div>\n                </div>\n                <div className=\"message\">\n                    <h1>403 - You Shall Not Pass</h1>\n                    <p>Uh oh, Gandalf is blocking the way!<br />Maybe you have a typo in the url? Or you meant to go to a different location? Like...Hobbiton?</p>\n                </div>\n            </Page>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { State } from '../reducers/IndexReducer';\nimport { AuthRoles } from '../interfaces/AuthRoles';\nimport User from '../entities/User';\nimport { RouteProps } from 'react-router';\nimport { Dispatch } from 'redux';\nimport { UI } from '../actions/UIActions';\nimport { Error403 } from './Errors/403';\n\nexport interface SecureRouteProps {\n    user?: User,\n    showError?: (message: string) => void\n    exact: boolean,\n    path: string,\n    roles: Array<AuthRoles>\n    component: any\n}\n\nexport default class _SecureRoute extends Component<RouteProps & SecureRouteProps> {\n    public render() {\n        for (let role of this.props.roles) {\n            if (this.props.user && (this.props.user.roles.includes(role) || this.props.user.roles.includes(AuthRoles.ADMIN))) {\n                return (\n                    <Route exact={this.props.exact} path={this.props.path} component={this.props.component} />\n                )\n            }\n        }\n\n        if (this.props.user && this.props.showError) {\n            this.props.showError('Not Authorized!')\n            return <Route exact={this.props.exact} path={this.props.path} component={Error403} />\n        }\n\n        return (\n            <Route exact={this.props.exact} path={this.props.path} component={() => {\n                return (<Redirect push to={{\n                    pathname: \"/login\",\n                    state: {\n                        prevLocation: (this.props.location || { pathname: '' }).pathname\n                    },\n                }} />)\n            }} />\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        showError: (message: string) => {\n            dispatch(UI.showError(message))\n        }\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user.data\n    }\n}\n\nexport const SecureRoute = connect(mapStateToProps, mapDispatchToProps)(_SecureRoute)","import React, { Component } from \"react\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { connect } from \"react-redux\"\nimport { Data } from \"../actions/DataActions\"\nimport Panel from \"./Panel\"\nimport Loading from \"./Loading\"\nimport { AuthRoles } from \"../interfaces/AuthRoles\"\nimport Compensation from \"../entities/Compensation\"\nimport { RouteComponentProps } from \"react-router\"\nimport User from '../entities/User'\nimport Contact from '../entities/Contact'\nimport Table from \"./Table\"\nimport { Button } from \"react-bootstrap\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { DataInterface } from \"../reducers/DataReducer\"\n\nexport interface ContactCompensationProps extends RouteComponentProps<{ id: string }> {\n    user: User,\n    contact: Contact,\n    loading: boolean,\n    fetchData: () => Promise<AnyAction>,\n    compensations: DataInterface<Compensation>,\n}\n\n\nexport interface ContactCompensationState {\n    openCompensationsSum: number,\n    compensations: Array<Compensation>\n}\n\nexport class _ContactCompensation extends Component<ContactCompensationProps, ContactCompensationState> {\n    constructor(props: ContactCompensationProps) {\n        super(props)\n\n        this.compensationView = this.compensationView.bind(this)\n\n        this.state = {\n            openCompensationsSum: 0,\n            compensations: []\n        }\n    }\n\n    private getContactCompensations(): Array<Compensation> {\n        if (this.props.compensations.ids.length <= 0) return []\n\n        const compensations: Array<Compensation> = []\n        this.props.compensations.ids.forEach(id => {\n            const compensation = this.props.compensations.byId[id]\n            if (compensation.member.id === this.props.contact.id && compensation.approved) {\n                compensations.push(compensation)\n            }\n\n        })\n        return compensations\n    }\n\n    public compensationView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/compensation/' + id)\n            } else {\n                this.props.history.push('/compensation/' + id)\n            }\n        }\n    }\n\n    public componentDidMount() {\n        this.props.fetchData()\n        const compensations = this.getContactCompensations()\n        this.setState({ openCompensationsSum: compensations.filter(a => !a.paied).reduce((a, b) => a + b.amount, 0), compensations })\n    }\n\n    public componentDidUpdate(prevProps: ContactCompensationProps) {\n        if (this.props.compensations.ids.length > 0 && this.props.loading === false && prevProps.compensations.ids.length !== this.props.compensations.ids.length) {\n            const compensations = this.getContactCompensations()\n            this.setState({ openCompensationsSum: compensations.filter(a => !a.paied).reduce((a, b) => a + b.amount, 0), compensations })\n        }\n    }\n\n    public render() {\n        const actions: Array<React.ReactElement> = [<Button variant=\"success\" className=\"view\" onMouseUp={this.compensationView}><FontAwesomeIcon icon=\"eye\" /></Button>]\n\n        if (this.props.user.roles.indexOf(AuthRoles.COMPENSATIONS_READ) < 0 && this.props.user.roles.indexOf(AuthRoles.ADMIN) < 0 && (this.props.user.bexioContact || { id: undefined }).id !== this.props.contact.id) {\n            return null\n        }\n\n        if (this.props.loading) {\n            return <Panel title=\"Entschädigungen\"><Loading /></Panel>\n        }\n\n        return (\n            <Panel title={`Entschädigungen (Offen: ${this.state.openCompensationsSum.toFixed(2)}.-)`} scrollable={true}>\n                <Table<Compensation>\n                    columns={[\n                        { text: 'Datum', keys: ['date'], sortable: true, format: 'toLocaleDateString' },\n                        { text: 'Beschreibung', keys: ['description'], sortable: true },\n                        { text: 'Betrag', keys: ['amount'], prefix: 'CHF ', sortable: true, format: 'toFixed(2)' },\n                        { text: 'Genehmigt', keys: ['approved'], sortable: true },\n                        { text: 'Ausbezahlt', keys: ['paied'], sortable: true },\n                        {\n                            text: 'Actions', keys: ['_id'], content: <div className=\"btn-group\">\n                                {actions}\n                            </div>\n                        }\n                    ]}\n                    defaultSort={{\n                        keys: ['date'],\n                        direction: 'desc'\n                    }}\n                    data={this.state.compensations}\n                />\n            </Panel>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        loading: state.data.contacts.loading || state.data.members.loading || state.data.compensationEntries.loading,\n        compensations: state.data.compensationEntries\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            return dispatch(Data.fetchCompensationEntries())\n        }\n    }\n}\n\n//@ts-ignore\nexport const ContactCompensation = connect(mapStateToProps, mapDispatchToProps)(_ContactCompensation)","import React, { Component } from \"react\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { connect } from \"react-redux\"\nimport { Data } from \"../actions/DataActions\"\nimport Panel from \"./Panel\"\nimport Loading from \"./Loading\"\nimport { AuthRoles } from \"../interfaces/AuthRoles\"\nimport { RouteComponentProps } from \"react-router\"\nimport User from '../entities/User'\nimport Contact from '../entities/Contact'\nimport Table from \"./Table\"\nimport { Button } from \"react-bootstrap\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { DataInterface } from \"../reducers/DataReducer\"\nimport Logoff from \"../entities/Logoff\"\n\nexport interface ContactLogoffProps extends RouteComponentProps<{ id: string }> {\n    user: User,\n    contact: Contact,\n    loading: boolean,\n    fetchData: () => Promise<AnyAction>,\n    logoffs: DataInterface<Logoff>,\n}\n\n\nexport interface ContactLogoffState {\n    logoffs: Array<Logoff>\n}\n\nexport class _ContactLogoff extends Component<ContactLogoffProps, ContactLogoffState> {\n    constructor(props: ContactLogoffProps) {\n        super(props)\n\n        this.logoffView = this.logoffView.bind(this)\n\n        this.state = {\n            logoffs: []\n        }\n    }\n\n    private getContactLogoffs(): void {\n        if (this.props.logoffs.ids.length <= 0) {\n            this.setState({ logoffs: [] })\n            return\n        }\n\n        const logoffs: Array<Logoff> = []\n        this.props.logoffs.ids.forEach(id => {\n            const logoff = this.props.logoffs.byId[id]\n            if (logoff.contact.id === this.props.contact.id) {\n                logoffs.push(logoff)\n            }\n\n        })\n        this.setState({ logoffs })\n    }\n\n    public logoffView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/draft/logoff/' + id)\n            } else {\n                this.props.history.push('/draft/logoff/' + id)\n            }\n        }\n    }\n\n    public componentDidMount() {\n        this.props.fetchData()\n        this.getContactLogoffs()\n    }\n\n    public componentDidUpdate(prevProps: ContactLogoffProps) {\n        if (this.props.logoffs.ids.length > 0 && this.props.loading === false && prevProps.logoffs.ids.length !== this.props.logoffs.ids.length) {\n            this.getContactLogoffs()\n        }\n    }\n\n    public render() {\n        const actions: Array<React.ReactElement> = [<Button variant=\"success\" className=\"view\" onMouseUp={this.logoffView}><FontAwesomeIcon icon=\"eye\" /></Button>]\n\n        if (this.props.user.roles.indexOf(AuthRoles.LOGOFFS_READ) < 0 && this.props.user.roles.indexOf(AuthRoles.ADMIN) < 0 && (this.props.user.bexioContact || { id: undefined }).id !== this.props.contact.id) {\n            return null\n        }\n\n        if (this.props.loading) {\n            return <Panel title=\"Abmeldungen\"><Loading /></Panel>\n        }\n\n        return (\n            <Panel title={`Abmeldungen`} scrollable={true}>\n                <Table<Logoff>\n                    columns={[\n                        { text: 'Von', keys: ['from'], sortable: true, format: 'toLocaleString' },\n                        { text: 'Bis', keys: ['until'], sortable: true, format: 'toLocaleString' },\n                        { text: 'Status', keys: ['state'], sortable: true },\n                        {\n                            text: 'Actions', keys: ['_id'], content: <div className=\"btn-group\">\n                                {actions}\n                            </div>\n                        }\n                    ]}\n                    defaultSort={{\n                        keys: ['from'],\n                        direction: 'desc'\n                    }}\n                    data={this.state.logoffs}\n                />\n            </Panel>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        loading: state.data.contacts.loading || state.data.members.loading || state.data.logoffs.loading,\n        logoffs: state.data.logoffs\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            return dispatch(Data.fetchLogoffs())\n        }\n    }\n}\n\n//@ts-ignore\nexport const ContactLogoff = connect(mapStateToProps, mapDispatchToProps)(_ContactLogoff)","import React, { Component } from \"react\"\nimport { Page } from '../components/Page'\nimport Panel from \"../components/Panel\"\nimport Column from \"../components/Column\"\nimport Row from \"../components/Row\"\nimport { Link } from \"react-router-dom\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { connect } from 'react-redux'\nimport { Data } from \"../actions/DataActions\"\nimport Loading from \"../components/Loading\"\nimport User from \"../entities/User\"\nimport { ContactCompensation } from \"../components/ContactCompensation\"\nimport { AuthRoles } from \"../interfaces/AuthRoles\"\nimport { ContactLogoff } from \"../components/ContactLogoffs\"\n\nexport class _Dashboard extends Component<{ user: User, loading: boolean, fetchUser: Function }> {\n\n    public componentDidMount() {\n        this.props.fetchUser()\n    }\n\n    public renderShortcuts() {\n        const shortcuts = []\n        if (this.props.user.roles.indexOf(AuthRoles.BILLINGREPORTS_CREATE) > -1) {\n            shortcuts.push(<Link key=\"billingreport\" to=\"/billing-reports/add/\" className=\"btn btn-block btn-outline-primary\">Verrechnungsrapport erstellen</Link>)\n        }\n\n        if (this.props.user.bexioContact) {\n            shortcuts.push(<Link key=\"profile\" to={`/contact/${this.props.user.bexioContact.id}`} className=\"btn btn-block btn-outline-primary\">Mein Profil</Link>)\n        }\n        return shortcuts\n    }\n\n    public renderCompensations() {\n        if (this.props.user.bexioContact) {\n            return (\n                <Column className=\"col-md-6\">\n                    <ContactCompensation contact={this.props.user.bexioContact} {...this.props} />\n                </Column>\n            )\n        }\n    }\n\n    public renderLogoffs() {\n        if (this.props.user.bexioContact) {\n            return (\n                <Column className=\"col-md-6\">\n                    <ContactLogoff contact={this.props.user.bexioContact} {...this.props} />\n                </Column>\n            )\n        }\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.user) {\n            return (\n                <Page title=\"Dashboard\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Dashboard\">\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Shortcuts\">\n                            {this.renderShortcuts()}\n                        </Panel>\n                    </Column>\n                    {this.renderCompensations()}\n                </Row>\n                <Row>\n                    {this.renderLogoffs()}\n                </Row>\n            </Page>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        loading: state.data.user.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchUser: () => {\n            dispatch(Data.fetchUser())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const Dashboard = connect(mapStateToProps, mapDispatchToProps)(_Dashboard)","import { Component } from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport React from \"react\"\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\"\nimport { Link } from \"react-router-dom\"\nimport Button from './Button'\n\nexport interface ActionProps {\n    icon: IconProp,\n    to?: string,\n    onClick?: (event: React.MouseEvent<HTMLButtonElement>) => Promise<void>,\n    state?: any\n    disabled?: boolean\n    loading?: boolean\n}\n\nexport default class Action extends Component<ActionProps> {\n    constructor(props: ActionProps) {\n        super(props)\n\n        this.onClick = this.onClick.bind(this)\n    }\n\n    private async onClick(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (this.props.onClick) await this.props.onClick(event)\n    }\n    \n    public render() {\n        if (this.props.to && !this.props.disabled) {\n            return (\n                <Link to={{\n                    pathname: this.props.to,\n                    state: this.props.state || {}\n                }}\n                    className=\"action-button btn btn-outline-dark\"\n                >\n                    <FontAwesomeIcon icon={this.props.icon} />\n                </Link>\n            )\n        }\n\n        return (\n            <Button onClick={this.onClick} variant=\"outline-dark\" className=\"action-button\" disabled={this.props.disabled || false} loading={this.props.loading || false}>\n                <FontAwesomeIcon icon={this.props.icon} />\n            </Button>\n        )\n    }\n}","import { State } from \"../reducers/IndexReducer\"\nimport { connect } from \"react-redux\"\nimport { Data } from \"../actions/DataActions\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { DataList, DataListProps } from \"../components/DataList\"\nimport Action from \"../components/Action\"\nimport React, { Component } from \"react\"\nimport Contact from \"../entities/Contact\"\nimport Xlsx from 'xlsx'\nimport Config from \"../Config\"\nimport { DataInterface } from \"../reducers/DataReducer\"\nimport ContactGroup from \"../entities/ContactGroup\"\nimport { TableFilter } from \"../components/Table\"\n\ninterface MembersProps extends DataListProps<Contact> {\n    memberlistPdf: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => Promise<void>\n    ranks: DataInterface<ContactGroup>\n}\n\nexport class _Members extends Component<MembersProps, { filters: TableFilter[] }> {\n    constructor(props: MembersProps) {\n        super(props)\n\n        this.excelExport = this.excelExport.bind(this)\n\n        this.state = {\n            filters: []\n        }\n    }\n\n    public componentDidUpdate(prevProps: MembersProps) {\n        if (prevProps !== this.props && !this.props.ranks.loading && this.props.ranks.ids) {\n            const filters: TableFilter[] = this.props.ranks.ids.map<TableFilter>(id => {\n                return {\n                    id: this.props.ranks.byId[id].id.toString(),\n                    displayName: this.props.ranks.byId[id].name,\n                    filters: [{ type: 'eq', value: this.props.ranks.byId[id].name, key: 'rank' }]\n                }\n            }\n            )\n            this.setState({\n                filters\n            })\n        }\n    }\n\n    private async excelExport(event: React.MouseEvent<HTMLButtonElement>) {\n        let membersAsArray = []\n        for (let i in this.props.data.byId) {\n            let member = this.props.data.byId[i]\n            let germanizedMember = {\n                Nachname: member.lastname,\n                Vorname: member.firstname,\n                Rang: (member.rank || ''),\n                Funktionen: (member.functions || []).join(','),\n                Geburtstag: member.birthday,\n                Adresse: `${member.address}, ${member.postcode} ${member.city}`,\n                Abholpunkt: '',\n                'E-Mail': member.mail,\n                'E-Mail 2': member.mailSecond,\n                Festnetz: member.phoneFixed,\n                Mobile: member.phoneMobile\n            }\n\n            if (member.collectionPoint) germanizedMember.Abholpunkt = `(${member.collectionPoint.name}) ${member.collectionPoint.address}, ${member.collectionPoint.postcode} ${member.collectionPoint.city}`\n\n            membersAsArray.push(germanizedMember)\n        }\n        let sheet = Xlsx.utils.json_to_sheet(membersAsArray)\n        let book = Xlsx.utils.book_new()\n        Xlsx.utils.book_append_sheet(book, sheet, 'Mitglieder')\n        Xlsx.writeFile(book, 'Mitglieder.xlsx')\n    }\n\n    public render() {\n        return (\n            <DataList<Contact>\n                title='Mitglieder'\n                viewLocation='/contact/'\n                data={{ ...this.props.data, loading: this.props.data.loading && this.props.ranks.loading }}\n                fetchData={this.props.fetchData}\n                history={this.props.history}\n                tableColumns={[\n                    { text: 'Name', keys: ['lastname', 'firstname'], sortable: true, searchable: true },\n                    { text: 'Grad', keys: ['rank'], sortable: true, searchable: true },\n                    { text: 'Funktionen', keys: ['functions'], sortable: true, searchable: true },\n                    { text: 'Addresse', keys: ['address', 'postcode', 'city'], link: true, linkPrefix: 'https://www.google.com/maps/search/', sortable: true, searchable: true },\n                    { text: 'Abholpunkt', keys: { collectionPoint: ['address', 'postcode', 'city'] }, link: true, linkPrefix: 'https://www.google.com/maps/search/', sortable: true, searchable: true },\n                    { text: 'Festnetz', keys: ['phoneFixed'], link: true, linkPrefix: 'tel:', sortable: true, searchable: true },\n                    { text: 'Festnetz 2', keys: ['phoneFixedSecond'], link: true, linkPrefix: 'tel:', sortable: true, searchable: true },\n                    { text: 'Mobile', keys: ['phoneMobile'], link: true, linkPrefix: 'tel:', sortable: true, searchable: true },\n                    { text: 'E-Mail', keys: ['mail'], link: true, linkPrefix: 'mailto:', sortable: true, searchable: true },\n                    { text: 'E-Mail 2', keys: ['mailSecond'], link: true, linkPrefix: 'mailto:', sortable: true, searchable: true },\n                ]}\n                panelActions={[\n                    <Action key=\"excel-export\" icon=\"file-excel\" onClick={this.excelExport} />,\n                    <Action key=\"pdf-export\" onClick={this.props.memberlistPdf} icon='file-pdf' />\n                ]}\n                defaultFilter='all'\n                filters={[\n                    {\n                        id: 'all',\n                        displayName: 'Alle',\n                        filters: [{ type: 'any' }]\n                    },\n                    ...this.state.filters\n                ]}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.members,\n        ranks: state.data.ranks\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchRanks())\n            dispatch(Data.fetchMembers())\n        },\n        memberlistPdf: async () => {\n            window.open(`${Config.apiEndpoint}/api/members/pdf`)\n        }\n    }\n}\n\n\nexport const Members = connect(mapStateToProps, mapDispatchToProps)(_Members)","import React, { Component } from \"react\"\nimport Row from \"./Row\"\nimport Column from \"./Column\"\nimport Input from \"./Input\"\n\ninterface FormEntryProps {\n    id: string\n    title: string\n    editable?: boolean\n    value?: any\n    type?: string\n    onChange?: (name: string, value: any) => void\n}\n\nexport default class FormEntry extends Component<FormEntryProps> {\n    public renderChildren() {\n        if (typeof this.props.value !== 'undefined') {\n            return <Input name={this.props.id} editable={this.props.editable} onChange={this.props.onChange} type={this.props.type} value={this.props.value} />\n        }\n\n        return this.props.children\n    }\n\n    public render() {\n        return (\n            <Row>\n                <Column className=\"col-6\">\n                    {this.props.title}\n                </Column>\n                <Column className=\"col-6\">\n                    {this.renderChildren()}\n                </Column>\n            </Row>\n        )\n    }\n}","import User from \"./User\";\n\nexport default abstract class Base {\n    public id: number\n\n    public updatedAt: Date\n}","import Base from \"./Base\";\n\nexport default class CollectionPoint extends Base {\n    public name: string\n    public address: string\n    public postcode: string\n    public city: string\n}","import React, { Component } from \"react\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport Select from 'react-select'\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport { ValueType } from \"react-select/lib/types\";\nimport { connect } from 'react-redux';\nimport CollectionPoint from \"../entities/CollectionPoint\";\n\ninterface CollectionPointSelectProps {\n    defaultValue?: Array<CollectionPoint>,\n    isMulti?: boolean\n    onChange: Function,\n    collectionPoints: DataInterface<CollectionPoint>,\n    loading: boolean,\n    ref?: Function,\n    fetchCollectionPoints: Function\n}\n\nexport class _CollectionPointSelect extends Component<CollectionPointSelectProps, { value?: Array<{ label: string, value: string }> }> {\n    constructor(props: CollectionPointSelectProps) {\n        super(props)\n\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let collectionPoint of this.props.defaultValue) {\n                if (collectionPoint && Object.keys(collectionPoint).length > 0) {\n                    valueProps.push({\n                        value: collectionPoint.id.toString(),\n                        label: `(${collectionPoint.name}) ${collectionPoint.address}, ${collectionPoint.postcode} ${collectionPoint.city}`,\n                    })\n                }\n            }\n\n            this.state = {\n                value: valueProps\n            }\n        } else {\n            this.state = {}\n        }\n    }\n\n    public componentDidUpdate() {\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let collectionPoint of this.props.defaultValue) {\n                if (collectionPoint && Object.keys(collectionPoint).length > 0) {\n                    valueProps.push({\n                        value: collectionPoint.id.toString(),\n                        label: `(${collectionPoint.name}) ${collectionPoint.address}, ${collectionPoint.postcode} ${collectionPoint.city}`,\n                    })\n                }\n            }\n\n            if (JSON.stringify(this.state.value) !== JSON.stringify(valueProps)) {\n                this.setState({\n                    value: valueProps\n                })\n            }\n        }\n    }\n\n    public componentWillMount() {\n        if (this.props.collectionPoints.ids.length < 1) {\n            this.props.fetchCollectionPoints()\n        }\n    }\n\n    private prepareOptions() {\n        let options = []\n        if (Object.keys(this.props.collectionPoints.byId).length > 0) {\n            for (let i in this.props.collectionPoints.byId) {\n                let collectionPoint = this.props.collectionPoints.byId[i]\n                options.push({\n                    label: `(${collectionPoint.name}) ${collectionPoint.address}, ${collectionPoint.postcode} ${collectionPoint.city}`,\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onChange(opt: ValueType<{ label: string, value: string }>) {\n        let ops: Array<{ label: string, value: string }> = [opt as { label: string, value: string }]\n        if (this.props.isMulti) {\n            ops = opt as Array<{ label: string, value: string }>\n        }\n\n        this.setState({\n            value: ops\n        })\n\n        let collectionPoints = []\n        for (let o of ops) {\n            if (o) {\n                collectionPoints.push(this.props.collectionPoints.byId[o.value])\n            }\n        }\n\n        if (this.props.onChange) {\n            if (this.props.isMulti) {\n                this.props.onChange(collectionPoints)\n            } else {\n                this.props.onChange(collectionPoints[0])\n            }\n        }\n    }\n\n    private prepareValue() {\n        if (this.props.isMulti) {\n            return this.state.value || []\n        }\n\n        return (this.state.value || [])[0]\n    }\n\n    public render() {\n        if (!this.props.loading) {\n            return (<Select\n                ref={(select: any) => { if (this.props.ref) this.props.ref(select) }}\n                isClearable={true}\n                options={this.prepareOptions()}\n                backspaceRemovesValue={true}\n                hideSelectedOptions={true}\n                openMenuOnFocus={true}\n                isMulti={this.props.isMulti || false}\n                onChange={this.onChange.bind(this)}\n                value={this.prepareValue()}\n            />)\n        }\n\n        return null\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        collectionPoints: state.data.collectionPoints,\n        loading: state.data.collectionPoints.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchCollectionPoints: () => {\n            dispatch(Data.fetchCollectionPoints())\n        }\n    }\n}\n\n//@ts-ignore\nexport const CollectionPointSelect = connect(mapStateToProps, mapDispatchToProps)(_CollectionPointSelect)","import React, { Component } from \"react\"\nimport { Page } from \"../components/Page\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { AnyAction } from \"redux\"\nimport { connect } from \"react-redux\"\nimport { Data } from \"../actions/DataActions\"\nimport Row from \"../components/Row\"\nimport Column from \"../components/Column\"\nimport Panel from \"../components/Panel\"\nimport FormEntry from \"../components/FormEntry\"\nimport Loading from \"../components/Loading\"\nimport * as ContactEntity from \"../entities/Contact\"\nimport ContactGroup from \"../entities/ContactGroup\"\nimport Action from \"../components/Action\"\nimport CollectionPoint from \"../entities/CollectionPoint\"\nimport { CollectionPointSelect } from \"../components/CollectionPointSelect\"\nimport { EditMember } from \"../interfaces/Member\"\nimport User from \"../entities/User\"\nimport { AuthRoles } from \"../interfaces/AuthRoles\"\nimport { RouteComponentProps } from \"react-router\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { Button } from \"react-bootstrap\"\nimport { ContactCompensation } from \"../components/ContactCompensation\"\nimport { Error403 } from \"../components/Errors/403\"\nimport { ContactLogoff } from \"../components/ContactLogoffs\"\n\nexport interface ContactProps extends RouteComponentProps<{ id: string }> {\n    user: User,\n    contact: ContactEntity.default,\n    loading: boolean,\n    loadContacts: () => Promise<void>,\n    editMember: (data: EditMember) => Promise<void>\n}\n\nexport interface ContactState {\n    editable: boolean,\n    collectionPoint: CollectionPoint,\n    entryDate?: string,\n    exitDate?: string,\n    bankName?: string,\n    iban?: string,\n    accountHolder?: string,\n    moreMails: Array<string>,\n}\n\nexport default class _Contact extends Component<ContactProps, ContactState> {\n    private groups: Array<ContactGroup>\n\n    constructor(props: ContactProps) {\n        super(props)\n        this.groups = []\n\n        if (!this.props.contact && !this.props.loading) {\n            this.props.loadContacts()\n        }\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n        this.onAbort = this.onAbort.bind(this)\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.renderCollectionPoint = this.renderCollectionPoint.bind(this)\n        this.renderPanelActions = this.renderPanelActions.bind(this)\n        this.onMoreMailsChange = this.onMoreMailsChange.bind(this)\n\n        const contact = this.props.contact || {}\n\n        this.state = {\n            editable: false,\n            collectionPoint: contact.collectionPoint || new CollectionPoint(),\n            entryDate: (contact.entryDate) ? contact.entryDate.toLocaleDateString() : '',\n            exitDate: (contact.exitDate) ? contact.exitDate.toLocaleDateString() : '',\n            bankName: contact.bankName || '',\n            iban: contact.iban || '',\n            accountHolder: contact.accountHolder || '',\n            moreMails: contact.moreMails || [],\n        }\n    }\n\n    private onInputChange(name: string, value: any) {\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        })\n    }\n\n    private onMoreMailsChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target\n        const value = target.value\n        const name = target.name\n\n        this.setState({\n            moreMails: Object.assign([], this.state.moreMails, { [name]: value })\n        })\n    }\n\n    private removeMoreMailEntry(index: number) {\n        this.setState({\n            moreMails: [...this.state.moreMails.slice(0, index), ...this.state.moreMails.slice(index + 1)]\n        })\n    }\n\n    public componentDidUpdate(prevProps: ContactProps) {\n        if (this.props.contact && !prevProps.contact) {\n            this.setState({\n                collectionPoint: this.props.contact.collectionPoint || new CollectionPoint(),\n                entryDate: (this.props.contact.entryDate) ? this.props.contact.entryDate.toLocaleDateString() : '',\n                exitDate: (this.props.contact.exitDate) ? this.props.contact.exitDate.toLocaleDateString() : '',\n                bankName: this.props.contact.bankName || '',\n                iban: this.props.contact.iban || '',\n                accountHolder: this.props.contact.accountHolder || '',\n                moreMails: this.props.contact.moreMails || []\n            })\n        }\n    }\n\n\n    private async onSave() {\n        if (this.props.contact.contactGroups.find(group => group.bexioId === 7)) {\n            await this.props.editMember({\n                id: this.props.contact.id,\n                collectionPointId: (this.state.collectionPoint || { id: undefined }).id,\n                entryDate: (this.state.entryDate) ? new Date(this.state.entryDate) : '',\n                exitDate: (this.state.exitDate) ? new Date(this.state.exitDate) : '',\n                bankName: this.state.bankName,\n                iban: this.state.iban,\n                accountHolder: this.state.accountHolder,\n                moreMails: this.state.moreMails.filter(el => el !== \"\")\n            })\n\n            this.setState({ editable: false })\n        }\n    }\n\n    public async onAbort(event: React.MouseEvent<HTMLElement>) {\n        this.setState({\n            editable: false,\n            collectionPoint: this.props.contact.collectionPoint || new CollectionPoint(),\n            entryDate: (this.props.contact.entryDate) ? this.props.contact.entryDate.toLocaleDateString() : '',\n            exitDate: (this.props.contact.exitDate) ? this.props.contact.exitDate.toLocaleDateString() : '',\n            bankName: this.props.contact.bankName || '',\n            iban: this.props.contact.iban || '',\n            accountHolder: this.props.contact.accountHolder || '',\n            moreMails: this.props.contact.moreMails || []\n        })\n    }\n\n    private onSelectChange(state: string): (opts: CollectionPoint) => void {\n        return (opts: CollectionPoint) => {\n            //@ts-ignore\n            this.setState({ [state]: opts })\n        }\n    }\n\n    private renderCollectionPoint() {\n        if (this.state.editable) {\n            return <CollectionPointSelect multi={false} onChange={this.onSelectChange('collectionPoint')} defaultValue={[this.state.collectionPoint] || undefined} />\n        }\n        if (this.state.collectionPoint &&\n            this.state.collectionPoint.hasOwnProperty('address') &&\n            this.state.collectionPoint.hasOwnProperty('postcode') &&\n            this.state.collectionPoint.hasOwnProperty('city')) {\n            return <a\n                href={`https://www.google.com/maps/search/${this.state.collectionPoint.address}, ${this.state.collectionPoint.postcode} ${this.state.collectionPoint.city}`}\n                target='_blank'>\n                {`${this.state.collectionPoint.address}, ${this.state.collectionPoint.postcode} ${this.state.collectionPoint.city}`}\n            </a>\n        }\n\n        return null\n    }\n\n    private renderPanelActions() {\n        if (this.state.editable) {\n            return [\n                <Action icon=\"save\" key=\"save\" onClick={this.onSave} />,\n                <Action icon=\"times\" key=\"cancel\" onClick={this.onAbort} />\n            ]\n        }\n\n        if (!!this.props.user.roles.indexOf(AuthRoles.MEMBERS_EDIT) || !!this.props.user.roles.indexOf(AuthRoles.CONTACTS_EDIT) || !!this.props.user.roles.indexOf(AuthRoles.ADMIN)) {\n            return [<Action icon=\"pencil-alt\" key=\"edit\" onClick={async () => { this.setState({ editable: true }) }} />]\n        }\n\n        return []\n    }\n\n    private renderActions() {\n        const actions = []\n        const isAdmin = !!this.props.user.roles.indexOf(AuthRoles.ADMIN)\n\n        if (this.props.user.roles.indexOf(AuthRoles.CONTACTS_READ) > -1 || isAdmin) {\n            actions.push(<a target=\"_blank\" href={\"https://office.bexio.com/index.php/kontakt/show/id/\" + this.props.contact.bexioId} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>)\n        }\n\n        if (this.props.user.roles.indexOf(AuthRoles.MEMBERS_READ) > -1 || isAdmin) {\n            actions.push(<a target=\"_blank\" href={\"https://vkazu.sharepoint.com/leitung/Personalakten?viewpath=/leitung/Personalakten&id=/leitung/Personalakten/\" + this.props.contact.firstname + \" \" + this.props.contact.lastname} className=\"btn btn-block btn-outline-primary\">Personalakte öffnen</a>)\n        }\n\n        if (actions.length > 0) {\n            return (\n                <Panel title=\"Actions\">\n                    {actions}\n                </Panel>\n            )\n        }\n\n        return null\n    }\n\n\n    public render() {\n        if (parseInt(this.props.match.params.id) !== (this.props.user.bexioContact || { id: undefined }).id && (this.props.user.roles.indexOf(AuthRoles.CONTACTS_READ) < 0 && this.props.user.roles.indexOf(AuthRoles.ADMIN) < 0)) {\n            return <Error403 />\n        }\n\n        if (this.props.loading || !this.props.contact) {\n            return (\n                <Page title=\"Kontakt\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        this.groups = this.props.contact.contactGroups as Array<ContactGroup>\n\n        let address = this.props.contact.address + ', ' + this.props.contact.postcode + ' ' + this.props.contact.city\n\n        return (\n            <Page title={this.props.contact.firstname + ' ' + this.props.contact.lastname}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Persönliche Informationen\" actions={this.renderPanelActions()}>\n                            <div className=\"container-fluid\">\n                                <FormEntry id=\"firstname\" title=\"Vorname\" >{this.props.contact.firstname}</FormEntry>\n                                <FormEntry id=\"lastname\" title=\"Nachname\" >{this.props.contact.lastname}</FormEntry>\n                                <FormEntry id=\"rank\" title=\"Rang\">{this.props.contact.rank}</FormEntry>\n                                <FormEntry id=\"birthday\" title=\"Geburtstag\">{new Date(this.props.contact.birthday).toLocaleDateString()}</FormEntry>\n                                <FormEntry id=\"address\" title=\"Adresse\"><a href={'https://www.google.com/maps/search/' + address} target='_blank'>{address}</a></FormEntry>\n                                <FormEntry id=\"collectionPoint\" title=\"Abholpunkt\">\n                                    {this.renderCollectionPoint()}\n                                </FormEntry>\n                                <FormEntry id=\"phoneFixed\" title=\"Festnetz\"><a href={'tel:' + this.props.contact.phoneFixed}>{this.props.contact.phoneFixed}</a></FormEntry>\n                                <FormEntry id=\"phoneFixedSecond\" title=\"Festnetz 2\"><a href={'tel:' + this.props.contact.phoneFixedSecond}>{this.props.contact.phoneFixedSecond}</a></FormEntry>\n                                <FormEntry id=\"phoneMobile\" title=\"Mobile\"><a href={'tel:' + this.props.contact.phoneMobile}>{this.props.contact.phoneMobile}</a></FormEntry>\n                                <FormEntry id=\"mail\" title=\"E-Mails\">\n                                    <a href={`mailto:${this.props.contact.mail}`}>{this.props.contact.mail}</a> <br />\n                                    <a href={`mailto:${this.props.contact.mailSecond}`}>{this.props.contact.mailSecond}</a> <br />\n                                    {[...this.state.moreMails].map((el, index) => {\n                                        if (this.state.editable) {\n                                            return (\n                                                <div className=\"input-group\">\n                                                    <input type=\"email\" className=\"form-control\" value={el} key={index.toString()} name={index.toString()} onChange={this.onMoreMailsChange} />\n                                                    <div className=\"input-group-append\">\n                                                        <Button className=\"btn-outline-secondary\" onClick={this.removeMoreMailEntry.bind(this, index)}>\n                                                            <FontAwesomeIcon icon=\"times\" />\n                                                        </Button>\n                                                    </div>\n                                                </div>\n                                            )\n                                        }\n                                        return <><a href={`mailto:${el}`}>{el}</a><br /></>\n                                    })}\n                                    {this.state.editable && <Button className=\"btn-outline btn-block\" onClick={() => { this.setState({ moreMails: [...this.state.moreMails, ''] }) }}>Hinzufügen</Button>}\n                                </FormEntry>\n                                <FormEntry id=\"groups\" title=\"Gruppen\">\n                                    {(this.groups) ? this.groups.map((group: ContactGroup) => {\n                                        return <span className=\"badge badge-primary\">{group.name}</span>\n                                    }) : ''}\n                                </FormEntry>\n                                <FormEntry id=\"entryDate\" title=\"Eintrittsdatum\" type=\"date\" editable={this.state.editable} value={this.state.entryDate} onChange={this.onInputChange} />\n                                <FormEntry id=\"exitDate\" title=\"Austrittsdatum\" type=\"date\" editable={this.state.editable} value={this.state.exitDate} onChange={this.onInputChange} />\n                                <FormEntry id=\"remarks\" title=\"Bemerkungen\" >{this.props.contact.remarks}</FormEntry>\n                            </div>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Finanzen\">\n                            <div className=\"container-fluid\">\n                                <FormEntry id=\"bankName\" title=\"Bank\" value={this.state.bankName} editable={this.state.editable} onChange={this.onInputChange} />\n                                <FormEntry id=\"iban\" title=\"IBAN\" value={this.state.iban} editable={this.state.editable} onChange={this.onInputChange} />\n                                <FormEntry id=\"accountHolder\" title=\"Kontoinhaber\" value={this.state.accountHolder} editable={this.state.editable} onChange={this.onInputChange} />\n                            </div>\n                        </Panel>\n                        {this.renderActions()}\n                    </Column>\n                </Row>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <ContactCompensation contact={this.props.contact}  {...this.props} />\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <ContactLogoff contact={this.props.contact}  {...this.props} />\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        contact: state.data.contacts.byId[props.match.params.id] || state.data.members.byId[props.match.params.id],\n        loading: state.data.contacts.loading || state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        loadContacts: () => {\n            return dispatch(Data.fetchContacts())\n        },\n        editMember: (data: EditMember) => {\n            return dispatch(Data.editMember(data))\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const Contact = connect(mapStateToProps, mapDispatchToProps)(_Contact)","import { connect } from \"react-redux\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { Data } from \"../actions/DataActions\"\n\n\nimport { DataList, DataListProps } from '../components/DataList'\nimport Order from \"../entities/Order\"\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.orders,\n        viewLocation: '/order/',\n        title: 'Aufträge',\n        tableColumns: [\n            { text: 'Auftragsnummer', keys: ['documentNr'], sortable: true, searchable: true },\n            { text: 'Titel', keys: ['title'], sortable: true, searchable: true },\n            { text: 'Kunde', keys: { 'contact': ['firstname', 'lastname'] }, sortable: true, searchable: true },\n            { text: 'Total', keys: ['total'], sortable: true, prefix: 'CHF ', searchable: true },\n            { text: 'Auftragsdaten', keys: ['execDates'], format: 'toLocaleDateString' }\n        ],\n        defaultFilter: 'upcomming',\n        filters: [\n            {\n                id: 'all',\n                displayName: 'Alle',\n                filters: [{ type: 'any' }]\n            },\n            {\n                id: 'upcomming',\n                displayName: 'Kommende',\n                filters: [{ type: 'gte', key: 'execDates', value: Date.now() }]\n            },\n            {\n                id: 'passed',\n                displayName: 'Vergangene',\n                filters: [{ type: 'lt', key: 'execDates', value: Date.now() }]\n            }\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchOrders())\n        }\n    }\n}\n\n// @ts-ignore\nexport const Orders = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport FormEntry from \"../components/FormEntry\";\nimport * as OrderEntity from \"../entities/Order\";\nimport Position from \"../entities/Position\";\nimport Loading from \"../components/Loading\";\n\nexport interface OrderProps {\n    order: OrderEntity.default,\n    loading: boolean,\n    loadOrders: Function,\n}\n\nexport default class _Order extends Component<OrderProps> {\n    constructor(props: OrderProps) {\n        super(props)\n\n        if (!this.props.order && !this.props.loading) {\n            this.props.loadOrders()\n        }\n    }\n\n    private renderPositions() {\n        let positionsRendered = []\n        for (let position of (this.props.order.positions as Position[])) {\n            positionsRendered.push(\n                <Row className=\"position\">\n                    <Column className=\"col-1\">\n                        {position.pos}\n                    </Column>\n                    <Column>\n                        <div dangerouslySetInnerHTML={{ __html: position.text || '' }}></div>\n                    </Column>\n                    {(position.positionTotal) ? <Column className=\"col-2\">CHF {position.positionTotal}</Column> : ''}\n                </Row>\n            )\n        }\n\n        return positionsRendered;\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.order) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        if (this.props.order.execDates instanceof Date) {\n            this.props.order.execDates = [this.props.order.execDates]\n        }\n\n        return (\n            <Page title={this.props.order.title}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <div className=\"container-fluid\">\n                                <FormEntry id=\"title\" title=\"Titel\" >{this.props.order.title}</FormEntry>\n                                <FormEntry id=\"customer\" title=\"Kunde\">{`${this.props.order.contact.firstname} ${this.props.order.contact.lastname}`}</FormEntry>\n                                <FormEntry id=\"documentNr\" title=\"Auftragsnummer\" >{this.props.order.documentNr}</FormEntry>\n                                <FormEntry id=\"deliveryAddress\" title=\"Lieferadresse\">{this.props.order.deliveryAddress}</FormEntry>\n                                <FormEntry id=\"executionDates\" title=\"Auftragsdaten\">\n                                    {(this.props.order.execDates) ? this.props.order.execDates.map((date: Date) => {\n                                        return <span className=\"badge badge-secondary\">{date.toLocaleDateString()}</span>\n                                    }) : ''}\n                                </FormEntry>\n                            </div>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            <a target=\"_blank\" href={`https://office.bexio.com/index.php/kb_order/show/id/${this.props.order.bexioId}`} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column className=\"col\">\n                        <Panel title=\"Positionen\">\n                            <div className=\"container-fluid\">\n                                {this.renderPositions()}\n                                <Row className=\"position\">\n                                    <Column className=\"col-1\">\n                                    </Column>\n                                    <Column>\n                                        <strong>Total</strong>\n                                    </Column>\n                                    <Column className=\"col-2\">\n                                        CHF {this.props.order.total}\n                                    </Column>\n                                </Row>\n                            </div>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        order: state.data.orders.byId[props.match.params.id],\n        loading: state.data.orders.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        loadOrders: () => {\n            dispatch(Data.fetchOrders())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const Order = connect(mapStateToProps, mapDispatchToProps)(_Order)","import { State } from \"../reducers/IndexReducer\"\nimport { connect } from \"react-redux\"\nimport { Data } from \"../actions/DataActions\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { DataList } from \"../components/DataList\"\n\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.billingReports,\n        title: 'Verrechnungsrapporte',\n        viewLocation: '/billing-report/',\n        tableColumns: [\n            { text: 'Datum', keys: ['date'], sortable: true, format: 'toLocaleDateString' },\n            { text: 'Auftrag Nr', keys: { 'order': ['documentNr'] }, sortable: true, searchable: true },\n            { text: 'Auftrag Titel', keys: { 'order': ['title'] }, sortable: true, searchable: true },\n            { text: 'Ersteller', keys: { 'creator': ['displayName'] }, sortable: true, searchable: true },\n            { text: 'Status', keys: ['state'], sortable: true, searchable: true }\n        ],\n        defaultFilter: 'all',\n        filters: [\n            {\n                id: 'all',\n                displayName: 'Alle',\n                filters: [{ type: 'any' }]\n            },\n            {\n                id: 'pending',\n                displayName: 'Offen',\n                filters: [{ type: 'eq', value: 'pending', key: 'state' }]\n            },\n            {\n                id: 'approved',\n                displayName: 'Genehmigt',\n                filters: [{ type: 'eq', value: 'approved', key: 'state' }]\n            }\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchBillingReports())\n        }\n    }\n}\n\n//@ts-ignore\nexport const BillingReports = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from 'react'\nimport { Modal as BootstrapModal, Button } from 'react-bootstrap'\n\nexport interface ModalProps {\n    show: boolean,\n    onHide?: () => void\n    header: JSX.Element,\n    body: JSX.Element,\n    footer: JSX.Element\n}\n\nexport default class Modal extends Component<ModalProps> {\n    constructor(props: ModalProps) {\n        super(props)\n\n        this.handleClose = this.handleClose.bind(this)\n    }\n\n    private handleClose() {\n        if (this.props.onHide) {\n            this.props.onHide()\n        }\n    }\n\n    public render() {\n        return (\n            <BootstrapModal show={this.props.show} onHide={this.handleClose} dialogClassName=\"modal-lg\">\n                <BootstrapModal.Header closeButton>\n                    {this.props.header}\n                </BootstrapModal.Header>\n                <BootstrapModal.Body>\n                    {this.props.body}\n                </BootstrapModal.Body>\n                <BootstrapModal.Footer>\n                    {this.props.footer}\n                </BootstrapModal.Footer>\n            </BootstrapModal>\n        )\n    }\n}","import { State } from \"../reducers/IndexReducer\"\nimport { connect } from \"react-redux\"\nimport { Data } from \"../actions/DataActions\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { DataList, DataListProps } from \"../components/DataList\"\nimport React, { Component } from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport Compensation from \"../entities/Compensation\"\nimport { RouteComponentProps } from \"react-router-dom\"\nimport Modal from \"../components/Modal\"\nimport { Button, ButtonGroup } from \"react-bootstrap\"\n\ninterface CompensationsProps extends DataListProps<Compensation> {\n    delete: (id: number) => void\n}\n\nexport class _Compensations extends Component<CompensationsProps & RouteComponentProps, { modalShow: boolean, toDeleteCompensation?: Compensation }> {\n    constructor(props: CompensationsProps & RouteComponentProps) {\n        super(props)\n\n        this.deleteCompensation = this.deleteCompensation.bind(this)\n        this.deleteCompensationConfirmed = this.deleteCompensationConfirmed.bind(this)\n        this.showModal = this.showModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n\n        this.state = { modalShow: false }\n    }\n\n    private deleteCompensation(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n            if (id) {\n                this.setState({\n                    toDeleteCompensation: this.props.data.byId[id],\n                    modalShow: true\n                })\n            }\n        }\n    }\n\n    private deleteCompensationConfirmed() {\n        if (this.state.toDeleteCompensation) {\n            this.props.delete(this.state.toDeleteCompensation.id)\n            this.setState({\n                toDeleteCompensation: undefined,\n                modalShow: false\n            })\n        }\n    }\n\n    private showModal() {\n        this.setState({\n            modalShow: true\n        })\n    }\n\n    private hideModal() {\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private renderModal() {\n        if (this.state.toDeleteCompensation) {\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>{(this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname + ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString()}</h3>}\n                    body={\n                        <span>\n                            {\n                                'Willst du die Entschädigung von ' +\n                                (this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname +\n                                ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString() + ' mit einem Betrag von CHF' +\n                                (this.state.toDeleteCompensation as Compensation).amount + ' wirklich löschen?'\n                            }\n                        </span>\n                    }\n                    footer={\n                        <ButtonGroup>\n                            <Button variant=\"danger\" onClick={this.deleteCompensationConfirmed}>Löschen</Button>\n                            <Button variant=\"secondary\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>\n                    }\n\n                />\n            )\n        }\n\n        return null\n    }\n\n    public render() {\n        return (\n            <DataList<Compensation>\n                title='Entschädigungen'\n                viewLocation='/compensation/'\n                rowActions={[\n                    <button className=\"btn btn-danger delete\" onMouseUp={this.deleteCompensation}><FontAwesomeIcon icon=\"trash\" /></button>\n                ]}\n                tableColumns={[\n                    { text: 'Mitglied', keys: { 'member': ['firstname', 'lastname'] }, sortable: true, searchable: true },\n                    { text: 'Datum', keys: ['date'], sortable: true, format: 'toLocaleDateString' },\n                    { text: 'Betrag', keys: ['amount'], sortable: true, prefix: 'CHF ', format: 'toFixed(2)' },\n                    { text: 'Beschreibung', keys: ['description'], sortable: false, searchable: true },\n                    { text: 'Ersteller', keys: { 'creator': ['displayName'] }, sortable: true },\n                    { text: 'Genehmigt', keys: ['approved'], sortable: true },\n                    { text: 'Ausbezahlt', keys: ['paied'], sortable: true }\n                ]}\n                data={this.props.data}\n                fetchData={this.props.fetchData}\n                history={this.props.history}\n                defaultFilter='all'\n                filters={[\n                    {\n                        id: 'all',\n                        displayName: 'Alle',\n                        filters: [{ type: 'any' }]\n                    },\n                    {\n                        id: 'notApproved',\n                        displayName: 'Nicht bewilligt',\n                        filters: [{ type: 'eq', value: 'false', key: 'approved' }]\n                    },\n                    {\n                        id: 'approved',\n                        displayName: 'Bewilligt',\n                        filters: [{ type: 'eq', value: 'true', key: 'approved' }]\n                    },\n                    {\n                        id: 'paied',\n                        displayName: 'Ausbezahlt',\n                        filters: [{ type: 'eq', value: 'true', key: 'paied' }]\n                    },\n                    {\n                        id: 'notPaied',\n                        displayName: 'Nicht Ausbezahlt',\n                        filters: [{ type: 'eq', value: 'false', key: 'paied' }]\n                    }\n                ]}\n            >\n                {this.renderModal()}\n            </DataList>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.compensationEntries,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchCompensationEntries())\n        },\n        delete: (id: number) => {\n            dispatch(Data.deleteCompensationEntry(id))\n        }\n    }\n}\n\n//@ts-ignore\nexport const Compensations = connect(mapStateToProps, mapDispatchToProps)(_Compensations)","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { State } from '../reducers/IndexReducer';\nimport { History, Location } from \"history\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { SingleDataInterface } from \"../reducers/DataReducer\";\nimport Loading from \"../components/Loading\";\nimport { UI } from \"../actions/UIActions\";\nimport Config from \"../Config\";\nimport User from \"../entities/User\";\n\nexport interface LoginProps {\n    user: SingleDataInterface<User>,\n    history: History,\n    location: Location,\n    fetchUser: Function,\n    showError: (message?: string) => void,\n    showSuccess: (message?: string) => void\n}\n\nexport class _Login extends Component<LoginProps, { loaded: boolean }> {\n    private mounted = false\n\n    constructor(props: LoginProps) {\n        super(props)\n        this.state = {\n            loaded: false\n        }\n    }\n\n    public async componentDidMount() {\n        this.mounted = true\n        await this.props.fetchUser()\n\n        if (this.mounted) {\n            this.setState({\n                loaded: true\n            })\n        }\n    }\n\n    public async componentWillUnmount() {\n        this.mounted = false\n    }\n\n    public render() {\n        if (this.props.user.data) {\n            this.props.showSuccess('Willkommen zurück')\n\n            if (this.props.location.state && this.props.location.state.prevLocation) {\n                this.props.history.push(this.props.location.state.prevLocation)\n            } else {\n                this.props.history.push('/dashboard')\n            }\n            return null\n        } else if (this.props.user.loading || !this.state.loaded) {\n            return (<Loading fullscreen={true} />)\n        } else {\n            if (this.props.location.state && !this.props.location.state.errorShown) {\n                this.props.showError('Sorry.... zuerst einloggen!')\n                this.props.history.replace(this.props.location.pathname, Object.assign({}, this.props.location.state, { errorShown: true }))\n            }\n\n            return (\n                <div id=\"login\">\n                    <h2>Login</h2>\n                    < div className=\"form-group\" >\n                        <a className=\"btn btn-secondary btn-block\" href={Config.apiEndpoint + \"/api/auth/azure\"}>\n                            <FontAwesomeIcon icon={['fab', 'microsoft']} className=\"icon\"></FontAwesomeIcon>\n                            VK-Login\n                        </a>\n                    </div >\n                </div >\n            )\n        }\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchUser: () => {\n            return dispatch(Data.fetchUser())\n        },\n        showError: (message = \"Ooppss...! Versuche es später erneut\") => {\n            dispatch(UI.showError(message))\n        },\n        showSuccess: (message = 'Yeeppiii') => {\n            dispatch(UI.showSuccess(message))\n        }\n    }\n}\n\nexport const Login = connect(mapStateToProps, mapDispatchToProps)(_Login)","import { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\n\n\nimport { DataList } from '../components/DataList'\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.users,\n        viewLocation: '/user/',\n        title: 'Benutzer',\n        tableColumns: [\n            { text: 'Name', keys: ['displayName'], sortable: true, searchable: true },\n            { text: 'Rechte', keys: ['roles'], sortable: true, searchable: true }\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchUsers())\n        }\n    }\n}\n\nexport const Users = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from 'react'\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { connect } from 'react-redux'\nimport { Data } from '../actions/DataActions';\nimport { Page } from '../components/Page';\nimport Loading from '../components/Loading';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport FormEntry from '../components/FormEntry';\nimport { Link } from 'react-router-dom';\nimport Table from '../components/Table';\nimport * as UserEntity from '../entities/User';\nimport Contact from '../entities/Contact';\n\nexport interface UserProps {\n    user: UserEntity.default,\n    loading: boolean,\n    fetchUsers: Function,\n}\n\nexport class _User extends Component<UserProps> {\n    constructor(props: UserProps) {\n        super(props)\n        this.props.fetchUsers()\n    }\n\n    public renderBexioPart() {\n        if (!this.props.user.bexioContact) {\n            return (<span>Kein Link gefunden....</span>)\n        }\n\n        let contact = this.props.user.bexioContact as Contact\n        return (\n            <div>\n                <FormEntry id=\"bexioId\" title=\"ID\">{contact.bexioId}</FormEntry>\n                <FormEntry id=\"firstname\" title=\"Vorname\">{contact.firstname}</FormEntry>\n                <FormEntry id=\"lastname\" title=\"Nachname\">{contact.lastname}</FormEntry>\n                <Link to={\"/contact/\" + contact.id} className=\"btn btn-block btn-outline-primary\">Kontakt öffnen</Link>\n                <a target=\"_blank\" href={\"https://office.bexio.com/index.php/kontakt/show/id/\" + contact.bexioId} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>\n            </div>\n        )\n    }\n\n    public renderRolePart() {\n        let roles: Array<{ role: string, id: string }> = []\n\n        for (let i in this.props.user.roles) {\n            roles.push({ role: this.props.user.roles[i], id: i })\n        }\n\n        return (\n            <Table<{ role: string, id: string }>\n                columns={[\n                    { text: 'Role', keys: ['role'] }\n                ]}\n                data={roles}\n            />\n        )\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.user) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        return (\n            <Page title={this.props.user.displayName}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Allgemeine Informationen\">\n                            <FormEntry id=\"displayName\" title=\"Name\">{this.props.user.displayName}</FormEntry>\n                        </Panel>\n                        <Panel title=\"Rechte\">\n                            {this.renderRolePart()}\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Bexio Informationen\">\n                            {this.renderBexioPart()}\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    if (props.location.pathname === '/me') {\n        return {\n            user: state.data.user.data,\n            loading: state.data.user.loading\n        }\n    }\n\n    return {\n        user: state.data.users.byId[props.match.params.id],\n        loading: state.data.users.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    if (props.location.pathname === '/me') {\n        return {\n            fetchUsers: () => {\n                dispatch(Data.fetchUser())\n            }\n        }\n    }\n\n    return {\n        fetchUsers: () => {\n            dispatch(Data.fetchUsers())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const User = connect(mapStateToProps, mapDispatchToProps)(_User)","import React, { Component } from \"react\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport Select from 'react-select'\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport { ValueType } from \"react-select/lib/types\";\nimport { connect } from 'react-redux';\nimport Order from \"../entities/Order\";\n\ninterface OrderSelectProps {\n    defaultValue?: Array<Order>,\n    isMulti?: boolean\n    onChange: Function,\n    orders: DataInterface<Order>,\n    loading: boolean,\n    ref?: Function,\n    fetchOrders: Function\n}\n\nexport class _OrderSelect extends Component<OrderSelectProps, { value?: Array<{ label: string, value: string }> }> {\n    constructor(props: OrderSelectProps) {\n        super(props)\n\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let order of this.props.defaultValue) {\n                valueProps.push({\n                    value: order.id.toString(),\n                    label: order.title\n                })\n            }\n\n            this.state = {\n                value: valueProps\n            }\n        } else {\n            this.state = {}\n        }\n    }\n\n    public componentDidUpdate() {\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let order of this.props.defaultValue) {\n                if (order.hasOwnProperty('id')) {\n                    valueProps.push({\n                        value: order.id.toString(),\n                        label: order.title\n                    })\n                }\n            }\n\n            if (JSON.stringify(this.state.value) !== JSON.stringify(valueProps)) {\n                this.setState({\n                    value: valueProps\n                })\n            }\n        }\n    }\n\n    public componentWillMount() {\n        if (this.props.orders.ids.length < 1) {\n            this.props.fetchOrders()\n        }\n    }\n\n    private prepareOptions() {\n        let options = []\n        if (Object.keys(this.props.orders.byId).length > 0) {\n            for (let i in this.props.orders.byId) {\n                let order = this.props.orders.byId[i]\n                options.push({\n                    label: order.title,\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onChange(opt: ValueType<{ label: string, value: string }>) {\n        let ops: Array<{ label: string, value: string }> = [opt as { label: string, value: string }]\n        if (this.props.isMulti) {\n            ops = opt as Array<{ label: string, value: string }>\n        }\n\n        this.setState({\n            value: ops\n        })\n\n        let orders = []\n        for (let o of ops) {\n            orders.push(this.props.orders.byId[o.value])\n        }\n        if (this.props.onChange) {\n            if (this.props.isMulti) {\n                this.props.onChange(orders)\n            } else {\n                this.props.onChange(orders[0])\n            }\n        }\n    }\n\n    private prepareValue() {\n        if (this.props.isMulti) {\n            return this.state.value || []\n        }\n\n        return (this.state.value || [])[0]\n    }\n\n    public render() {\n        if (!this.props.loading) {\n            return (<Select\n                ref={(select: any) => { if (this.props.ref) this.props.ref(select) }}\n                isClearable={true}\n                options={this.prepareOptions()}\n                backspaceRemovesValue={true}\n                hideSelectedOptions={true}\n                openMenuOnFocus={true}\n                isMulti={this.props.isMulti || false}\n                onChange={this.onChange.bind(this)}\n                value={this.prepareValue()}\n            />)\n        }\n\n        return null\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        orders: state.data.orders,\n        loading: state.data.orders.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchOrders: () => {\n            dispatch(Data.fetchOrders())\n        }\n    }\n}\n\n//@ts-ignore\nexport const OrderSelect = connect(mapStateToProps, mapDispatchToProps)(_OrderSelect)","import React, { Component } from 'react'\nimport { Page } from '../components/Page';\nimport Panel from '../components/Panel';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport FormEntry from '../components/FormEntry';\nimport { connect } from 'react-redux';\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { Data } from '../actions/DataActions';\nimport { AnyAction } from 'redux';\nimport Loading from '../components/Loading';\nimport Table from '../components/Table';\nimport StringIndexed from '../interfaces/StringIndexed';\nimport { History } from 'history'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { DataInterface } from '../reducers/DataReducer';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport * as BillingReportEntity from '../entities/BillingReport';\nimport OrderCompensation from '../entities/OrderCompensation';\nimport Order from '../entities/Order';\nimport User from '../entities/User';\nimport { AuthRoles } from '../interfaces/AuthRoles';\nimport Action from '../components/Action';\nimport Contact from '../entities/Contact';\nimport { OrderSelect } from '../components/OrderSelect';\nimport { MemberSelect } from '../components/MemberSelect';\nimport { EditBillingReport, BillingReportCompensationEntry } from '../interfaces/BillingReport';\nimport Compensation from '../entities/Compensation';\nimport Modal from '../components/Modal';\nimport { ButtonGroup } from 'react-bootstrap';\nimport AddBillingReportStep2 from './AddBillingReportSteps/AddBillingReportStep2';\nimport Button from '../components/Button';\n\nexport interface BillingReportProps extends RouteComponentProps<{ id: string }> {\n    billingReports: DataInterface<BillingReportEntity.default>,\n    orders: DataInterface<Order>,\n    loading: boolean,\n    fetchBillingReports: Function,\n    fetchOrders: Function,\n    history: History,\n    user: User,\n    approve: (id: string) => Promise<void>,\n    decline: (id: string) => Promise<void>,\n    edit: (data: EditBillingReport) => Promise<void>,\n    deleteCompensation: (id: number) => Promise<void>,\n    addCompensationEntries: (data: { billingReportId: number, entries: Array<BillingReportCompensationEntry> }) => Promise<void>\n}\n\ninterface BillingReportState {\n    informationEdit: boolean\n    order: Order\n    date: Date\n    els: Array<Contact>\n    drivers: Array<Contact>\n    food: boolean\n    remarks: string,\n    toDeleteCompensation?: Compensation,\n    modalShow: boolean\n}\n\nexport class _BillingReport extends Component<BillingReportProps, BillingReportState> {\n    private billingReport: BillingReportEntity.default;\n\n    constructor(props: BillingReportProps) {\n        super(props)\n\n        this.approve = this.approve.bind(this)\n        this.decline = this.decline.bind(this)\n        this.elementView = this.elementView.bind(this)\n\n        this.billingReport = this.props.billingReports.byId[parseInt(this.props.match.params.id)]\n        this.onInformationEdit = this.onInformationEdit.bind(this)\n        this.onAbort = this.onAbort.bind(this)\n        this.onInformationSave = this.onInformationSave.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n\n        this.getCompensationActions = this.getCompensationActions.bind(this)\n        this.deleteCompensation = this.deleteCompensation.bind(this)\n        this.deleteCompensationConfirmed = this.deleteCompensationConfirmed.bind(this)\n        this.addCompensations = this.addCompensations.bind(this)\n\n        this.showModal = this.showModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n\n        if (this.billingReport) {\n            this.state = {\n                informationEdit: false,\n                order: (this.billingReport.order as Order),\n                date: this.billingReport.date,\n                els: this.billingReport.els,\n                drivers: this.billingReport.drivers,\n                food: this.billingReport.food,\n                remarks: this.billingReport.remarks,\n                modalShow: false\n            }\n        }\n    }\n\n    public componentDidUpdate(prevProps: BillingReportProps) {\n        if (this.props.match.params.id !== prevProps.match.params.id) {\n            this.billingReport = this.props.billingReports.byId[parseInt(this.props.match.params.id)]\n\n            if (this.billingReport) {\n                this.setState({\n                    order: (this.billingReport.order as Order),\n                    date: this.billingReport.date,\n                    els: this.billingReport.els,\n                    drivers: this.billingReport.drivers,\n                    food: this.billingReport.food,\n                    remarks: this.billingReport.remarks\n                })\n            }\n        }\n    }\n\n    public componentWillMount() {\n        this.props.fetchBillingReports()\n        this.props.fetchOrders()\n    }\n\n    public approve(): Promise<void> {\n        return this.props.approve(this.billingReport.id.toString())\n    }\n\n    public decline(): Promise<void> {\n        return this.props.decline(this.billingReport.id.toString())\n    }\n\n    public async onInformationEdit(event: React.MouseEvent<HTMLElement>) {\n        this.setState({\n            informationEdit: true\n        })\n    }\n\n    public async onAbort(event: React.MouseEvent<HTMLElement>) {\n        this.setState({\n            informationEdit: false,\n            order: (this.billingReport.order as Order),\n            date: this.billingReport.date,\n            els: this.billingReport.els,\n            drivers: this.billingReport.drivers,\n            food: this.billingReport.food,\n            remarks: this.billingReport.remarks\n        })\n    }\n\n    public async onInformationSave(event: React.MouseEvent<HTMLElement>) {\n        await this.props.edit({\n            id: this.billingReport.id.toString(),\n            date: this.state.date,\n            drivers: this.state.drivers,\n            els: this.state.els,\n            food: this.state.food,\n            orderId: this.state.order.id,\n            remarks: this.state.remarks\n        })\n\n        this.setState({\n            informationEdit: false\n        })\n    }\n\n    private onInputChange(name: string, value: any) {\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    public onSelectChange(state: string): (opts: Array<Contact> | Order) => void {\n        return (opts: Array<Contact> | Order) => {\n            //@ts-ignore\n            this.setState({ [state]: opts })\n        }\n    }\n\n    public async elementView(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/compensation/' + id)\n            } else {\n                this.props.history.push('/compensation/' + id)\n            }\n        }\n    }\n\n    private async deleteCompensation(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n            if (id) {\n                this.setState({\n                    toDeleteCompensation: this.billingReport.compensations.find((compensation: Compensation) => compensation.id === parseInt(id || '')),\n                    modalShow: true\n                })\n            }\n        }\n    }\n\n    private async deleteCompensationConfirmed() {\n        if (this.state.toDeleteCompensation) {\n            await this.props.deleteCompensation(this.state.toDeleteCompensation.id)\n            this.setState({\n                toDeleteCompensation: undefined,\n                modalShow: false\n            })\n        }\n    }\n\n    private async addCompensations(data: StringIndexed<any>) {\n        let compensationEntries: Array<BillingReportCompensationEntry> = []\n        for (let i in data.vks) {\n            compensationEntries.push(data.vks[i])\n        }\n\n        await this.props.addCompensationEntries({\n            billingReportId: this.billingReport.id,\n            entries: compensationEntries\n        })\n\n        this.hideModal()\n    }\n\n    private async showModal() {\n        this.setState({\n            modalShow: true\n        })\n    }\n\n    private async hideModal(): Promise<boolean> {\n        this.setState({\n            modalShow: false\n        })\n\n        return true\n    }\n\n    public prepareCompensationsForTable() {\n        let compensations: StringIndexed<OrderCompensation> = {}\n        for (let compensation of (this.billingReport.compensations as Array<OrderCompensation>)) {\n            compensations[compensation.id] = compensation\n        }\n        return compensations\n    }\n\n    public renderActions() {\n        let actions = []\n\n        if (this.billingReport.state === 'pending' && (\n            this.props.user.roles.includes(AuthRoles.BILLINGREPORTS_APPROVE) ||\n            this.props.user.roles.includes(AuthRoles.ADMIN))) {\n            actions.push(\n                <Button id=\"approve\" block={true} variant=\"outline-success\" onClick={this.approve}>Genehmigen</Button>\n            )\n            //TODO: Disabled because of workflow missing for declined reports\n            /* actions.push(\n                <button id=\"decline\" block={true} variant=\"outline-danger\" onClick={this.decline}>Ablehnen</button>\n            ) */\n        }\n\n        actions.push(<Link to={`/order/${this.billingReport.order.id}`} className=\"btn btn-block btn-outline-primary\">Auftrag öffnen</Link>)\n\n        return actions\n    }\n\n    public renderOrder() {\n        if (this.state.informationEdit) {\n            return <OrderSelect defaultValue={[this.state.order]} onChange={this.onSelectChange('order')} />\n        }\n\n        return (this.state.order as Order).title\n    }\n\n    public renderEls() {\n        if (this.state.informationEdit) {\n            return <MemberSelect defaultValue={this.state.els} isMulti={true} onChange={this.onSelectChange('els')} />\n        }\n\n        return this.state.els.map(el => el.firstname + ' ' + el.lastname).join(',')\n    }\n\n    public renderDrivers() {\n        if (this.state.informationEdit) {\n            return <MemberSelect defaultValue={this.state.drivers} isMulti={true} onChange={this.onSelectChange('drivers')} />\n        }\n\n        return this.state.drivers.map(driver => driver.firstname + ' ' + driver.lastname).join(',')\n    }\n\n    public renderInformations() {\n        let statusBadgeClass = 'badge-success'\n        if (this.billingReport.state === 'pending') statusBadgeClass = 'badge-warning'\n        if (this.billingReport.state === 'declined') statusBadgeClass = 'badge-danger'\n\n        let panelActions = []\n        if (this.props.user.roles.includes(AuthRoles.ADMIN) ||\n            this.props.user.roles.includes(AuthRoles.BILLINGREPORTS_EDIT) ||\n            (this.billingReport.state === 'pending' && this.billingReport.creator.id === this.props.user.id)) {\n            if (!this.state.informationEdit) {\n                panelActions.push(<Action icon=\"pencil-alt\" key=\"edit\" onClick={this.onInformationEdit} />)\n            } else {\n                panelActions.push(<Action icon=\"save\" key=\"save\" onClick={this.onInformationSave} />)\n                panelActions.push(<Action icon=\"times\" key=\"edit\" onClick={this.onAbort} />)\n            }\n        }\n\n        return (\n            <Panel title=\"Informationen\" actions={panelActions} className={(this.state.informationEdit) ? 'editable' : ''}>\n                <FormEntry id=\"orderTitle\" title=\"Auftrag\">\n                    {this.renderOrder()}\n                </FormEntry>\n                <FormEntry id=\"date\" title=\"Datum\" value={this.state.date.toISOString().split('T')[0]} type='date' editable={this.state.informationEdit} onChange={this.onInputChange}></FormEntry>\n                <FormEntry id=\"creator\" title=\"Ersteller\">{(this.billingReport.creator as User).displayName}</FormEntry>\n                <FormEntry id=\"state\" title=\"Status\"><div className={\"badge \" + statusBadgeClass}>{this.billingReport.state}</div></FormEntry>\n                <FormEntry id=\"els\" title=\"ELs\">\n                    {this.renderEls()}\n                </FormEntry>\n                <FormEntry id=\"drivers\" title=\"Fahrer\">\n                    {this.renderDrivers()}\n                </FormEntry>\n                <FormEntry id=\"food\" title=\"Verpflegung\" value={this.state.food} type='checkbox' editable={this.state.informationEdit} onChange={this.onInputChange}></FormEntry>\n                <FormEntry id=\"remarks\" title=\"Bemerkungen\" value={this.state.remarks} type='textarea' editable={this.state.informationEdit} onChange={this.onInputChange}></FormEntry>\n            </Panel>\n        )\n    }\n\n    public renderCompensationDeletionModal() {\n        if (this.state.toDeleteCompensation) {\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>{(this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname + ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString()}</h3>}\n                    body={\n                        <span>\n                            {\n                                'Willst du die Entschädigung von ' +\n                                (this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname +\n                                ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString() + ' mit einem Betrag von CHF' +\n                                (this.state.toDeleteCompensation as Compensation).amount + ' wirklich löschen?'\n                            }\n                        </span>\n                    }\n                    footer={\n                        <ButtonGroup>\n                            <Button variant=\"danger\" onClick={this.deleteCompensationConfirmed}>Löschen</Button>\n                            <Button variant=\"secondary\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>\n                    }\n\n                />\n            )\n        }\n\n        return null\n    }\n\n    public renderCompensationsAddModal() {\n        if (!this.state.toDeleteCompensation) {\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>Entschädigungen hinzufügen</h3>}\n                    body={\n                        <AddBillingReportStep2 onNext={this.addCompensations} onPrevious={this.hideModal} />\n                    }\n                    footer={<div></div>}\n\n                />\n            )\n        }\n        return null\n    }\n\n    public getCompensationActions() {\n        let actions = [<Button variant=\"success\" className=\"view\" onClick={this.elementView}><FontAwesomeIcon icon=\"eye\" /></Button>]\n        if (this.props.user.roles.includes(AuthRoles.ADMIN) ||\n            this.props.user.roles.includes(AuthRoles.BILLINGREPORTS_EDIT) ||\n            (this.billingReport.state === 'pending' && this.billingReport.creator.id === this.props.user.id)) {\n            actions.push(<Button variant=\"danger\" className=\"delete\" onClick={this.deleteCompensation}><FontAwesomeIcon icon=\"trash\" /></Button>)\n        }\n        return actions\n    }\n\n    public render() {\n        if (this.props.loading || !this.billingReport || !this.state) {\n            return (<Page title=\"Verrechnungsrapport\"><Loading /></Page>)\n        }\n\n        return (\n            <Page title=\"Verrechnungsrapport\">\n                {this.renderCompensationDeletionModal()}\n                {this.renderCompensationsAddModal()}\n                <Row>\n                    <Column className=\"col-md-6\">\n                        {this.renderInformations()}\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            {this.renderActions()}\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column>\n                        <Panel title=\"VKs\" actions={[<Action icon=\"plus\" onClick={this.showModal} />]}>\n                            <Table<OrderCompensation>\n                                columns={[\n                                    { text: 'Name', keys: { 'member': ['firstname', 'lastname'] }, sortable: true },\n                                    { text: 'Von', keys: ['from'], format: 'toLocaleTimeString', sortable: true },\n                                    { text: 'Bis', keys: ['until'], format: 'toLocaleTimeString', sortable: true },\n                                    { text: 'Verrechnen', keys: ['charge'], sortable: true },\n                                    { text: 'Betrag', keys: ['amount'], prefix: 'CHF ', sortable: true, format: 'toFixed(2)' },\n                                    { text: 'Ausbezahlt', keys: ['paied'], sortable: true },\n                                    {\n                                        text: 'Actions', keys: ['_id'], content: <ButtonGroup>{this.getCompensationActions()}</ButtonGroup>\n                                    }\n                                ]}\n                                defaultSort={{ keys: ['from'], direction: 'asc' }}\n                                data={this.prepareCompensationsForTable()}\n                            ></Table>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        billingReports: state.data.billingReports,\n        user: state.data.user.data,\n        orders: state.data.orders,\n        loading: state.data.billingReports.loading || state.data.user.loading || state.data.orders.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchBillingReports: () => {\n            return dispatch(Data.fetchBillingReports())\n        },\n        fetchOrders: () => {\n            return dispatch(Data.fetchOrders())\n        },\n        approve: (id: string) => {\n            return dispatch(Data.approveBillingReport(id))\n        },\n        decline: (id: string) => {\n            return dispatch(Data.declineBillingReport(id))\n        },\n        edit: (data: EditBillingReport) => {\n            return dispatch(Data.editBillingReport(data))\n        },\n        deleteCompensation: async (id: number) => {\n            return dispatch(Data.deleteCompensationEntry(id)).then(() => {\n                dispatch(Data.fetchBillingReports())\n            })\n        },\n        addCompensationEntries: (data: { billingReportId: number, entries: Array<BillingReportCompensationEntry> }) => {\n            return dispatch(Data.addCompensationEntriesForBillingReport(data)).then(() => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n}\n\n//@ts-ignore\nexport const BillingReport = connect(mapStateToProps, mapDispatchToProps)(_BillingReport)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { ThunkDispatch } from 'redux-thunk';\nimport { State } from '../reducers/IndexReducer';\nimport { AnyAction } from 'redux';\nimport { Data } from '../actions/DataActions';\nimport { DataInterface } from '../reducers/DataReducer';\nimport Loading from '../components/Loading';\nimport { Page } from '../components/Page';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport Select from 'react-select';\nimport { ValueType } from 'react-select/lib/types';\nimport { CompensationEntry } from '../interfaces/CompensationEntry';\nimport { History } from \"history\";\nimport Contact from '../entities/Contact';\nimport Button from '../components/Button';\n\nexport class _AddCompensation extends Component<{ history: History, members: DataInterface<Contact>, loading: boolean, fetchMembers: Function, save: Function }, { member: string, date: string, description: string, amount?: number }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: { history: History, members: DataInterface<Contact>, loading: boolean, fetchMembers: Function, save: Function }) {\n        super(props)\n\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n\n        this.state = {\n            member: '',\n            date: '',\n            description: ''\n        }\n    }\n\n    public componentDidMount() {\n        this.props.fetchMembers()\n    }\n\n    private validate(): boolean {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            return valid\n        }\n        return false\n    }\n\n    private onSelectChange(opt: ValueType<{ label: string, value: string }>) {\n        if (opt) {\n            this.setState({\n                member: (opt as { label: string, value: string }).value\n            })\n        } else {\n            this.setState({\n                member: ''\n            })\n        }\n    }\n\n    private prepareMembers() {\n        let options = []\n        if (Object.keys(this.props.members.byId).length > 0) {\n            for (let i in this.props.members.byId) {\n                let member = this.props.members.byId[i]\n                options.push({\n                    label: (member.firstname + ' ' + member.lastname),\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private async onSave(event: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n        event.preventDefault()\n        if (this.formEl) {\n            if (this.validate()) {\n                await this.props.save({\n                    member: this.state.member,\n                    date: new Date(this.state.date),\n                    description: this.state.description,\n                    amount: this.state.amount\n                })\n                this.props.history.push('/compensations')\n            }\n        }\n    }\n\n    public render() {\n        if (this.props.loading || this.props.members.ids.length < 1) {\n            return (\n                <Page title=\"Entschädigung hinzufügen\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Entschädigung hinzufügen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form id=\"addCompensation\" ref={(ref: HTMLFormElement) => { this.formEl = ref }}>\n                                <h5>Mitglied</h5>\n                                <Select\n                                    isClearable={true}\n                                    onChange={this.onSelectChange}\n                                    options={this.prepareMembers()}\n                                    backspaceRemovesValue={true}\n                                    hideSelectedOptions={true}\n                                    openMenuOnFocus={true}\n                                />\n                                <br></br>\n\n                                <h5>Datum</h5>\n                                <input name=\"date\" type=\"date\" className=\"form-control\" value={this.state.date} onChange={this.onInputChange} required={true} />\n                                <br></br>\n\n                                <h5>Beschreibung</h5>\n                                <input name=\"description\" type=\"text\" className=\"form-control\" value={this.state.description} onChange={this.onInputChange} required={true} />\n                                <br></br>\n\n                                <h5>Betrag</h5>\n                                <div className=\"input-group mb-2\">\n                                    <div className=\"input-group-prepend\">\n                                        <div className=\"input-group-text\">CHF</div>\n                                    </div>\n                                    <input type=\"number\" step=\"0.05\" className=\"form-control\" name=\"amount\" value={this.state.amount} onChange={this.onInputChange} placeholder=\"0.00\" required={true} />\n                                </div>\n                                <br></br>\n\n                                <Button variant=\"primary\" block={true} onClick={this.onSave}>Speichern</Button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        members: state.data.members,\n        loading: state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        save: (data: CompensationEntry) => {\n            dispatch(Data.addCompensationEntry(data))\n        }\n    }\n}\n\nexport const AddCompensation = connect(mapStateToProps, mapDispatchToProps)(_AddCompensation)","\nimport Contact from \"./Contact\";\nimport Payout from \"./Payout\";\nimport User from \"./User\";\nimport Base from \"./Base\";\nimport OrderCompensation from \"./OrderCompensation\";\nimport CustomCompensation from \"./CustomCompensation\";\n\n\nexport default class Compensation extends Base {\n\n    public member: Contact\n\n\n    public creator: User\n\n\n    public amount: number\n\n\n    public date: Date\n\n\n    public approved: boolean\n\n\n\n    public approvedBy?: User\n\n\n    public paied: boolean\n\n    public bexioBill?: number\n    public transferCompensation?: CustomCompensation\n\n    public payout?: Payout\n\n\n\n    public updatedBy: User\n\n    constructor(member: Contact, creator: User, amount: number, date: Date, approved: boolean = false, paied: boolean = false, payout?: Payout) {\n        super()\n        this.member = member\n        this.creator = creator\n        this.amount = amount\n        this.date = date\n        this.approved = approved\n        this.paied = paied\n        this.payout = payout\n    }\n\n    public static isOrderBased(compensation: Compensation): compensation is OrderCompensation {\n        return (\n            (<OrderCompensation>compensation).billingReport !== undefined &&\n            (<OrderCompensation>compensation).billingReport !== null\n        )\n    }\n\n    public static isCustom(compensation: Compensation): compensation is CustomCompensation {\n        return (\n            (<CustomCompensation>compensation).description !== undefined &&\n            (<CustomCompensation>compensation).description !== null\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { Page } from \"../Page\";\n\nexport class Error404 extends Component {\n    public render() {\n        return (\n            <Page title=\"\">\n                <div id=\"page-404\">\n                    <img src=\"/webapp/404.png\" />\n                </div>\n            </Page>\n        )\n    }\n}","import { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { Data } from \"../actions/DataActions\"\nimport * as CompensationEntity from \"../entities/Compensation\"\nimport { RouteComponentProps } from \"react-router\"\nimport * as React from \"react\"\nimport { Page } from \"../components/Page\"\nimport Loading from \"../components/Loading\"\nimport Row from \"../components/Row\"\nimport Column from \"../components/Column\"\nimport Panel from \"../components/Panel\"\nimport FormEntry from \"../components/FormEntry\"\nimport { Link } from \"react-router-dom\"\nimport { Error404 } from \"../components/Errors/404\"\nimport Payout from \"../entities/Payout\"\nimport Button from \"../components/Button\"\n\ninterface CompensationProps extends RouteComponentProps<{ id: string }> {\n    compensation: CompensationEntity.default,\n    compensationIds: Array<number>,\n    loading: boolean,\n    fetchCompensations: () => Promise<AnyAction>,\n    approve: (id: number) => Promise<void>\n}\n\nexport class _Compensation extends Component<CompensationProps> {\n\n    constructor(props: CompensationProps) {\n        super(props)\n\n        this.approve = this.approve.bind(this)\n        this.renderBillingReport = this.renderBillingReport.bind(this)\n        this.renderActions = this.renderActions.bind(this)\n\n        this.props.fetchCompensations()\n    }\n\n    private approve(): Promise<void> {\n        return this.props.approve(this.props.compensation.id)\n    }\n\n    private renderActions() {\n        const actions = [<Link to={\"/contact/\" + this.props.compensation.member.id} className=\"btn btn-block btn-outline-primary\">Kontakt öffnen</Link>]\n\n        if (!this.props.compensation.approved) {\n            actions.push(<Button id=\"approve\" block={true} variant=\"outline-success\" onClick={this.approve}>Genehmigen</Button>)\n        }\n\n        return actions\n    }\n\n    private renderBillingReport() {\n        if (CompensationEntity.default.isOrderBased(this.props.compensation)) {\n            let statusBadgeClass = 'badge-success'\n            if (this.props.compensation.billingReport.state === 'pending') {\n                statusBadgeClass = 'badge-warning'\n            }\n\n            return (\n                <Column className=\"col-md-6\">\n                    <Panel title=\"Verrechnungsrapport\">\n                        <FormEntry id=\"orderNr\" title=\"Auftragsnummer\">{this.props.compensation.billingReport.order.documentNr}</FormEntry>\n                        <FormEntry id=\"orderNr\" title=\"Auftrag\">{this.props.compensation.billingReport.order.title}</FormEntry>\n                        <FormEntry id=\"state\" title=\"Verrechnungsrapportstatus\"><div className={\"badge \" + statusBadgeClass}>{this.props.compensation.billingReport.state}</div></FormEntry>\n                        <FormEntry id=\"from\" title=\"Von\">{this.props.compensation.from.toLocaleTimeString()}</FormEntry>\n                        <FormEntry id=\"until\" title=\"Bis\">{this.props.compensation.until.toLocaleTimeString()}</FormEntry>\n                        <FormEntry id=\"charge\" title=\"Verrechnen\">{(this.props.compensation.charge) ? '✓' : '⨯'}</FormEntry>\n                        <Link to={\"/order/\" + this.props.compensation.billingReport.order.id} className=\"btn btn-outline-primary btn-block\">Auftrag</Link>\n                        <Link to={\"/billing-report/\" + this.props.compensation.billingReport.id} className=\"btn btn-outline-primary btn-block\">Verrechnungsrapport</Link>\n                    </Panel>\n                </Column>\n            )\n        }\n    }\n\n    public render() {\n        if (!this.props.loading && !this.props.compensation && this.props.compensationIds.length > 0) {\n            return <Error404 />\n        }\n\n        if (this.props.loading || !this.props.compensation) {\n            return (<Page title=\"Entschädigung\"><Loading /></Page>)\n        }\n\n        let statusBadgeClass = 'badge-success'\n        if (!this.props.compensation.approved) {\n            statusBadgeClass = 'badge-warning'\n        }\n\n        return (\n            <Page title=\"Entschädigung\">\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <FormEntry id=\"member\" title=\"Mitglied\">{this.props.compensation.member.firstname} {this.props.compensation.member.lastname}</FormEntry>\n                            <FormEntry id=\"date\" title=\"Datum\">{this.props.compensation.date.toLocaleDateString()}</FormEntry>\n                            <FormEntry id=\"amount\" title=\"Betrag\">CHF {this.props.compensation.amount.toFixed(2)}</FormEntry>\n                            {\n                                CompensationEntity.default.isCustom(this.props.compensation) &&\n                                <FormEntry id=\"description\" title=\"Beschreibung\">{this.props.compensation.description}</FormEntry>\n                            }\n                            <FormEntry id=\"state\" title=\"Status\"><div className={\"badge \" + statusBadgeClass}>{(this.props.compensation.approved) ? 'Bewilligt' : 'Ausstehend'}</div></FormEntry>\n                            <FormEntry id=\"creator\" title=\"Ersteller\">{this.props.compensation.creator.displayName}</FormEntry>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            {this.renderActions()}\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    {this.renderBillingReport()}\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Auszahlung\">\n                            <FormEntry id=\"paied\" title=\"Ausbezahlt\">{(this.props.compensation.paied) ? '✓' : '⨯'}</FormEntry>\n                            {(this.props.compensation.payout) ? (<Link to={\"/payout/\" + (this.props.compensation.payout as Payout).id + '/' + this.props.compensation.member.id} className=\"btn btn-outline-primary btn-block\">Auszahlung</Link>) : (<p></p>)}\n                            {(this.props.compensation.bexioBill) ? (<a href={`https://office.bexio.com/index.php/kb_bill/show/id/${this.props.compensation.bexioBill}`} target=\"_blank\" className=\"btn btn-outline-primary btn-block\">Bexio Lieferantenrechnung</a>) : (<p></p>)}\n                            {(this.props.compensation.transferCompensation) ? (<Link to={`/compensation/${this.props.compensation.transferCompensation.id}`} className=\"btn btn-outline-primary btn-block\">Übertrag</Link>) : (<p></p>)}\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: RouteComponentProps<{ id: string }>) => {\n    return {\n        compensation: state.data.compensationEntries.byId[props.match.params.id],\n        compensationIds: state.data.compensationEntries.ids,\n        loading: state.data.compensationEntries.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchCompensations: () => {\n            return dispatch(Data.fetchCompensationEntries())\n        },\n        approve: (id: number) => {\n            return dispatch(Data.approveCompensationEntry(id))\n        },\n    }\n}\n\nexport const Compensation = connect(mapStateToProps, mapDispatchToProps)(_Compensation)","import React, { Component } from \"react\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Page } from \"../components/Page\";\nimport Column from \"../components/Column\";\nimport Row from \"../components/Row\";\nimport Panel from \"../components/Panel\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\nimport Loading from \"../components/Loading\";\nimport { UI } from \"../actions/UIActions\";\n\nexport class _MailingLists extends Component<{ fetchMembers: Function, mailingLists: StringIndexed<Array<string>>, showError: (message: string) => void, showSuccess: (message: string) => void }, { copyData: string }> {\n    constructor(props: { fetchMembers: Function, mailingLists: StringIndexed<Array<string>>, showError: (message: string) => void, showSuccess: (message: string) => void  }) {\n        super(props)\n\n        this.props.fetchMembers()\n\n    }\n\n    private copy(data: string) {\n        (navigator as any).permissions.query({ name: \"clipboard-write\" }).then((result: { state: string }) => {\n            if (result.state == \"granted\" || result.state == \"prompt\") {\n                (navigator as any).clipboard.writeText(data).then(() => {\n                    this.props.showSuccess('Kopiert!')\n                }).catch((err: Error) => {\n                    console.error(err)\n                    this.props.showError('Ooops... Etwas ging schief...')\n                })\n            } else {\n                this.props.showError('Ich darf nichts kopieren....')\n            }\n        }).catch((err: Error) => {\n            console.error(err)\n            this.props.showError('Ooops... Etwas ging schief...')\n        })\n    }\n\n    private addCopy(data: string) {\n            return (\n                <div className=\"input-group-prepend\">\n                    <button className=\"btn btn-outline-secondary\" id=\"btnGroupAddon\" onClick={this.copy.bind(this, data)}>\n                        <FontAwesomeIcon icon=\"clipboard\" />\n                    </button>\n                </div>\n            )\n    }\n\n    public render() {\n        if (Object.keys(this.props.mailingLists).length < 1) {\n            return (<Page title=\"Verteiler\"><Loading /></Page>)\n        }\n        console.log(this.props.mailingLists)\n        return (\n            <Page title=\"Verteiler\">\n                <Row>\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Mitglieder\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.all.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.all.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"VKs (ohne Fahrer und Condor)\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.vks.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.vks.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Kader\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.squad.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.squad.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Fahrer\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.drivers.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.drivers.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Vorstand\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.vst.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.vst.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Condor\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.con.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.con.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = function (state: State) {\n    return {\n        mailingLists: state.data.mailingLists\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        showError: (message: string) => {\n            dispatch(UI.showError(message))\n        },\n        showSuccess: (message: string) => {\n            dispatch(UI.showSuccess(message))\n        }\n    }\n}\n\nexport const MailingLists = connect(mapStateToProps, mapDispatchToProps)(_MailingLists)","import { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataList } from \"../components/DataList\";\nimport Action from \"../components/Action\";\nimport React from \"react\";\n\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.collectionPoints,\n        title: 'Abholpunkte',\n        panelActions: [<Action icon=\"plus\" to=\"/draft/collection-point/add\" />],\n        viewLocation: '/collection-point/',\n        tableColumns: [\n            { text: 'Name', keys: ['name'], sortable: true, searchable: true },\n            { text: 'Abholpunkt', keys: ['address', 'postcode', 'city'], link: true, linkPrefix: 'https://www.google.com/maps/search/', sortable: true, searchable: true },\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchCollectionPoints())\n        }\n    }\n}\n\n\nexport const CollectionPoints = connect(mapStateToProps, mapDispatchToProps)(DataList)","import { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport React from \"react\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport { PutCollectionPoints } from \"../interfaces/CollectionPoints\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps } from \"react-router\";\n\nexport class _AddCollectionPoint extends Component<{ save: Function } & RouteComponentProps, PutCollectionPoints> {\n    private formEl: HTMLFormElement\n\n    constructor(props: { save: Function } & RouteComponentProps) {\n        super(props)\n\n        this.state = {\n            name: '',\n            address: '',\n            postcode: '',\n            city: ''\n        }\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.save = this.save.bind(this)\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private save(event: React.MouseEvent<HTMLButtonElement>): boolean {\n        event.preventDefault()\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                this.props.save({\n                    name: this.state.name,\n                    postcode: this.state.postcode,\n                    address: this.state.address,\n                    city: this.state.city\n                })\n                this.props.history.push('/draft/collection-points')\n            }\n            return valid\n        }\n        return false\n    }\n\n    public render() {\n        return (\n            <Page title=\"Abholpunkt Hinzufügen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form ref={(ref: HTMLFormElement) => this.formEl = ref}>\n                                <h5>Name</h5>\n                                <input type=\"text\" name=\"name\" id=\"name\" className='form-control' value={this.state.name} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <h5>Addresse</h5>\n                                <input type=\"text\" name=\"address\" id=\"address\" className='form-control' value={this.state.address} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <h5>PLZ</h5>\n                                <input type=\"text\" minLength={4} maxLength={4} name=\"postcode\" id=\"postcode\" className='form-control' value={this.state.postcode} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <h5>Ort</h5>\n                                <input type=\"text\" name=\"city\" id=\"city\" className='form-control' value={this.state.city} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <button className=\"btn btn-primary btn-block\" onClick={this.save}>Speichern</button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapDisptachToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        save: (data: PutCollectionPoints) => {\n            dispatch(Data.addCollectionPoint(data))\n        }\n    }\n}\n\nexport const AddCollectionPoint = connect(() => { }, mapDisptachToProps)(_AddCollectionPoint)","import React from 'react'\nimport { connect } from \"react-redux\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { Data } from \"../actions/DataActions\"\n\n\nimport { DataList } from '../components/DataList'\nimport Action from \"../components/Action\"\n\nconst mapStateToProps = (state: State) => {\n    return {\n        panelActions: [<Action icon=\"plus\" to=\"/payouts/add\" />],\n        data: state.data.payouts,\n        viewLocation: '/payout/',\n        title: 'Auszahlungen',\n        tableColumns: [\n            { text: 'Von', keys: ['from'], sortable: true, format: 'toLocaleDateString' },\n            { text: 'Bis', keys: ['until'], sortable: true, format: 'toLocaleDateString' },\n            { text: 'Total', keys: ['totalWithoutMinus'], sortable: true, prefix: 'CHF ', format: 'toFixed(2)' }\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchPayouts())\n        }\n    }\n}\n\nexport const Payouts = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from \"react\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { connect } from \"react-redux\";\nimport { Page } from \"../components/Page\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport * as PayoutEntity from \"../entities/Payout\";\nimport Loading from \"../components/Loading\";\nimport Table from \"../components/Table\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { History } from \"history\";\nimport FormEntry from \"../components/FormEntry\";\nimport Button from \"../components/Button\";\nimport Config from \"../Config\";\nimport Modal from '../components/Modal'\nimport { ButtonGroup } from \"react-bootstrap\";\nimport Contact from \"../entities/Contact\";\nimport { UI } from \"../actions/UIActions\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\n\ninterface PayoutProps {\n    payout: PayoutEntity.default,\n    loading: boolean,\n    history: History,\n    fetchPayouts: () => Promise<void>,\n    sendMails: (payoutId: number, memberIds: Array<number>) => Promise<void>\n    sendToBexio: (payoutId: number, memberIds: Array<number>) => Promise<void>\n    reclaim: (payoutId: number) => Promise<void>,\n    getBankingXml: (payout: PayoutEntity.default, memberIds: Array<number>) => Promise<void>\n    transfer: (payoutId: number, memberIds: Array<number>) => Promise<void>\n    showError: (message: string) => Promise<void>\n}\n\nexport class _Payout extends Component<PayoutProps, { modalShow: boolean, modalType: string, selected: Array<number> }> {\n    constructor(props: PayoutProps) {\n        super(props)\n        this.props.fetchPayouts()\n\n        this.elementView = this.elementView.bind(this)\n        this.showMailModal = this.showMailModal.bind(this)\n        this.showBexioModal = this.showBexioModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n        this.sendMails = this.sendMails.bind(this)\n        this.sendToBexio = this.sendToBexio.bind(this)\n        this.onCheck = this.onCheck.bind(this)\n        this.reclaim = this.reclaim.bind(this)\n        this.transfer = this.transfer.bind(this)\n\n        this.state = {\n            modalShow: false,\n            modalType: '',\n            selected: []\n        }\n    }\n\n    private async hideModal(): Promise<void> {\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private async showMailModal(): Promise<void> {\n        this.setState({\n            modalShow: true,\n            modalType: 'mail'\n        })\n    }\n\n    private async showBexioModal(): Promise<void> {\n        this.setState({\n            modalShow: true,\n            modalType: 'bexio'\n        })\n    }\n\n    private async sendMails(): Promise<void> {\n        await this.props.sendMails(this.props.payout.id, this.state.selected)\n\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private async sendToBexio(): Promise<void> {\n        await this.props.sendToBexio(this.props.payout.id, this.state.selected)\n\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private async reclaim(): Promise<void> {\n        return this.props.reclaim(this.props.payout.id)\n    }\n\n    private async transfer(): Promise<void> {\n        if (this.state.selected.length > 0) return this.props.transfer(this.props.payout.id, this.state.selected)\n        this.props.showError('Bitte zuerst auswahl tätigen!')\n    }\n\n    public async elementView(event: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n        event.preventDefault()\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + this.props.history.location.pathname + `/${id}`)\n            } else {\n                this.props.history.push(this.props.history.location.pathname + `/${id}`)\n            }\n        }\n    }\n\n    public onCheck(event: React.ChangeEvent<HTMLInputElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            if (id) {\n                const newId = parseInt(id)\n                if (this.state.selected.indexOf(newId) > -1) {\n                    this.setState({\n                        selected: [...this.state.selected.filter(el => el !== newId)]\n                    })\n                } else {\n                    this.setState({\n                        selected: [...this.state.selected, parseInt(id)]\n                    })\n                }\n            }\n        }\n    }\n\n    public renderCompensationsAddModal() {\n        if (this.state.modalType === 'mail') {\n            if (this.state.selected.length === 0) {\n                return (\n                    <Modal\n                        show={this.state.modalShow}\n                        header={<h3>E-Mails versenden</h3>}\n                        body={\n                            <span>\n                                Willst du wirklich eine E-Mail <b>an alle</b> mit der Entschädigungsauszahlung senden?\n                        </span>\n                        }\n                        footer={<ButtonGroup>\n                            <Button variant=\"success\" onClick={this.sendMails}>Senden</Button>\n                            <Button variant=\"danger\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>}\n\n                    />\n                )\n            } else {\n                return (\n                    <Modal\n                        show={this.state.modalShow}\n                        header={<h3>E-Mails versenden</h3>}\n                        body={\n                            <span>\n                                Willst du wirklich eine E-Mail <b>an folgende Personen</b> mit der Entschädigungsauszahlung senden?\n                            <ul>\n                                    {this.state.selected.map(el => {\n                                        const member: Contact = this.props.payout.compensationsByMember[el][0].member\n                                        return (<li>{member.lastname} {member.firstname}</li>)\n                                    })}\n                                </ul>\n                            </span>\n                        }\n                        footer={<ButtonGroup>\n                            <Button variant=\"success\" onClick={this.sendMails}>Senden</Button>\n                            <Button variant=\"danger\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>}\n\n                    />\n                )\n            }\n        } else if (this.state.modalType === 'bexio') {\n            if (this.state.selected.length === 0) {\n                return (\n                    <Modal\n                        show={this.state.modalShow}\n                        header={<h3>Bexio Übertrag</h3>}\n                        body={\n                            <span>\n                                Willst du wirklich <b>alle</b> Entschädigungen an Bexio übertragen?\n                        </span>\n                        }\n                        footer={<ButtonGroup>\n                            <Button variant=\"success\" onClick={this.sendToBexio}>Ja</Button>\n                            <Button variant=\"danger\" onClick={this.hideModal}>Nein</Button>\n                        </ButtonGroup>}\n\n                    />\n                )\n            } else {\n                return (\n                    <Modal\n                        show={this.state.modalShow}\n                        header={<h3>Bexio Übertrag</h3>}\n                        body={\n                            <span>\n                                Willst du wirklich <b>folgende Entschädigungen</b> an Bexio übertragen?\n                            <ul>\n                                    {this.state.selected.map(el => {\n                                        const member: Contact = this.props.payout.compensationsByMember[el][0].member\n                                        return (<li>{member.lastname} {member.firstname}</li>)\n                                    })}\n                                </ul>\n                            </span>\n                        }\n                        footer={<ButtonGroup>\n                            <Button variant=\"success\" onClick={this.sendToBexio}>Ja</Button>\n                            <Button variant=\"danger\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>}\n\n                    />\n                )\n            }\n        } else {\n            return null\n        }\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.payout) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        const data: StringIndexed<{ id: number, member: Contact, total: number }> = {}\n        for (let i in this.props.payout.compensationsByMember) {\n            const records = this.props.payout.compensationsByMember[i]\n            let total = 0\n            records.map(el => total = total + parseFloat(el.amount.toFixed(2)))\n            data[records[0].member.id] = {\n                id: records[0].member.id,\n                member: records[0].member,\n                total\n            }\n        }\n\n        return (\n            <Page title={`Auszahlung ${this.props.payout.from.toLocaleDateString()} - ${this.props.payout.until.toLocaleDateString()}`}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <FormEntry id=\"from\" title=\"Von\" value={this.props.payout.from.toLocaleDateString()} type=\"date\"></FormEntry>\n                            <FormEntry id=\"until\" title=\"Bis\" value={this.props.payout.until.toLocaleDateString()} type=\"date\"></FormEntry>\n                            <FormEntry id=\"countCompensations\" title=\"Anzahl Entschädiungen\" value={this.props.payout.compensations.length} editable={false}></FormEntry>\n                            <FormEntry id=\"total\" title=\"Total\" value={`CHF ${this.props.payout.total.toFixed(2)}`} ></FormEntry>\n                            <FormEntry id=\"totalWithoutMinus\" title=\"Total ohne Minus\" value={`CHF ${this.props.payout.totalWithoutMinus.toFixed(2)}`} ></FormEntry>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            <a className=\"btn btn-block btn-outline-primary\" target=\"_blank\" href={`${Config.apiEndpoint}/api/payouts/${this.props.payout.id}/pdf`} >PDF</a>\n                            <Button block={true} variant=\"outline-primary\" onClick={this.showMailModal}>Bestätigung E-Mails verschicken</Button>\n                            <Button block={true} variant=\"outline-primary\" onClick={this.showBexioModal}>An Bexio übertragen</Button>\n                            <Button block={true} variant=\"outline-primary\" onClick={() => { return this.props.getBankingXml(this.props.payout, this.state.selected) }}>Banking XML herunterladen</Button>\n                            <Button block={true} variant=\"outline-primary\" onClick={this.reclaim}>Neu Berechnen</Button>\n                            <Button block={true} variant=\"outline-primary\" onClick={() => this.transfer()}>Übertragen</Button>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column>\n                        <Panel title=\"Entschädiungen\">\n                            <Table<{ id: number, member: Contact, total: number }>\n                                columns={[\n                                    { text: 'Mitglied', keys: { member: ['lastname', 'firstname'] }, sortable: true },\n                                    { text: 'Betrag', keys: ['total'], prefix: 'CHF ', sortable: true, format: 'toFixed(2)' },\n                                    {\n                                        text: 'Actions', keys: ['id'], content:\n                                            <div className=\"btn-group\">\n                                                <Button variant=\"success\" className=\"view\" onClick={this.elementView}><FontAwesomeIcon icon=\"eye\" /></Button>\n                                            </div>\n                                    }\n                                ]}\n                                checkable={true}\n                                onCheck={this.onCheck}\n                                defaultSort={{ keys: ['_member.lastname', 'firstname'], direction: 'asc' }}\n                                data={data}\n                            ></Table>\n                        </Panel>\n                    </Column>\n                </Row>\n                {this.renderCompensationsAddModal()}\n            </Page >\n        )\n    }\n}\n\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        payout: state.data.payouts.byId[props.match.params.id],\n        loading: state.data.payouts.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    const downloader = (blob: Blob, filename: string) => {\n        const url = window.URL.createObjectURL(blob)\n        const link = document.createElement('a')\n        link.href = url\n        link.download = filename\n        document.body.appendChild(link)\n        link.click()\n        document.body.removeChild(link)\n    }\n\n    return {\n        fetchPayouts: () => {\n            dispatch(Data.fetchPayouts())\n        },\n        sendMails: (payoutId: number, memberIds: Array<number>) => {\n            return dispatch(Data.sendPayoutMails(payoutId, memberIds))\n        },\n        sendToBexio: (payoutId: number, memberIds: Array<number>) => {\n            return dispatch(Data.sendToBexio(payoutId, memberIds))\n        },\n        reclaim: (payoutId: number) => {\n            return dispatch(Data.reclaimPayout(payoutId))\n        },\n        getBankingXml: async (payout: PayoutEntity.default, memberIds: Array<number>) => {\n            const data = await Data.sendToApi<string>('post', `${Config.apiEndpoint}/api/payouts/xml`, { payoutId: payout.id, memberIds }, dispatch, undefined, undefined, false)\n            downloader(new Blob([data]), `Soldperiode_${(payout.from > new Date('1970-01-01')) ? payout.from.toLocaleDateString() : ''}_-_${payout.until.toLocaleDateString()}.xml`)\n            return\n        },\n        transfer: (payoutId: number, memberIds: Array<number>) => {\n            return Data.sendToApi('post', `${Config.apiEndpoint}/api/payouts/transfer`, { payoutId, memberIds }, dispatch)\n        },\n        showError: (message: string) => {\n            return dispatch(UI.showError(message))\n        }\n    }\n}\n\n//@ts-ignore\nexport const Payout = connect(mapStateToProps, mapDispatchToProps)(_Payout)","import React, { Component } from 'react'\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { Data } from '../actions/DataActions';\nimport Payout from '../entities/Payout';\nimport { Page } from '../components/Page';\nimport Loading from '../components/Loading';\nimport Compensation from '../entities/Compensation';\nimport Contact from '../entities/Contact';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport { connect } from \"react-redux\";\nimport FormEntry from '../components/FormEntry';\nimport Table from '../components/Table';\nimport Button from '../components/Button';\nimport ReactButton from 'react-bootstrap/Button'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { History } from \"history\";\nimport Config from '../Config';\n\nexport interface PayoutMemberProps {\n    payout: Payout,\n    loading: boolean,\n    member: { compensations: Array<Compensation> } & Contact,\n    history: History,\n    fetchPayouts: () => void,\n    memberPdf: (payoutId: number, member: Contact) => Promise<void>\n}\n\nexport class _PayoutMember extends Component<PayoutMemberProps> {\n    constructor(props: PayoutMemberProps) {\n        super(props)\n        if (!this.props.payout || !this.props.member) {\n            this.props.fetchPayouts()\n        }\n\n        this.compensationView = this.compensationView.bind(this)\n    }\n\n    public compensationView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/compensation/' + id)\n            } else {\n                this.props.history.push('/compensation/' + id)\n            }\n        }\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.payout) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        let total = 0\n        this.props.member.compensations.map(el => total = total + parseFloat(el.amount.toFixed(2)))\n\n        return (\n            <Page title={`Auszahlung ${this.props.payout.from.toLocaleDateString()} - ${this.props.payout.until.toLocaleDateString()} / ${this.props.member.firstname} ${this.props.member.lastname}`}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <FormEntry id=\"member\" title=\"Mitglied\">{this.props.member.firstname} {this.props.member.lastname}</FormEntry>\n                            <FormEntry id=\"amountCompensations\" title=\"Anzahl Entschädigungen\">{this.props.member.compensations.length}</FormEntry>\n                            <FormEntry id=\"total\" title=\"Total\">CHF {total.toFixed(2)}</FormEntry>\n                            <FormEntry id=\"payout\" title=\"Auszahlung\">{this.props.payout.until.toLocaleDateString()}</FormEntry>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            <Button block={true} variant=\"outline-primary\" onClick={async () => { await this.props.memberPdf(this.props.payout.id, this.props.member); }}>PDF</Button>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column>\n                        <Panel title=\"Entschädigungen\">\n                            <Table<Compensation>\n                                columns={[\n                                    { text: 'Datum', keys: ['date'], sortable: true, format: 'toLocaleDateString' },\n                                    { text: 'Beschreibung', keys: ['description'], sortable: true },\n                                    { text: 'Betrag', keys: ['amount'], prefix: 'CHF ', sortable: true, format: 'toFixed(2)' },\n                                    { text: 'Genehmigt', keys: ['approved'], sortable: true },\n                                    { text: 'Ausbezahlt', keys: ['paied'], sortable: true },\n                                    {\n                                        text: 'Actions', keys: ['_id'], content: <ReactButton variant=\"success\" className=\"view\" onMouseUp={this.compensationView}><FontAwesomeIcon icon=\"eye\" /></ReactButton>\n                                    }\n                                ]}\n                                defaultSort={{\n                                    keys: ['date'],\n                                    direction: 'desc'\n                                }}\n                                data={this.props.member.compensations}\n                            />\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    const payout = state.data.payouts.byId[props.match.params.id]\n    if (payout) {\n        return {\n            payout,\n            member: Object.assign({}, payout.compensationsByMember[props.match.params.memberId][0].member, { compensations: payout.compensationsByMember[props.match.params.memberId] }),\n            loading: state.data.payouts.loading\n        }\n    } else {\n        return {\n            payout,\n            member: {},\n            loading: false\n        }\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    const downloader = (blob: Blob, filename: string) => {\n        const url = window.URL.createObjectURL(blob)\n        const link = document.createElement('a')\n        link.href = url\n        link.download = filename\n        document.body.appendChild(link)\n        link.click()\n        document.body.removeChild(link)\n        setTimeout(function () {\n            // For Firefox it is necessary to delay revoking the ObjectURL\n            window.URL.revokeObjectURL(url);\n        }, 100);\n    }\n\n    return {\n        fetchPayouts: () => {\n            dispatch(Data.fetchPayouts())\n        },\n        memberPdf: async (payoutId: number, member: Contact) => {\n            const data = await Data.sendToApi<string>('post', `${Config.apiEndpoint}/api/payouts/member/pdf`, { payoutId, memberId: member.id }, dispatch, undefined, { responseType: 'arraybuffer' })\n            downloader(new Blob([data], { type: 'application/pdf' }), `Auszahlung Verkehrskadettenentschädigung ${member.lastname} ${member.firstname}.pdf`)\n            return\n        }\n    }\n}\n\n//@ts-ignore\nexport const PayoutMember = connect(mapStateToProps, mapDispatchToProps)(_PayoutMember)","import React, { Component } from \"react\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { connect } from \"react-redux\";\nimport { AddPayout as AddPayoutInterface } from \"../interfaces/Payout\";\nimport { Page } from \"../components/Page\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport { History } from \"history\";\nimport Button from '../components/Button';\n\nexport class _AddPayout extends Component<{ history: History, save: (data: AddPayoutInterface) => Promise<AnyAction> }, { from?: string, until: string }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: { history: History, save: (data: AddPayoutInterface) => Promise<AnyAction> }) {\n        super(props)\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n\n        this.state = {\n            from: '',\n            until: ''\n        }\n    }\n\n    private validate(): boolean {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            return valid\n        }\n        return false\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private async onSave(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (this.formEl) {\n            if (this.validate()) {\n                await this.props.save({\n                    from: new Date(this.state.from || '01/01/1970'),\n                    until: new Date(this.state.until)\n                })\n                this.props.history.push('/payouts')\n            }\n        }\n    }\n\n    public render() {\n        return (\n            <Page title=\"Auszahlung hinzufügen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form id=\"addPayout\" ref={(ref: HTMLFormElement) => { this.formEl = ref }}>\n                                <h5>Von (optional)</h5>\n                                <input name=\"from\" type=\"date\" className=\"form-control\" value={this.state.from} onChange={this.onInputChange} />\n                                <br></br>\n\n                                <h5>Bis</h5>\n                                <input name=\"until\" type=\"date\" className=\"form-control\" value={this.state.until} onChange={this.onInputChange} required={true} />\n                                <br></br>\n\n                                <Button variant=\"primary\" block={true} onClick={this.onSave}>Speichern</Button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        save: (data: AddPayoutInterface) => {\n            dispatch(Data.addPayout(data))\n        }\n    }\n}\n\n//@ts-ignore\nexport const AddPayout = connect(() => {}, mapDispatchToProps)(_AddPayout)","import { State } from \"../reducers/IndexReducer\"\nimport { connect } from \"react-redux\"\nimport { Data } from \"../actions/DataActions\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { DataList, DataListProps, DataListTableFilter } from \"../components/DataList\"\nimport React, { Component } from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { RouteComponentProps } from \"react-router-dom\"\nimport Modal from \"../components/Modal\"\nimport { Button, ButtonGroup, InputGroup, Table } from \"react-bootstrap\"\nimport Logoff from \"../entities/Logoff\"\nimport Action from \"../components/Action\"\nimport Input from \"../components/Input\"\nimport { DataInterface } from \"../reducers/DataReducer\"\nimport Contact from \"../entities/Contact\"\nimport Xlsx from 'xlsx'\nimport { TableFilter } from \"../components/Table\"\nimport StringIndexed from \"../interfaces/StringIndexed\"\n\ninterface LogoffsProps extends DataListProps<Logoff> {\n    delete: (id: number) => void,\n    loading: boolean,\n    members: DataInterface<Contact>\n}\n\ninterface LogoffsState {\n    modalShow: boolean\n    toDeleteLogoff?: Logoff,\n    from: Date,\n    until: Date,\n    filter: string,\n    tableData: StringIndexed<Logoff>\n}\n\nexport class _Logoffs extends Component<LogoffsProps & RouteComponentProps, LogoffsState> {\n    constructor(props: LogoffsProps & RouteComponentProps) {\n        super(props)\n\n        this.deleteLogoff = this.deleteLogoff.bind(this)\n        this.deleteLogoffConfirmed = this.deleteLogoffConfirmed.bind(this)\n        this.showModal = this.showModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n        this.excelExport = this.excelExport.bind(this)\n        this.onFilter = this.onFilter.bind(this)\n        this.getFilters = this.getFilters.bind(this)\n        this.onTableDataChange = this.onTableDataChange.bind(this)\n\n        const today = new Date()\n        today.setHours(0, 0, 0, 0)\n        this.state = { modalShow: false, from: today, until: today, filter: 'pending', tableData: {} }\n    }\n\n    private deleteLogoff(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n            if (id) {\n                this.setState({\n                    toDeleteLogoff: this.props.data.byId[id],\n                    modalShow: true\n                })\n            }\n        }\n    }\n\n    private deleteLogoffConfirmed() {\n        if (this.state.toDeleteLogoff) {\n            this.props.delete(this.state.toDeleteLogoff.id)\n            this.setState({\n                toDeleteLogoff: undefined,\n                modalShow: false\n            })\n        }\n    }\n\n    private showModal() {\n        this.setState({\n            modalShow: true\n        })\n    }\n\n    private hideModal() {\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private renderModal() {\n        if (this.state.toDeleteLogoff) {\n            const toDeleteLogoff = this.state.toDeleteLogoff\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>{`${toDeleteLogoff.contact.firstname} ${toDeleteLogoff.contact.lastname} (${toDeleteLogoff.from.toLocaleDateString()} - ${toDeleteLogoff.until.toLocaleDateString()}`}</h3>}\n                    body={\n                        <span>\n                            {\n                                `Willst du die Abmeldung von \n                                ${toDeleteLogoff.contact.firstname} ${toDeleteLogoff.contact.lastname}\n                                vom ${toDeleteLogoff.from.toLocaleDateString()} bis ${toDeleteLogoff.until.toLocaleDateString()}\n                                wirklich löschen?`\n                            }\n                        </span>\n                    }\n                    footer={\n                        <ButtonGroup>\n                            <Button variant=\"danger\" onClick={this.deleteLogoffConfirmed}>Löschen</Button>\n                            <Button variant=\"secondary\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>\n                    }\n\n                />\n            )\n        }\n\n        return null\n    }\n\n    private async excelExport(event: React.MouseEvent<HTMLButtonElement>) {\n        const filter = this.getFilters().find(f => f.id === this.state.filter)\n        const logoffsArray = Object.keys(this.state.tableData).map(key => this.state.tableData[key])\n        function addDays(date: Date, days: number) {\n            date = new Date(date.getTime())\n            date.setDate(date.getDate() + days)\n            return date\n        }\n\n        if (filter) {\n            let membersAsArray = []\n            let logoffDates: string[] = []\n            if (filter.id !== 'custom') {\n                // get all possible dates in logoffs\n                logoffDates = logoffsArray.map(l => {\n                    const dates = []\n                    let currentDate = new Date(l.from.getTime())\n\n                    while (currentDate <= l.until) {\n                        dates.push(currentDate)\n                        currentDate = addDays(currentDate, 1)\n                    }\n                    return dates\n                })\n                    .reduce((arr, val) => arr.concat(val), [])\n                    // sort them\n                    .sort((a, b) => a.getTime() - b.getTime())\n                    // convert to text to distinct\n                    .map(d => d.toLocaleDateString())\n                    .filter((value, index, self) => self.indexOf(value) === index)\n            } else {\n                let currentDate = new Date(this.state.from.getTime())\n                while (currentDate <= this.state.until) {\n                    logoffDates.push(currentDate.toLocaleDateString())\n                    currentDate = addDays(currentDate, 1)\n                }\n            }\n\n            for (let i in this.props.members.byId) {\n                let member = this.props.members.byId[i]\n                if (member.functions && ((member.functions.indexOf('FHR') > -1 && member.functions.length > 1) || member.functions.indexOf('FHR') < 0)) {\n                    const memberLogoffs = logoffsArray.filter(l => l.contact.id.toString() === i)\n                    let germanizedMember: StringIndexed<string> = {\n                        Rang: (member.rank || ''),\n                        Funktionen: (member.functions || []).join(','),\n                        Nachname: member.lastname,\n                        Vorname: member.firstname,\n                        Abholpunkt: '',\n                        AbholpunktAdresse: '',\n                        Adresse: `${member.address}, ${member.postcode} ${member.city}`\n                    }\n                    logoffDates.forEach(d => {\n                        germanizedMember[d] = ''\n                    })\n\n                    if (member.collectionPoint) {\n                        germanizedMember.Abholpunkt = member.collectionPoint.name\n                        germanizedMember.AbholpunktAdresse = `${member.collectionPoint.address}, ${member.collectionPoint.postcode} ${member.collectionPoint.city}`\n                    }\n\n                    memberLogoffs.forEach(l => {\n                        let currentDate = new Date(l.from.getTime())\n                        let dates = []\n                        while (currentDate <= l.until) {\n                            if (logoffDates.indexOf(currentDate.toLocaleDateString()) > -1) dates.push(currentDate)\n                            currentDate = addDays(currentDate, 1)\n                            // reset date if it wasn't already at midnight\n                            currentDate.setHours(0, 0, 0, 0)\n                        }\n\n                        if (l.until.getHours() > 0 || l.until.getMinutes() > 0) {\n                            dates.push(l.until)\n                        }\n\n                        dates.forEach(d => {\n                            if (d.getHours() > 0 || d.getMinutes() > 0) {\n                                if (germanizedMember[d.toLocaleDateString()]) {\n                                    germanizedMember[d.toLocaleDateString()] = `${germanizedMember[d.toLocaleDateString()]} - ${d.toLocaleTimeString()}`\n                                } else {\n                                    germanizedMember[d.toLocaleDateString()] = d.toLocaleTimeString()\n                                }\n                            } else {\n                                germanizedMember[d.toLocaleDateString()] = 'x'\n                            }\n                        })\n                    })\n\n\n                    membersAsArray.push(germanizedMember)\n                }\n            }\n\n            let sheet = Xlsx.utils.json_to_sheet(membersAsArray)\n            let book = Xlsx.utils.book_new()\n            Xlsx.utils.book_append_sheet(book, sheet, `Abmeldungen`)\n\n            if (filter.id === 'custom') {\n                Xlsx.writeFile(book, `Abmeldungen ${this.state.from.toLocaleDateString().replace(/\\./g, '_')}-${this.state.until.toLocaleDateString().replace(/\\./g, '_')}.xlsx`)\n            } else {\n                Xlsx.writeFile(book, `Abmeldungen ${filter.displayName}.xlsx`)\n            }\n        } else {\n            console.error(`Couldn't find filter ${this.state.filter}`)\n        }\n    }\n\n    private onFilter(id: string) {\n        this.setState({ filter: id })\n    }\n\n    private getFilters(): Array<TableFilter | DataListTableFilter> {\n        return [\n            {\n                id: 'all',\n                displayName: `Alle ${(this.state.filter === 'all') ? `(${Object.keys(this.state.tableData).length})` : ``}`,\n                filters: [{ type: 'any' }]\n            },\n            {\n                id: 'pending',\n                displayName: `Offen ${(this.state.filter === 'pending') ? `(${Object.keys(this.state.tableData).length})` : ``}`,\n                filters: [{ type: 'eq', value: 'pending', key: 'state' }]\n            },\n            {\n                id: 'approved',\n                displayName: `Genehmigt ${(this.state.filter === 'approved') ? `(${Object.keys(this.state.tableData).length})` : ``}`,\n                filters: [{ type: 'eq', value: 'approved', key: 'state' }]\n            },\n            {\n                id: 'declined',\n                displayName: `Abgelehnt ${(this.state.filter === 'declined') ? `(${Object.keys(this.state.tableData).length})` : ``}`,\n                filters: [{ type: 'eq', value: 'declined', key: 'state' }]\n            },\n            {\n                id: 'custom',\n                displayName: `Custom ${(this.state.filter === 'custom') ? `(${Object.keys(this.state.tableData).length})` : ``}`,\n                filterComponents: [\n                    <InputGroup size=\"sm\" >\n                        <InputGroup.Prepend>\n                            <InputGroup.Text>Von/Bis</InputGroup.Text>\n                        </InputGroup.Prepend>\n                        <Input type=\"date\" value={this.state.from} name=\"from\" editable={true} onChange={(name: string, value: Date) => { this.setState({ from: value }) }}></Input>\n                        <Input type=\"date\" value={this.state.until} name=\"until\" editable={true} onChange={(name: string, value: Date) => { this.setState({ until: value }) }}></Input>\n                    </InputGroup>\n                ],\n                filters: [{\n                    type: 'cu', filter: (obj: Logoff) => {\n                        return obj.from <= this.state.until && obj.until >= this.state.from\n                    }\n                }]\n            }\n        ]\n    }\n\n    private onTableDataChange(data: StringIndexed<Logoff>): void {\n        this.setState({\n            tableData: data\n        })\n    }\n\n    public shouldComponentUpdate(nextProps: LogoffsProps, nextState: LogoffsState): boolean {\n        return JSON.stringify(this.state) !== JSON.stringify(nextState) || JSON.stringify(this.props) !== JSON.stringify(nextProps)\n    }\n\n    public render() {\n        return (\n            <DataList<Logoff>\n                title='Abmeldungen'\n                viewLocation='/draft/logoff/'\n                panelActions={[\n                    <Action icon=\"plus\" to=\"/draft/logoff/add\" />,\n                    <Action key=\"excel-export\" icon=\"file-excel\" onClick={this.excelExport} disabled={this.props.members.loading} loading={this.props.members.loading} />,\n                ]}\n                rowActions={[\n                    <button className=\"btn btn-danger delete\" onMouseUp={this.deleteLogoff}><FontAwesomeIcon icon=\"trash\" /></button>\n                ]}\n                tableColumns={[\n                    { text: 'Mitglied', keys: { 'contact': ['firstname', 'lastname'] }, sortable: true, searchable: true },\n                    { text: 'Von', keys: ['from'], sortable: true, format: 'toLocaleString' },\n                    { text: 'Bis', keys: ['until'], sortable: true, format: 'toLocaleString' },\n                    { text: 'Status', keys: ['state'], sortable: true },\n                ]}\n                data={this.props.data}\n                fetchData={this.props.fetchData}\n                history={this.props.history}\n                defaultFilter='pending'\n                filters={this.getFilters()}\n                onFilter={this.onFilter}\n                onDataChange={this.onTableDataChange}\n            >\n                {this.renderModal()}\n            </DataList>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.logoffs,\n        members: state.data.members,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchLogoffs())\n            dispatch(Data.fetchMembers())\n        },\n        delete: (id: number) => {\n            dispatch(Data.deleteLogoff(id))\n        }\n    }\n}\n\n//@ts-ignore\nexport const Logoffs = connect(mapStateToProps, mapDispatchToProps)(_Logoffs)","import React, { Component } from \"react\"\nimport { RouteComponentProps } from \"react-router\"\nimport { default as LogoffEntity, LogoffState } from '../entities/Logoff'\nimport { AnyAction } from \"redux\"\nimport Button from \"../components/Button\"\nimport { Error404 } from \"../components/Errors/404\"\nimport { Page } from \"../components/Page\"\nimport Loading from \"../components/Loading\"\nimport Row from \"../components/Row\"\nimport Column from \"../components/Column\"\nimport Panel from \"../components/Panel\"\nimport FormEntry from \"../components/FormEntry\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { Data } from \"../actions/DataActions\"\nimport { connect } from \"react-redux\"\nimport { Link } from \"react-router-dom\"\n\n\ninterface LogoffProps extends RouteComponentProps<{ id: string }> {\n    logoff: LogoffEntity\n    logoffIds: Array<number>,\n    loading: boolean,\n    fetchLogoffs: () => Promise<AnyAction>,\n    approve: (id: number) => Promise<void>,\n    decline: (id: number) => Promise<void>\n}\n\nexport class _Logoff extends Component<LogoffProps> {\n\n    constructor(props: LogoffProps) {\n        super(props)\n\n        this.approve = this.approve.bind(this)\n        this.decline = this.decline.bind(this)\n        this.renderActions = this.renderActions.bind(this)\n\n        this.props.fetchLogoffs()\n    }\n\n    private approve(): Promise<void> {\n        return this.props.approve(this.props.logoff.id)\n    }\n\n    private decline(): Promise<void> {\n        return this.props.decline(this.props.logoff.id)\n    }\n\n    private renderActions() {\n        let actions = [<Link to={\"/contact/\" + this.props.logoff.contact.id} className=\"btn btn-block btn-outline-primary\">Kontakt öffnen</Link>]\n\n        if (this.props.logoff.state === LogoffState.PENDING) {\n            actions = [...actions,\n            <Button id=\"approve\" block={true} variant=\"outline-success\" onClick={this.approve}>Genehmigen</Button>,\n            <Button id=\"decline\" block={true} variant=\"outline-danger\" onClick={this.decline}>Ablehnen</Button>\n            ]\n        }\n        return actions\n    }\n\n    public render() {\n        if (!this.props.loading && !this.props.logoff && this.props.logoffIds.length > 0) {\n            return <Error404 />\n        }\n\n        if (this.props.loading || !this.props.logoff) {\n            return (<Page title=\"Abmeldung\"><Loading /></Page>)\n        }\n\n        let statusBadgeClass = ''\n        switch (this.props.logoff.state) {\n            case LogoffState.PENDING:\n                statusBadgeClass = 'badge-warning'\n                break\n            case LogoffState.APPROVED:\n                statusBadgeClass = 'badge-success'\n                break\n            case LogoffState.DECLINED:\n                statusBadgeClass = 'badge-danger'\n                break\n        }\n\n        return (\n            <Page title=\"Abmeldung\">\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <FormEntry id=\"contact\" title=\"Mitglied\">{this.props.logoff.contact.firstname} {this.props.logoff.contact.lastname}</FormEntry>\n                            <FormEntry id=\"from\" title=\"Von\">{this.props.logoff.from.toLocaleString()}</FormEntry>\n                            <FormEntry id=\"until\" title=\"Bis\">{this.props.logoff.until.toLocaleString()}</FormEntry>\n                            <FormEntry id=\"state\" title=\"Status\"><div className={\"badge \" + statusBadgeClass}>{this.props.logoff.state}</div></FormEntry>\n                            <FormEntry id=\"creator\" title=\"Ersteller\">{this.props.logoff.createdBy.displayName}</FormEntry>\n                            <FormEntry id=\"changedStateBy\" title=\"Status geändert von\">{this.props.logoff?.changedStateBy?.displayName}</FormEntry>\n                            <FormEntry id=\"remarks\" title=\"Bemerkungen\">{this.props.logoff.remarks}</FormEntry>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            {this.renderActions()}\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: RouteComponentProps<{ id: string }>) => {\n    return {\n        logoff: state.data.logoffs.byId[props.match.params.id],\n        logoffIds: state.data.logoffs.ids,\n        loading: state.data.logoffs.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchLogoffs: () => {\n            return dispatch(Data.fetchLogoffs())\n        },\n        approve: (id: number) => {\n            return dispatch(Data.approveLogoff(id))\n        },\n        decline: (id: number) => {\n            return dispatch(Data.declineLogoff(id))\n        },\n    }\n}\n\nexport const Logoff = connect(mapStateToProps, mapDispatchToProps)(_Logoff)","import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { DataInterface } from \"../reducers/DataReducer\"\nimport Contact from \"../entities/Contact\"\nimport { History } from \"history\"\nimport { Page } from \"../components/Page\"\nimport Loading from \"../components/Loading\"\nimport Row from \"../components/Row\"\nimport Column from \"../components/Column\"\nimport Panel from \"../components/Panel\"\nimport { Button } from \"react-bootstrap\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { Data } from \"../actions/DataActions\"\nimport { AddLogoffs, LogoffBase } from \"../interfaces/Logoffs\"\nimport { MemberSelect } from \"../components/MemberSelect\"\nimport Table from \"../components/Table\"\nimport { UI } from \"../actions/UIActions\"\nimport { LogoffState } from \"../entities/Logoff\"\nimport Input from \"../components/Input\"\n\nexport interface AddLogoffState { contact?: Contact, logoffs: Array<ExtendedLogoffBase>, notify: boolean }\n\ninterface ExtendedLogoffBase extends LogoffBase {\n    id: string,\n    [index: string]: any\n}\n\ninterface AddLogoffProps {\n    history: History\n    members: DataInterface<Contact>\n    loading: boolean\n    fetchMembers: Function\n    save: Function\n    error: (message: string) => void\n}\n\nexport class _AddLogoff extends Component<AddLogoffProps, AddLogoffState> {\n    private formEl: HTMLFormElement\n\n    constructor(props: AddLogoffProps) {\n        super(props)\n\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n        this.onLogoffChange = this.onLogoffChange.bind(this)\n        this.onNotifyChange = this.onNotifyChange.bind(this)\n\n        this.state = {\n            logoffs: [],\n            notify: true\n        }\n    }\n\n    public componentDidMount() {\n        this.props.fetchMembers()\n    }\n\n    private validate(): boolean {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            return valid\n        }\n        return false\n    }\n\n    private onSelectChange(opt: Contact) {\n        if (opt) {\n            this.setState({\n                contact: opt\n            })\n        } else {\n            this.setState({\n                contact: undefined\n            })\n        }\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target\n        const value = target.type === 'checkbox' ? target.checked : target.value\n        const name = target.name\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        })\n    }\n\n    private onNotifyChange(name: string, value: boolean): void {\n        //@ts-ignore\n        this.setState({ [name]: value })\n    }\n\n    private async onSave(event: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n        event.preventDefault()\n        if (this.formEl) {\n            if (this.validate() && this.state.contact) {\n                await this.props.save({\n                    contact: this.state.contact.id,\n                    logoffs: this.state.logoffs,\n                    notify: this.state.notify\n                })\n                this.props.history.push('/draft/logoffs')\n            }\n        }\n    }\n\n    private onLogoffChange(id: string | number | null, name: string, value: any, newly: boolean): void {\n        const logoffs = this.state.logoffs\n        if (newly) {\n            const logoff: Partial<ExtendedLogoffBase> = {\n                id: logoffs.length.toString()\n            }\n            // @ts-ignore\n            logoff[name] = value\n            logoff.state = LogoffState.APPROVED\n            logoffs.push(logoff as ExtendedLogoffBase)\n        } else {\n            if (!id) {\n                this.props.error('Something failed... Refresh and please try again!')\n                return\n            }\n            logoffs[parseInt(id.toString())][name] = value\n        }\n\n        this.setState({ logoffs })\n    }\n\n    public render() {\n        if (this.props.loading || this.props.members.ids.length < 1) {\n            return (\n                <Page title=\"Abmeldungen hinzufügen\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Abmeldungen hinzufügen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form id=\"addLogoffs\" ref={(ref: HTMLFormElement) => { this.formEl = ref }}>\n                                <div className=\"row\">\n                                    <div className=\"col\">\n                                        <h5>Mitglied</h5>\n                                        <MemberSelect onChange={this.onSelectChange} required={true} />\n                                    </div>\n                                    <div className=\"col-1\">\n                                        <h5>Benachrichtigen</h5>\n                                        <Input type=\"checkbox\" className=\"d-flex justify-content-center\" name=\"notify\" key=\"notify\" value={this.state.notify} onChange={this.onNotifyChange} editable={true} />\n                                    </div>\n                                </div>\n                                <br></br>\n                                <Table<ExtendedLogoffBase>\n                                    columns={[\n                                        { keys: ['from'], text: 'Von', editable: true, type: 'datetime', onChange: this.onLogoffChange, required: true },\n                                        { keys: ['until'], text: 'Bis', editable: true, type: 'datetime', onChange: this.onLogoffChange, required: true },\n                                        { keys: ['state'], text: 'Status', editable: true, type: 'select', options: ['approved', 'pending', 'declined'], onChange: this.onLogoffChange, required: true },\n                                        { keys: ['remarks'], text: 'Bemerkungen', editable: true, type: 'text', onChange: this.onLogoffChange, required: false },\n                                    ]}\n                                    addNew={true}\n                                    data={this.state.logoffs}\n                                />\n                                <Button variant=\"primary\" block={true} onClick={this.onSave}>Speichern</Button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        members: state.data.members,\n        loading: state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        save: (data: AddLogoffs) => {\n            dispatch(Data.addLogoffs(data))\n        },\n        error: (message: string) => {\n            dispatch(UI.showError(message))\n        }\n    }\n}\n\nexport const AddLogoff = connect(mapStateToProps, mapDispatchToProps)(_AddLogoff)","import React, { Component, SyntheticEvent } from \"react\"\nimport { Provider } from \"react-redux\"\nimport configureStore from \"./Store\"\nimport { Store, AnyAction } from \"redux\"\nimport { Route, Switch, Redirect } from \"react-router-dom\"\nimport { ToastContainer } from 'react-toastify'\nimport { AuthRoles } from \"./interfaces/AuthRoles\"\nimport { SecureRoute } from \"./components/SecureRoute\"\nimport Config from './Config'\nimport { ConnectedRouter } from \"connected-react-router\"\nimport { createBrowserHistory, History } from \"history\"\n\n// styles\nimport './styles/index.scss'\nimport 'react-toastify/dist/ReactToastify.css'\n\n// views\nimport { Dashboard } from \"./views/Dashboard\"\nimport { Members } from \"./views/Members\"\nimport { Contact } from \"./views/Contact\"\nimport { Orders } from \"./views/Orders\"\nimport { Order } from \"./views/Order\"\nimport { BillingReports } from \"./views/BillingReports\"\nimport { Compensations } from \"./views/Compensations\"\nimport { AddBillingReport } from \"./views/AddBillingReport\"\nimport { Login } from \"./views/Login\"\nimport { Users } from \"./views/Users\"\nimport { User } from \"./views/User\"\nimport { BillingReport } from \"./views/BillingReport\"\nimport { AddCompensation } from \"./views/AddCompensation\"\nimport { Compensation } from \"./views/Compensation\"\nimport { Error404 } from \"./components/Errors/404\"\nimport { MailingLists } from \"./views/MailingLists\"\nimport { CollectionPoints } from \"./views/CollectionPoints\"\nimport { AddCollectionPoint } from \"./views/AddCollectionPoint\"\nimport { Payouts } from \"./views/Payouts\"\nimport { Payout } from \"./views/Payout\"\nimport { PayoutMember } from \"./views/PayoutMember\"\nimport { AddPayout } from \"./views/AddPayout\"\nimport { Logoffs } from \"./views/Logoffs\"\nimport { Logoff } from \"./views/Logoff\"\nimport { AddLogoff } from \"./views/AddLogoff\"\n\nexport default class Root extends Component<{}, {}> {\n    private store: Store<any, AnyAction>\n    private history: History\n\n    constructor(props: {}, state: {}) {\n        super(props, state)\n        Config.loadConfig()\n        this.history = createBrowserHistory({ basename: '/webapp/' })\n        this.store = configureStore(this.history)\n        this.store.getState()\n    }\n\n    render() {\n        return (\n            <Provider store={this.store}>\n                <div className=\"body\">\n                    <ToastContainer\n                        position=\"top-center\"\n                        autoClose={5000}\n                        hideProgressBar={false}\n                        newestOnTop={true}\n                        closeOnClick\n                        rtl={false}\n                        draggable={true}\n                        pauseOnHover={true}\n                    />\n                    <ConnectedRouter history={this.history} >\n                        <Switch>\n                            <Route exact path=\"/\" component={() => { return (<Redirect to=\"/login\" />) }} />\n                            <Route exact path=\"/login\" component={Login} />\n                            <Route exact path=\"/login?source=:source\" component={Login} />\n                            <SecureRoute exact path=\"/dashboard\" roles={[AuthRoles.AUTHENTICATED]} component={Dashboard} />\n                            <SecureRoute exact path=\"/members\" roles={[AuthRoles.MEMBERS_READ]} component={Members} />\n                            <SecureRoute exact path=\"/mailing-lists\" roles={[AuthRoles.MAILING_LISTS]} component={MailingLists} />\n                            <SecureRoute exact path=\"/draft/collection-points\" roles={[AuthRoles.DRAFT_READ]} component={CollectionPoints} />\n                            <SecureRoute exact path=\"/draft/collection-point/add\" roles={[AuthRoles.DRAFT_EDIT, AuthRoles.DRAFT_CREATE]} component={AddCollectionPoint} />\n                            <SecureRoute exact path=\"/draft/logoffs\" roles={[AuthRoles.LOGOFFS_READ]} component={Logoffs} />\n                            <SecureRoute exact path=\"/draft/logoff/add\" roles={[AuthRoles.LOGOFFS_CREATE]} component={AddLogoff} />\n                            <SecureRoute exact path=\"/draft/logoff/:id\" roles={[AuthRoles.LOGOFFS_READ, AuthRoles.AUTHENTICATED]} component={Logoff} />\n                            <SecureRoute exact path=\"/contact/:id\" roles={[AuthRoles.CONTACTS_READ, AuthRoles.MEMBERS_READ, AuthRoles.AUTHENTICATED]} component={Contact} />\n                            <SecureRoute exact path=\"/orders\" roles={[AuthRoles.ORDERS_READ]} component={Orders} />\n                            <SecureRoute exact path=\"/order/:id\" roles={[AuthRoles.ORDERS_READ]} component={Order} />\n                            <SecureRoute exact path=\"/billing-reports\" roles={[AuthRoles.BILLINGREPORTS_READ, AuthRoles.BILLINGREPORTS_CREATE]} component={BillingReports} />\n                            <SecureRoute exact path=\"/billing-reports/add\" roles={[AuthRoles.BILLINGREPORTS_CREATE]} component={AddBillingReport} />\n                            <SecureRoute exact path=\"/billing-report/:id\" roles={[AuthRoles.BILLINGREPORTS_CREATE, AuthRoles.BILLINGREPORTS_READ]} component={BillingReport} />\n                            <SecureRoute exact path=\"/compensations\" roles={[AuthRoles.COMPENSATIONS_READ]} component={Compensations} />\n                            <SecureRoute exact path=\"/compensations/add\" roles={[AuthRoles.COMPENSATIONS_CREATE]} component={AddCompensation} />\n                            <SecureRoute exact path=\"/compensation/:id\" roles={[AuthRoles.COMPENSATIONS_READ, AuthRoles.AUTHENTICATED]} component={Compensation} />\n                            <SecureRoute exact path=\"/payouts\" roles={[AuthRoles.PAYOUTS_READ]} component={Payouts} />\n                            <SecureRoute exact path=\"/payouts/add\" roles={[AuthRoles.PAYOUTS_CREATE]} component={AddPayout} />\n                            <SecureRoute exact path=\"/payout/:id\" roles={[AuthRoles.PAYOUTS_READ]} component={Payout} />\n                            <SecureRoute exact path=\"/payout/:id/:memberId\" roles={[AuthRoles.PAYOUTS_READ]} component={PayoutMember} />\n                            <SecureRoute exact path=\"/users\" roles={[AuthRoles.ADMIN]} component={Users} />\n                            <SecureRoute exact path=\"/user/:id\" roles={[AuthRoles.ADMIN]} component={User} />\n                            <Route path=\"/*\" component={Error404} />\n                        </Switch>\n                    </ConnectedRouter>\n                </div>\n            </Provider>\n        )\n    }\n}","import { createStore, applyMiddleware, combineReducers } from \"redux\";\nimport IndexReducer from \"./reducers/IndexReducer\";\nimport thunkMiddleware from 'redux-thunk'\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\nimport { History } from \"history\";\nimport { composeWithDevTools } from \"remote-redux-devtools\";\n\nexport default function configureStore(history: History<any>) {\n    return createStore(\n        combineReducers({ ...IndexReducer, router: connectRouter(history) }),\n        composeWithDevTools(\n            applyMiddleware(thunkMiddleware, routerMiddleware(history))\n        )\n    )\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and contacts)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import './fontawesome_init'\n\nimport React from 'react';\nimport ReactDOM, { render } from 'react-dom';\nimport Root from './Root';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <Root />\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();","import React, { Component } from \"react\"\nimport Checkbox from \"./Checkbox\"\nimport ReactDatePicker from \"react-datepicker\"\n\nimport \"react-datepicker/dist/react-datepicker.css\"\n\nexport interface InputProps {\n    name: string\n    value: any,\n    options?: string[],\n    type?: string,\n    editable?: boolean\n    onChange?: (name: string, value: any) => void,\n    required?: boolean\n    className?: string\n}\n\nexport default class Input extends Component<InputProps> {\n    public render() {\n        let onChange = (name: string, value: any) => { }\n        if (this.props.onChange) onChange = this.props.onChange\n        let value: Date | null\n\n        switch (this.props.type) {\n            case 'checkbox':\n                return <Checkbox checked={this.props.value} editable={this.props.editable} onChange={(event) => onChange(this.props.name, event.target.checked)} label='' required={!!this.props.required} aria-describedby={this.props.name} className={this.props.className} />\n            case 'textarea':\n                return <textarea name={this.props.name} value={this.props.value} onChange={(event) => onChange(this.props.name, event.target.value)} className={'form-entry form-control' + ((!this.props.editable) ? '-plaintext' : '') + ` ${this.props.className}`} readOnly={!this.props.editable} required={!!this.props.required} aria-describedby={this.props.name} />\n            case 'date':\n                value = this.props.value\n                if (typeof this.props.value === 'string') value = new Date(this.props.value)\n                if (this.props.value === '') value = null\n\n                if (this.props.editable) {\n                    return <ReactDatePicker name={this.props.name} onChange={(date, event) => onChange(this.props.name, date)} selected={value} className={'form-entry form-control' + ` ${this.props.className}`} allowSameDay={true} required={!!this.props.required} dateFormat=\"dd.MM.yyyy\" disabledKeyboardNavigation={true} aria-describedby={this.props.name} />\n                } else {\n                    if (value instanceof Date) return value.toLocaleDateString()\n                    return ''\n                }\n            case 'datetime':\n                value = this.props.value\n                if (typeof this.props.value === 'string') value = new Date(this.props.value)\n                if (this.props.value === '') value = null\n\n                if (this.props.editable) {\n                    return <ReactDatePicker name={this.props.name} onChange={(date, event) => onChange(this.props.name, date)} selected={value} showTimeSelect={true} className={'form-entry form-control' + ` ${this.props.className}`} required={!!this.props.required} timeFormat=\"HH:mm\" dateFormat=\"dd.MM.yyyy HH:mm\" disabledKeyboardNavigation={true} shouldCloseOnSelect={false} aria-describedby={this.props.name} />\n                } else {\n                    if (value instanceof Date) return value.toLocaleString()\n                    return ''\n                }\n            case 'select':\n                if (this.props.options) {\n                    return (<select name={this.props.name} value={this.props.value} onChange={(event) => onChange(this.props.name, event.target.value)} className={'form-entry form-control' + ((!this.props.editable) ? '-plaintext' : '') + ` ${this.props.className}`} required={!!this.props.required} aria-describedby={this.props.name}>\n                        {this.props.options.map(option => <option value={option}>{option}</option>)}\n                    </select>)\n                }\n            default:\n                return <input name={this.props.name} type={this.props.type || 'text'} value={this.props.value} onChange={(event) => onChange(this.props.name, event.target.value)} className={'form-entry form-control' + ((!this.props.editable) ? '-plaintext' : '') + ` ${this.props.className}`} readOnly={!this.props.editable} required={!!this.props.required} aria-describedby={this.props.name} />\n\n        }\n    }\n}","import React, { Component } from \"react\"\nimport { Data } from \"../actions/DataActions\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { AnyAction } from \"redux\"\nimport Select from 'react-select'\nimport { DataInterface } from \"../reducers/DataReducer\"\nimport { ValueType } from \"react-select/lib/types\"\nimport { connect } from 'react-redux'\nimport Contact from \"../entities/Contact\"\n\ninterface MemberSelectProps {\n    defaultValue?: Array<Contact>,\n    isMulti?: boolean\n    onChange: Function,\n    members: DataInterface<Contact>,\n    loading: boolean,\n    ref?: Function,\n    fetchMembers: Function,\n    required?: boolean\n}\n\nexport class _MemberSelect extends Component<MemberSelectProps, { value?: Array<{ label: string, value: string }> }> {\n    constructor(props: MemberSelectProps) {\n        super(props)\n\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let member of this.props.defaultValue) {\n                valueProps.push({\n                    value: member.id.toString(),\n                    label: member.firstname + ' ' + member.lastname\n                })\n            }\n\n            this.state = {\n                value: valueProps\n            }\n        } else {\n            this.state = {}\n        }\n    }\n\n    public componentDidUpdate() {\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let member of this.props.defaultValue) {\n                valueProps.push({\n                    value: member.id.toString(),\n                    label: member.firstname + ' ' + member.lastname\n                })\n            }\n\n            if (JSON.stringify(this.state.value) !== JSON.stringify(valueProps)) {\n                this.setState({\n                    value: valueProps\n                })\n            }\n        }\n    }\n\n    public componentWillMount() {\n        if (this.props.members.ids.length < 1) {\n            this.props.fetchMembers()\n        }\n    }\n\n    private prepareOptions() {\n        let options = []\n        if (Object.keys(this.props.members.byId).length > 0) {\n            for (let i in this.props.members.byId) {\n                let member = this.props.members.byId[i]\n                options.push({\n                    label: member.firstname + ' ' + member.lastname,\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onChange(opt: ValueType<{ label: string, value: string }>) {\n        let ops: Array<{ label: string, value: string }> = [opt as { label: string, value: string }]\n        if (this.props.isMulti) {\n            ops = opt as Array<{ label: string, value: string }>\n        }\n\n        this.setState({\n            value: ops\n        })\n\n        let members = []\n        for (let o of ops) {\n            if (o) {\n                members.push(this.props.members.byId[o.value])\n            } else {\n                members.push(undefined)\n            }\n        }\n\n        if (this.props.onChange) {\n            if (this.props.isMulti) {\n                this.props.onChange(members)\n            } else {\n                this.props.onChange(members[0])\n            }\n        }\n    }\n\n    private prepareValue() {\n        if (this.props.isMulti) {\n            return this.state.value || []\n        }\n\n        return (this.state.value || [])[0]\n    }\n\n    public render() {\n        if (!this.props.loading) {\n            return (<Select\n                ref={(select: any) => { if (this.props.ref) this.props.ref(select) }}\n                isClearable={true}\n                options={this.prepareOptions()}\n                backspaceRemovesValue={true}\n                hideSelectedOptions={true}\n                openMenuOnFocus={true}\n                isMulti={this.props.isMulti || false}\n                onChange={this.onChange.bind(this)}\n                value={this.prepareValue()}\n                required={!!this.props.required}\n            />)\n        }\n\n        return null\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        members: state.data.members,\n        loading: state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        }\n    }\n}\n\n//@ts-ignore\nexport const MemberSelect = connect(mapStateToProps, mapDispatchToProps)(_MemberSelect)","import React, { Component } from \"react\";\nimport Button from \"./Button\";\n\nexport interface WizardStepProps {\n    title: string,\n    isActive?: boolean,\n    currentStep?: number,\n    totalSteps?: number,\n    fistStep?: () => void,\n    lastStep?: () => void,\n    nextStep?: () => void,\n    previousStep?: () => void,\n    gotoStep?: (step: number) => void,\n    onNextStep?: () => Promise<boolean>,\n    onPreviousStep?: () => Promise<boolean>,\n    validator?: () => Promise<boolean>\n}\n\nexport default class WizardStep extends Component<WizardStepProps> {\n    constructor(props: WizardStepProps) {\n        super(props)\n        this.previousStep = this.previousStep.bind(this)\n        this.nextStep = this.nextStep.bind(this)\n        this.renderBackButton = this.renderBackButton.bind(this)\n    }\n\n    public async nextStep() {\n        let valid = true\n        if (this.props.onNextStep) {\n            valid = await this.props.onNextStep()\n        }\n\n        if (valid) {\n            if (this.props.nextStep) {\n                this.props.nextStep()\n            }\n        }\n    }\n\n    public async previousStep() {\n        if (this.props.onPreviousStep) {\n            await this.props.onPreviousStep()\n        }\n\n        if (this.props.previousStep) {\n            this.props.previousStep()\n        }\n    }\n\n    private renderBackButton() {\n        if ((this.props.currentStep || 0) > 1) return <Button variant=\"secondary\" onClick={this.previousStep}>Zurück</Button>\n        return <div></div>\n    }\n\n    public render() {\n        let nextButtonText = 'Weiter'\n        let nextButtonClasses = 'btn btn-primary'\n        if (this.props.currentStep === this.props.totalSteps) {\n            nextButtonText = 'Speichern'\n            nextButtonClasses = 'btn btn-success'\n        }\n\n        return (\n            <div>\n                <div className=\"wizard-step-header\">\n                    <h4>{this.props.title}</h4>\n                </div>\n                <div className=\"wizard-step-body\">\n                    {this.props.children}\n                </div>\n                <div className=\"d-flex justify-content-between wizard-step-footer\">\n                    {this.renderBackButton()}\n                    <Button className={nextButtonClasses} onClick={this.nextStep}>{nextButtonText}</Button>\n                </div>\n            </div>\n        )\n    }\n}","import { UI } from \"./UIActions\"\nimport { CreateBillingReport, EditBillingReport, BillingReportCompensationEntry } from \"./../interfaces/BillingReport\"\nimport { AnyAction } from \"redux\"\nimport { ThunkAction, ThunkDispatch } from \"redux-thunk\"\nimport { State } from \"../reducers/IndexReducer\"\nimport axios, { AxiosError, AxiosResponse, AxiosRequestConfig } from 'axios'\nimport { CompensationEntry } from \"../interfaces/CompensationEntry\"\nimport Config from '../Config'\nimport { PutCollectionPoints } from \"../interfaces/CollectionPoints\"\nimport { EditMember } from \"../interfaces/Member\"\nimport { AddPayout } from \"../interfaces/Payout\"\nimport { AddLogoff, AddLogoffs } from \"../interfaces/Logoffs\"\n\nexport const DataActions = {\n    FETCH_USER: 'fetch_user',\n    GOT_USER: 'got_user',\n\n    FETCH_MEMBERS: 'fetch_members',\n    GOT_MEMBERS: 'got_members',\n    EDIT_MEMBER: 'edit_member',\n\n    FETCH_RANKS: 'fetch_ranks',\n    GOT_RANKS: 'got_ranks',\n\n    FETCH_CONTACTS: 'fetch_contacts',\n    GOT_CONTACTS: 'got_contacts',\n\n    FETCH_ORDERS: 'fetch_orders',\n    GOT_ORDERS: 'got_orders',\n\n    FETCH_OPEN_ORDERS: 'fetch_open_orders',\n    GOT_OPEN_ORDERS: 'got_open_orders',\n\n    FETCH_BILLING_REPORTS: 'fetch_billing_reports',\n    GOT_BILLING_REPORTS: 'got_billing_reports',\n    ADD_BILLING_REPORT: 'add_billing_report',\n    APPROVE_BILLING_REPORT: 'approve_billing_report',\n    DECLINE_BILLING_REPORT: 'decline_billing_report',\n    EDIT_BILLING_REPORT: 'edit_billing_report',\n\n    FETCH_COMPENSATION_ENTRIES: 'fetch_compensation_entries',\n    GOT_COMPENSATION_ENTRIES: 'got_compensation_entries',\n    ADD_COMPENSATION_ENTRIES: 'add_compensation_entries',\n    ADD_COMPENSATION_ENTRY: 'add_compensation_entry',\n    APPROVE_COMPENSATION_ENTRY: 'approve_compensation_entry',\n    DECLINE_COMPENSATION_ENTRY: 'dcline_compensation_entry',\n    DELETE_COMPENSATION_ENTRY: 'delete_compensation_entry',\n\n    FETCH_USERS: 'fetch_users',\n    GOT_USERS: 'got_users',\n\n    FETCH_COLLECTION_POINTS: 'fetch_collection_points',\n    GOT_COLLECTION_POINTS: 'got_collection_points',\n    ADD_COLLECTION_POINT: 'add_collection_point',\n\n    ADD_PAYOUT: 'add_payout',\n\n    FETCH_PAYOUTS: 'fetch_payouts',\n    GOT_PAYOUTS: 'got_payouts',\n    SENDING_PAYOUTS_MAILS: 'sending_payouts_mail',\n    SENT_PAYOUTS_MAILS: 'sent_payouts_mail',\n    SENDING_PAYOUTS_BEXIO: 'sending_payouts_bexio',\n    SENT_PAYOUTS_BEXIO: 'sent_payouts_bexio',\n\n    FETCH_LOGOFFS: 'fetch_logoffs',\n    GOT_LOGOFFS: 'got_logoffs',\n    ADD_LOGOFFS: 'add_logoffs',\n    ADD_LOGOFF: 'add_logoff',\n    APPROVE_LOGOFF: 'approve_logoff',\n    DECLINE_LOGOFF: 'dcline_logoff',\n    DELETE_LOGOFF: 'delete_logoff'\n}\n\nexport class Data {\n    public static fetchUser(filter: Object = {}): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/me', DataActions.FETCH_USER, DataActions.GOT_USER)\n    }\n\n    public static fetchContacts(filter: Object = {}): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/contacts', DataActions.FETCH_CONTACTS, DataActions.GOT_CONTACTS)\n    }\n\n    public static fetchMembers(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/members', DataActions.FETCH_MEMBERS, DataActions.GOT_MEMBERS)\n    }\n\n    public static editMember(data: EditMember): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.EDIT_MEMBER\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/members', data, dispatch, () => {\n                dispatch(Data.fetchContacts())\n            })\n        }\n    }\n\n    public static fetchRanks(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/ranks', DataActions.FETCH_RANKS, DataActions.GOT_RANKS)\n    }\n\n    public static fetchOrders(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/orders', DataActions.FETCH_ORDERS, DataActions.GOT_ORDERS)\n    }\n\n    public static fetchOpenOrders(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/billing-reports/open', DataActions.FETCH_OPEN_ORDERS, DataActions.GOT_OPEN_ORDERS)\n    }\n\n    public static fetchBillingReports(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/billing-reports', DataActions.FETCH_BILLING_REPORTS, DataActions.GOT_BILLING_REPORTS)\n    }\n\n    public static addBillingReport(data: CreateBillingReport): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            dispatch({\n                type: DataActions.ADD_BILLING_REPORT\n            })\n\n            return Data.sendToApi('put', Config.apiEndpoint + '/api/billing-reports', data, dispatch, () => {\n                dispatch(UI.showSuccess('Gespeichert!'))\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static approveBillingReport(id: string): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.APPROVE_BILLING_REPORT,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/billing-reports/approve', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static declineBillingReport(id: string): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.DECLINE_BILLING_REPORT,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/billing-reports/decline', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static editBillingReport(data: EditBillingReport): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.EDIT_BILLING_REPORT\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/billing-reports', data, dispatch, () => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static fetchCompensationEntries(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/compensations', DataActions.FETCH_COMPENSATION_ENTRIES, DataActions.GOT_COMPENSATION_ENTRIES)\n    }\n\n    public static addCompensationEntriesForBillingReport(data: { billingReportId: number, entries: Array<BillingReportCompensationEntry> }): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.ADD_COMPENSATION_ENTRIES\n            })\n\n            return Data.sendToApi('put', Config.apiEndpoint + '/api/compensations/bulk', data, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n                dispatch(UI.showSuccess('Gespeichert!'))\n            })\n        }\n    }\n\n    public static addCompensationEntry(data: CompensationEntry): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.ADD_COMPENSATION_ENTRY\n            })\n\n            return Data.sendToApi('put', Config.apiEndpoint + '/api/compensations', data, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n            })\n        }\n    }\n\n    public static approveCompensationEntry(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.APPROVE_COMPENSATION_ENTRY,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/compensations/approve', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n                dispatch(UI.showSuccess('Genehmigt!'))\n            })\n        }\n    }\n\n    public static deleteCompensationEntry(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.DELETE_COMPENSATION_ENTRY,\n                payload: id\n            })\n\n            return Data.sendToApi('delete', Config.apiEndpoint + '/api/compensations', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n                dispatch(UI.showSuccess('Gelöscht!'))\n            })\n        }\n    }\n\n    public static fetchUsers(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/users', DataActions.FETCH_USERS, DataActions.GOT_USERS)\n    }\n\n    public static fetchCollectionPoints(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/collection-points', DataActions.FETCH_COLLECTION_POINTS, DataActions.GOT_COLLECTION_POINTS)\n    }\n\n    public static addCollectionPoint(data: PutCollectionPoints): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: DataActions.ADD_COLLECTION_POINT\n                })\n\n                Data.sendToApi('put', Config.apiEndpoint + '/api/collection-points', data, dispatch).then(() => {\n                    dispatch(Data.fetchCollectionPoints())\n                    dispatch(UI.showSuccess('Gespeichert!'))\n                    resolve()\n                }).catch(err => {\n                    reject(err)\n                })\n            })\n        }\n    }\n\n    public static fetchPayouts(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/payouts', DataActions.FETCH_PAYOUTS, DataActions.GOT_PAYOUTS)\n    }\n\n    public static sendPayoutMails(payoutId: number, memberIds: Array<number>): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            dispatch({\n                type: DataActions.SENDING_PAYOUTS_MAILS\n            })\n\n            await Data.sendToApi('post', Config.apiEndpoint + '/api/payouts/email', { payoutId, memberIds }, dispatch)\n            dispatch({\n                type: DataActions.SENT_PAYOUTS_MAILS\n            })\n\n            dispatch(UI.showSuccess('Gesendet!'))\n        }\n    }\n\n    public static sendToBexio(payoutId: number, memberIds: Array<number>): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            dispatch({\n                type: DataActions.SENDING_PAYOUTS_BEXIO\n            })\n\n            await Data.sendToApi('post', Config.apiEndpoint + '/api/payouts/bexio', { payoutId, memberIds }, dispatch)\n            dispatch({\n                type: DataActions.SENT_PAYOUTS_BEXIO\n            })\n\n            dispatch(UI.showSuccess('Übertragen!'))\n        }\n    }\n\n    public static addPayout(data: AddPayout): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: DataActions.ADD_PAYOUT\n                })\n\n                Data.sendToApi('put', Config.apiEndpoint + '/api/payouts', data, dispatch).then(() => {\n                    dispatch(Data.fetchPayouts())\n                    dispatch(UI.showSuccess('Gespeichert!'))\n                    resolve()\n                }).catch(err => {\n                    reject(err)\n                })\n            })\n        }\n    }\n\n    public static reclaimPayout(payoutId: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            await Data.sendToApi('post', Config.apiEndpoint + '/api/payouts/reclaim', { id: payoutId }, dispatch)\n            dispatch(Data.fetchPayouts())\n            dispatch(UI.showSuccess('Done!'))\n        }\n    }\n\n    public static fetchLogoffs(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/logoffs', DataActions.FETCH_LOGOFFS, DataActions.GOT_LOGOFFS)\n    }\n\n    public static addLogoff(data: AddLogoff): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: DataActions.ADD_LOGOFF\n                })\n\n                Data.sendToApi('put', Config.apiEndpoint + '/api/logoffs/add', data, dispatch).then(() => {\n                    dispatch(Data.fetchLogoffs())\n                    dispatch(UI.showSuccess('Gespeichert!'))\n                    resolve()\n                }).catch(err => {\n                    reject(err)\n                })\n            })\n        }\n    }\n\n    public static addLogoffs(data: AddLogoffs): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: DataActions.ADD_LOGOFFS\n                })\n\n                Data.sendToApi('put', Config.apiEndpoint + '/api/logoffs/add/bulk', data, dispatch).then(() => {\n                    dispatch(Data.fetchLogoffs())\n                    dispatch(UI.showSuccess('Gespeichert!'))\n                    resolve()\n                }).catch(err => {\n                    reject(err)\n                })\n            })\n        }\n    }\n\n    public static approveLogoff(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.APPROVE_LOGOFF,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/logoffs/approve', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchLogoffs())\n                dispatch(UI.showSuccess('Genehmigt!'))\n            })\n        }\n    }\n\n    public static declineLogoff(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.DECLINE_LOGOFF,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/logoffs/decline', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchLogoffs())\n                dispatch(UI.showSuccess('Genehmigt!'))\n            })\n        }\n    }\n\n    public static deleteLogoff(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.DELETE_LOGOFF,\n                payload: id\n            })\n\n            return Data.sendToApi('delete', `${Config.apiEndpoint}/api/logoffs/${id}`, {}, dispatch).then(() => {\n                dispatch(Data.fetchLogoffs())\n                dispatch(UI.showSuccess('Gelöscht!'))\n            })\n        }\n    }\n\n    private static fetchFromApi(route: string, fetchAction: string, gotAction: string): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: fetchAction\n                })\n\n                Data.getFromApi<any>(route, dispatch).then(data => {\n                    resolve(dispatch({\n                        type: gotAction,\n                        payload: data\n                    }))\n                }).catch((error: AxiosError) => {\n                    reject(error)\n                })\n            })\n\n        }\n    }\n\n    public static async getFromApi<T>(route: string, dispatch: ThunkDispatch<State, undefined, AnyAction>): Promise<T> {\n        try {\n            const response = await axios.get(route, { withCredentials: true })\n            const data = Data.deepParser(response.data)\n            return data\n        } catch (error) {\n            if (error.response && (error.response as AxiosResponse).status === 403) {\n                dispatch(UI.showError('Zugriff verweigert!'))\n            } else if (error.response && (error.response as AxiosResponse).status === 401) {\n                dispatch(UI.logout())\n            } else {\n                dispatch(UI.showError('Ooops... Da ist ein Fehler passiert!'))\n            }\n\n            throw error\n        }\n    }\n\n    public static sendToApi<T>(method: 'post' | 'put' | 'delete', route: string, data: any, dispatch: ThunkDispatch<State, undefined, AnyAction>, callback?: (data?: T) => void, axiosSettings?: AxiosRequestConfig, deepParse = true): Promise<T> {\n        return new Promise<T>((resolve, reject) => {\n            axios({\n                ...axiosSettings,\n                method: method,\n                url: route,\n                data: data,\n                withCredentials: true,\n                timeout: 600000\n            }).then(response => {\n                let data = response.data\n                if (deepParse) data = Data.deepParser(data)\n                if (callback) callback(data)\n                resolve(data)\n            }).catch((error: AxiosError) => {\n                if (error.response && (error.response as AxiosResponse).status === 403) {\n                    dispatch(UI.showError('Zugriff verweigert!'))\n                } else if (error.response && (error.response as AxiosResponse).status === 401) {\n                    dispatch(UI.logout())\n                } else {\n                    dispatch(UI.showError('Ooops... Da ist ein Fehler passiert!'))\n                }\n                reject(error)\n            })\n        })\n    }\n\n    public static deepParser(data: any) {\n        if (data instanceof Array || typeof data === 'object') {\n            for (let i in data) {\n                data[i] = Data.deepParser(data[i])\n            }\n            return data\n        } else {\n            let dateRegex = /([0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T(2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9].[0-9][0-9][0-9]Z|[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]))/\n            if (dateRegex.test(data)) {\n                return new Date(data)\n            } else {\n                return data\n            }\n        }\n    }\n}","import { Component } from \"react\"\nimport React from \"react\"\n\ninterface CheckboxProps {\n    onChange: (event: React.ChangeEvent<HTMLInputElement>) => void\n    checked?: boolean\n    label?: string\n    id?: string\n    required?: boolean\n    className?: string\n    editable?: boolean\n}\n\nexport default class Checkbox extends Component<CheckboxProps, { checked: boolean }> {\n    constructor(props: CheckboxProps) {\n        super(props)\n\n        this.onCheck = this.onCheck.bind(this)\n\n        this.state = { checked: this.props.checked || false }\n    }\n\n    private onCheck(event: React.ChangeEvent<HTMLInputElement>): void {\n        if (this.props.editable) {\n            this.setState({\n                checked: !this.state.checked\n            })\n\n            this.props.onChange(event)\n        }\n    }\n\n    public componentDidUpdate(prevProps: CheckboxProps) {\n        if (this.props.hasOwnProperty('checked')) {\n            if (this.props.checked !== prevProps.checked) {\n                this.setState({\n                    checked: this.props.checked || false\n                })\n            }\n        }\n    }\n\n    public render() {\n        return (\n            <span className={this.props.className}>\n                <input id={this.props.id || ''} type=\"checkbox\" checked={this.state.checked || false} onChange={this.onCheck} required={!!this.props.required} />\n                <label htmlFor=\"food\">{this.props.label || ''}</label>\n            </span>\n        )\n    }\n}"],"sourceRoot":""}