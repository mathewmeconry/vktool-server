{"version":3,"sources":["interfaces/AuthRoles.ts","components/Column.tsx","components/Panel.tsx","actions/UIActions.ts","components/Swipe.tsx","components/Header.tsx","components/NavibarElement.tsx","components/NavibarLevelHeader.tsx","components/Navibar.tsx","components/Page.tsx","components/Row.tsx","views/AddBillingReport.tsx","components/WizardNav.tsx","views/AddBillingReportSteps/AddBillingReportStep1.tsx","views/AddBillingReportSteps/AddBillingReportStep3.tsx","views/AddBillingReportSteps/AddBillingReportStep4.tsx","Config.ts","fontawesome_init.ts","reducers/UIReducer.ts","reducers/DataReducer.ts","reducers/IndexReducer.ts","components/Errors/403.tsx","components/SecureRoute.tsx","views/Dashboard.tsx","views/Members.tsx","components/FormEntry.tsx","entities/Base.ts","entities/CollectionPoint.ts","components/CollectionPointSelect.tsx","views/Contact.tsx","views/Orders.tsx","views/Order.tsx","views/BillingReports.tsx","components/Modal.tsx","views/Compensations.tsx","views/Login.tsx","views/Users.tsx","views/User.tsx","components/OrderSelect.tsx","views/BillingReport.tsx","views/AddCompensation.tsx","entities/Compensation.ts","components/Errors/404.tsx","views/Compensation.tsx","views/MailingLists.tsx","views/CollectionPoints.tsx","views/AddCollectionPoint.tsx","components/Pdfs/DefaultPDFTemplate.tsx","views/Pdfs/Memberlist.tsx","Root.tsx","Store.ts","serviceWorker.js","index.tsx","components/Loading.tsx","components/Action.tsx","components/Table.tsx","components/DataList.tsx","components/WizardStep.tsx","components/MemberSelect.tsx","components/Checkbox.tsx","views/AddBillingReportSteps/AddBillingReportStep2.tsx","actions/DataActions.ts"],"names":["AuthRoles","__webpack_require__","d","__webpack_exports__","Column","props","_this","Object","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","className","indexOf","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","children","Component","Panel","header","actions","title","map","el","length","concat","scrollable","UIActions","NAVIBAR_TOGGLE","NAVIBAR_OPEN","NAVIBAR_CLOSE","NAVIBAR_LEVEL_OPEN","NAVIBAR_LEVEL_COLLAPSE","NOTIFICATION_SUCCESS","NOTIFICATION_ERROR","UI","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","type","id","payload","message","Swipe","classCallCheck","possibleConstructorReturn","getPrototypeOf","scrolling","minThreshold","maxThreshold","minDurationThreshold","maxDurationThreshold","onStart","bind","assertThisInitialized","onMove","onEnd","onScroll","state","capturing","start","x","y","event","clientX","mouseMove","touches","clientY","setState","startTime","Date","current","undefined","end","fireRunningEvents","calculateDirection","changedTouches","endTime","fireFinishEvents","getTime","_this2","scrollTimeout","clearTimeout","setTimeout","Math","abs","direction","duration","swipedUp","swipedRight","swipedDown","swipedLeft","swipingUp","swipingRight","swipingDown","swipingLeft","react_default","onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onMouseMove","onMouseUp","_Header","_Component","apply","arguments","inherits","createClass","open","user","displayName","onClick","index_es","icon","Header","connect","ui","navibar_open","data","dispatch","toggleNavibar","_NavibarElement","level","onClose","CurrentDevice","mobile","to","content","match","href","NavLink","exact","activeClassName","leftIcon","rightIcon","renderLinkElement","text","NavibarElement","withRouter","collapseNavibarLevel","_NavibarLevelHeader","open_level","onOpen","openClass","toString","Children","child","cloneElement","NavibarLevelHeader","navibar_level","openNavibarLevel","_Navibar","element","roles","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","role","includes","ADMIN","err","return","renderElement","AUTHENTICATED","MEMBERS_READ","DRAFT_READ","DRAFT_CREATE","ORDERS_READ","BILLINGREPORTS_CREATE","BILLINGREPORTS_READ","COMPENSATIONS_CREATE","COMPENSATIONS_READ","Config","apiEndpoint","Navibar","pure","_Page","openNavibar","closeNavibar","Swipe_Swipe","Page","Row","_AddBillingReport","onNext","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","save","setImmediate","fetchOpenOrders","fetchMembers","els","drivers","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","i","compensationEntries","vks","member","orderId","order","date","food","remarks","creatorId","history","push","loading","react__WEBPACK_IMPORTED_MODULE_7___default","_components_Page__WEBPACK_IMPORTED_MODULE_8__","_components_Loading__WEBPACK_IMPORTED_MODULE_19__","_components_Row__WEBPACK_IMPORTED_MODULE_9__","_components_Column__WEBPACK_IMPORTED_MODULE_10__","_components_Panel__WEBPACK_IMPORTED_MODULE_11__","react_step_wizard__WEBPACK_IMPORTED_MODULE_6___default","nav","_components_WizardNav__WEBPACK_IMPORTED_MODULE_14__","_AddBillingReportSteps_AddBillingReportStep1__WEBPACK_IMPORTED_MODULE_15__","openOrders","_AddBillingReportSteps_AddBillingReportStep2__WEBPACK_IMPORTED_MODULE_16__","_AddBillingReportSteps_AddBillingReportStep3__WEBPACK_IMPORTED_MODULE_17__","_AddBillingReportSteps_AddBillingReportStep4__WEBPACK_IMPORTED_MODULE_18__","firstname","lastname","driver","AddBillingReport","members","ids","keys","Data","addBillingReport","WizardNav","steps","totalSteps","classes","currentStep","renderSteps","AddBillingReportStep1","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","onInputChange","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","validate","options","byId","contact","documentNr","target","name","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","formEl","valid","checkValidity","parseInt","_components_WizardStep__WEBPACK_IMPORTED_MODULE_8__","assign","onNextStep","ref","form","onChange","required","renderOptions","AddBillingReportStep3","onELChange","onSelectChange","onDriversChange","checked","stateName","opt","elSelect","driversSelect","_this3","_components_MemberSelect__WEBPACK_IMPORTED_MODULE_10__","select","isMulti","_components_Checkbox__WEBPACK_IMPORTED_MODULE_9__","label","AddBillingReportStep4","_components_WizardStep__WEBPACK_IMPORTED_MODULE_6__","toLocaleDateString","_components_Table__WEBPACK_IMPORTED_MODULE_7__","columns","format","defaultSort","join","htmlFor","isMode","mode","process","toLowerCase","library","add","fab","faFilePdf","faExternalLinkAlt","faFileExcel","faPowerOff","faTrash","faSave","faAddressBook","faMapMarkerAlt","faDownload","faClipboard","faBars","faTachometerAlt","faUsers","faCircleNotch","faTimes","faCheck","faSortUp","faSortDown","faPencilAlt","faFileAlt","faEye","faFileSignature","faPlus","faList","faDollarSign","faUser","faAngleDown","faAngleUp","faMailBulk","combineReducers","action","notification","toast","success","autoClose","position","error","collectionPoints","sort","DataActions","FETCH_COLLECTION_POINTS","GOT_COLLECTION_POINTS","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","entry","FETCH_USER","GOT_USER","users","FETCH_USERS","GOT_USERS","contacts","FETCH_CONTACTS","GOT_CONTACTS","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","FETCH_MEMBERS","GOT_MEMBERS","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","ranks","FETCH_RANKS","GOT_RANKS","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","rank","orders","FETCH_ORDERS","GOT_ORDERS","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","FETCH_OPEN_ORDERS","GOT_OPEN_ORDERS","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","billingReports","FETCH_BILLING_REPORTS","GOT_BILLING_REPORTS","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","report","APPROVE_BILLING_REPORT","status","FETCH_COMPENSATION_ENTRIES","GOT_COMPENSATION_ENTRIES","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","hasOwnProperty","billingReport","description","APPROVE_COMPENSATION_ENTRY","mailingLists","all","squad","vst","con","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","mail","mailSecond","contactGroups","find","group","bexioId","UIReducer","DataReducer","Error403","_SecureRoute","Route","path","component","showError","Redirect","pathname","prevLocation","location","SecureRoute","_Dashboard","fetchUser","shortcuts","Link","bexioContact","Loading","renderShortcuts","Dashboard","_Members","excelExport","membersAsArray","germanizedMember","Vorname","Nachname","Rang","Funktionen","functions","Geburtstag","birthday","Adresse","address","postcode","city","Abholpunkt","E-Mail","E-Mail 2","Festnetz","phoneFixed","Mobile","phoneMobile","collectionPoint","sheet","Xlsx","utils","json_to_sheet","book","book_new","book_append_sheet","writeFile","DataList","pdfExport","panelActions","Action","Members","viewLocation","tableColumns","sortable","searchable","link","linkPrefix","fetchData","FormEntry","editable","Checkbox","readOnly","getUTCFullYear","getUTCMonth","slice","getUTCDate","renderChildren","Base","CollectionPoint","_CollectionPointSelect","defaultValue","Array","valueProps","nextProps","fetchCollectionPoints","ops","o","react_select_esm","isClearable","prepareOptions","backspaceRemovesValue","hideSelectedOptions","openMenuOnFocus","prepareValue","CollectionPointSelect","_Contact","groups","loadContacts","loadCompensations","compensationView","onSave","onAbort","renderCollectionPoint","renderPanelActions","entryDate","exitDate","bankName","iban","accountHolder","compensations","openCompensationsSum","compensationsLoaded","defineProperty","Axios","get","withCredentials","deepParser","rec","paied","parseFloat","amount","currentTarget","parentNode","parentElement","getAttribute","button","window","document","origin","editMember","collectionPointId","opts","multi","Table","prefix","Button_default","variant","react_fontawesome_index_es","FormEntry_FormEntry","phoneFixedSecond","renderPanelCompensations","Contact","params","fetchContacts","Orders","fetchOrders","_Order","loadOrders","positionsRendered","positions","pos","dangerouslySetInnerHTML","__html","positionTotal","execDates","deliveryAddress","renderPositions","total","Order","BillingReports","creator","fetchBillingReports","Modal","handleClose","onHide","es_Modal","show","dialogClassName","closeButton","Body","body","Footer","footer","_Compensations","deleteCompensation","deleteCompensationConfirmed","showModal","hideModal","modalShow","toDeleteCompensation","delete","Modal_Modal","ButtonGroup","es_Button","rowActions","renderModal","Compensations","fetchCompensationEntries","deleteCompensationEntry","_Login","loaded","_componentDidMount","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","stop","showSuccess","console","log","fullscreen","errorShown","replace","placeholder","style","marginRight","Login","Users","fetchUsers","_User","renderRolePart","renderBexioPart","User","_OrderSelect","OrderSelect","_BillingReport","approve","decline","elementView","onInformationEdit","onInformationSave","getCompensationActions","addCompensations","informationEdit","edit","dateValue","compensation","addCompensationEntries","billingReportId","entries","BILLINGREPORTS_APPROVE","MemberSelect","statusBadgeClass","BILLINGREPORTS_EDIT","renderOrder","toISOString","split","renderEls","renderDrivers","AddBillingReportStep2","onPrevious","renderCompensationDeletionModal","renderCompensationsAddModal","renderInformations","renderActions","prepareCompensationsForTable","BillingReport","approveBillingReport","declineBillingReport","editBillingReport","then","addCompensationEntriesForBillingReport","_AddCompensation","preventDefault","prepareMembers","step","AddCompensation","addCompensationEntry","Compensation","approved","valutaDate","payout","Error404","src","_Compensation","renderBillingReport","fetchCompensations","react","CompensationEntity","isOrderBased","from","toLocaleTimeString","until","charge","compensationIds","_404_Error404","isCustom","approveCompensationEntry","_MailingLists","MailingLists","CollectionPoints","_AddCollectionPoint","minLength","maxLength","AddCollectionPoint","addCollectionPoint","DefaultPDFTemplate","height","pageNum","totalPages","_Memberlist","_this4","dataById","main","author","producer","paperSize","repeatHeaders","landscape","fileName","scale","margin","pageTemplate","DefaultPDFTemplate_DefaultPDFTemplate","searchString","Memberlist","Root","loadConfig","store","createStore","IndexReducer","applyMiddleware","thunkMiddleware","getState","es","lib","hideProgressBar","newestOnTop","closeOnClick","rtl","draggable","pauseOnHover","BrowserRouter","Switch","DRAFT_EDIT","CONTACTS_READ","Boolean","hostname","ReactDOM","render","Root_Root","getElementById","navigator","serviceWorker","ready","registration","unregister","react__WEBPACK_IMPORTED_MODULE_6___default","react_router_dom__WEBPACK_IMPORTED_MODULE_8__","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__","sortClick","search","sortKey","sortDirection","searchableKeys","genSearchKeys","table","genSortKeys","prepared","sortValues","b","aValue","bValue","isNaN","sorted","_i","finalKeys","dataKey","dataset","onSort","searchKeys","column","result","record","searchableString","f","k","rows","_loop","dataEntry","row","_loop2","_loop3","random","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","suffix","data-key","sortIndicator","columnKey","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__","scope","cursor","renderRows","textSearch","nextState","onSearch","_Loading__WEBPACK_IMPORTED_MODULE_13__","_components_Table__WEBPACK_IMPORTED_MODULE_11__","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_12__","_Action__WEBPACK_IMPORTED_MODULE_14__","_components_Page__WEBPACK_IMPORTED_MODULE_7__","_components_Row__WEBPACK_IMPORTED_MODULE_8__","_components_Column__WEBPACK_IMPORTED_MODULE_9__","_components_Panel__WEBPACK_IMPORTED_MODULE_10__","renderTable","WizardStep","previousStep","nextStep","renderBackButton","onPreviousStep","nextButtonText","nextButtonClasses","_MemberSelect","react_select__WEBPACK_IMPORTED_MODULE_7__","onAdd","removeTableItem","tableEntries","selection","totalHours","optlet","_components_WizardStep__WEBPACK_IMPORTED_MODULE_9__","_components_Table__WEBPACK_IMPORTED_MODULE_8__","EDIT_MEMBER","ADD_BILLING_REPORT","DECLINE_BILLING_REPORT","EDIT_BILLING_REPORT","ADD_COMPENSATION_ENTRIES","ADD_COMPENSATION_ENTRY","DECLINE_COMPENSATION_ENTRY","ADD_COLLECTION_POINT","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","fetchFromApi","_ref","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","sendToApi","_x","_ref2","_callee2","_context2","abrupt","Promise","resolve","reject","axios","put","response","catch","_x2","_ref3","_callee3","_context3","_x3","_ref4","_callee4","_context4","_x4","_ref5","_callee5","_context5","_x5","_ref6","_callee6","_context6","_x6","_ref7","_callee7","_context7","_x7","_ref8","_callee8","_context8","_x8","_ref9","_callee9","_context9","_x9","_ref10","_callee10","_context10","_x10","route","fetchAction","gotAction","_ref11","_callee11","_context11","_x11","method","callback","url","test"],"mappings":"yFAAO,IAAKA,EAAZC,EAAAC,EAAAC,EAAA,sBAAAH,aAAYA,w1BCESI,cAGjB,SAAAA,EAAYC,GAA+B,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACvCE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAHFQ,UAAY,MAKZP,EAAKD,MAAMQ,WAAaP,EAAKD,MAAMQ,UAAUC,QAAQ,QAAU,EAC/DR,EAAKO,UAAYP,EAAKD,MAAMQ,UACrBP,EAAKD,MAAMQ,YAClBP,EAAKO,WAAa,IAAMP,EAAKD,MAAMQ,WANAP,wEAWvC,OACIS,EAAAC,EAAAC,cAAA,OAAKJ,UAAWJ,KAAKI,WAChBJ,KAAKJ,MAAMa,iBAhBQC,2KCAfC,mLAEb,IAAIC,EACAC,EAAUb,KAAKJ,MAAMiB,SAAW,GAgBpC,OAdIb,KAAKJ,MAAMkB,MACXF,EAASN,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,gBAAeE,EAAAC,EAAAC,cAAA,QAAMJ,UAAU,eAAeJ,KAAKJ,MAAMkB,OAC7ER,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,iBACVS,EAAQE,IAAI,SAAAC,GAAE,OAAIA,MAGpBhB,KAAKJ,MAAMiB,SAAWb,KAAKJ,MAAMiB,QAAQI,OAAS,IACzDL,EAASN,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,gBACpBE,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,iBACVS,EAAQE,IAAI,SAAAC,GAAE,OAAIA,OAM3BV,EAAAC,EAAAC,cAAA,OAAKJ,UAAW,UAAYJ,KAAKJ,MAAMQ,WAAa,KAC/CQ,EACDN,EAAAC,EAAAC,cAAA,OAAKJ,UAAS,cAAAc,OAAiBlB,KAAKJ,MAAMuB,WAAc,wBAA0B,KAC7EnB,KAAKJ,MAAMa,kBAvBGC,gICAtBU,EAAY,CACrBC,eAAgB,iBAChBC,aAAc,eACdC,cAAe,gBACfC,mBAAoB,qBACpBC,uBAAwB,yBAExBC,qBAAsB,uBACtBC,mBAAoB,sBAGXC,EAAb,oBAAAA,IAAA9B,OAAAC,EAAA,EAAAD,CAAAE,KAAA4B,GAAA,OAAA9B,OAAA+B,EAAA,EAAA/B,CAAA8B,EAAA,OAAAE,IAAA,gBAAAC,MAAA,WAEQ,MAAO,CACHC,KAAMZ,EAAUC,kBAH5B,CAAAS,IAAA,cAAAC,MAAA,WAQQ,MAAO,CACHC,KAAMZ,EAAUE,gBAT5B,CAAAQ,IAAA,eAAAC,MAAA,WAcQ,MAAO,CACHC,KAAMZ,EAAUG,iBAf5B,CAAAO,IAAA,mBAAAC,MAAA,SAmBmCE,GAC3B,MAAO,CACHD,KAAMZ,EAAUI,mBAChBU,QAASD,KAtBrB,CAAAH,IAAA,uBAAAC,MAAA,WA2BQ,MAAO,CACHC,KAAMZ,EAAUK,0BA5B5B,CAAAK,IAAA,YAAAC,MAAA,SAgC4BI,GACpB,MAAO,CACHH,KAAMZ,EAAUO,mBAChBO,QAASC,KAnCrB,CAAAL,IAAA,cAAAC,MAAA,SAuC8BI,GACtB,MAAO,CACHH,KAAMZ,EAAUM,qBAChBQ,QAASC,OA1CrBP,EAAA,iHCmBqBQ,cAQjB,SAAAA,EAAYxC,GAAmB,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAoC,IAC3BvC,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAsC,GAAAjC,KAAAH,KAAMJ,KARF4C,WAAqB,EAUzB3C,EAAK4C,aAAe7C,EAAM6C,cAAgB,GAC1C5C,EAAK6C,aAAe9C,EAAM8C,cAAgB,IAC1C7C,EAAK8C,qBAAuB/C,EAAM+C,sBAAwB,EAC1D9C,EAAK+C,qBAAuBhD,EAAMgD,sBAAwB,IAE1D/C,EAAKgD,QAAUhD,EAAKgD,QAAQC,KAAbhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACfA,EAAKmD,OAASnD,EAAKmD,OAAOF,KAAZhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACdA,EAAKoD,MAAQpD,EAAKoD,MAAMH,KAAXhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACbA,EAAKqD,SAAWrD,EAAKqD,SAASJ,KAAdhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAEhBA,EAAKsD,MAAQ,CACTC,WAAW,EACXC,MAAO,CAAEC,GAAI,EAAGC,GAAI,IAfG1D,uEAmBf2D,GACZ,IAAKxD,KAAKwC,YAAegB,EAAMC,SAAWzD,KAAKJ,MAAM8D,WAAcF,EAAMG,SAAU,CAC/E,IAAIL,EAAI,EAAGC,EAAI,EACXC,EAAMC,SACNH,EAAIE,EAAMC,QACVF,EAAIC,EAAMI,SACHJ,EAAMG,UACbL,EAAIE,EAAMG,QAAQ,GAAGF,QACrBF,EAAIC,EAAMG,QAAQ,GAAGC,SAGzB5D,KAAK6D,SAAS,CACVT,WAAW,EACXC,MAAO,CAAEC,EAAGA,EAAGC,EAAGA,GAClBO,UAAW,IAAIC,KACfC,aAASC,EACTC,SAAKD,oCAKFT,GACX,GAAIxD,KAAKmD,MAAMC,UAAW,CACtB,IAAIE,EAAI,EAAGC,EAAI,EACXC,EAAMC,SACNH,EAAIE,EAAMC,QACVF,EAAIC,EAAMI,SACHJ,EAAMG,UACbL,EAAIE,EAAMG,QAAQ,GAAGF,QACrBF,EAAIC,EAAMG,QAAQ,GAAGC,SAGzB5D,KAAK6D,SAAS,CACVG,QAAS,CAAEV,EAAGA,EAAGC,EAAGA,KAGxBvD,KAAKmE,kBAAkBnE,KAAKoE,mBAAmBpE,KAAKmD,MAAME,MAAO,CAAEC,EAAGA,EAAGC,EAAGA,IAAMC,kCAI5EA,GACV,GAAIxD,KAAKmD,MAAMC,WAAapD,KAAKmD,MAAME,OAASrD,KAAKmD,MAAMW,UAAW,CAClE,IAAIR,EAAI,EAAGC,EAAI,EACXC,EAAMC,SACNH,EAAIE,EAAMC,QACVF,EAAIC,EAAMI,SACHJ,EAAMG,UACbL,EAAIE,EAAMa,eAAe,GAAGZ,QAC5BF,EAAIC,EAAMa,eAAe,GAAGT,SAGhC5D,KAAK6D,SAAS,CACVT,WAAW,EACXc,IAAK,CAAEZ,EAAGA,EAAGC,EAAGA,GAChBe,QAAS,IAAIP,OAGjB/D,KAAKuE,iBAAiBvE,KAAKoE,mBAAmBpE,KAAKmD,MAAME,MAAO,CAAEC,EAAGA,EAAGC,EAAGA,KAAM,IAAIQ,MAAOS,UAAYxE,KAAKmD,MAAMW,UAAUU,UAAWhB,qCAI/HA,GAA6B,IAAAiB,EAAAzE,KAC1CA,KAAKwC,WAAY,EACbxC,KAAK0E,eACLC,aAAa3E,KAAK0E,eAGtB1E,KAAK0E,cAAgBE,WAAW,WAAQH,EAAKjC,WAAY,GAAS,gDAG3Ca,EAAoBa,GAC3C,IAAIZ,EAAIuB,KAAKC,IAAIzB,EAAMC,EAAIY,EAAIZ,GAC3BC,EAAIsB,KAAKC,IAAIzB,EAAME,EAAIW,EAAIX,GAE/B,GAAID,EAAIC,GACJ,GAAID,EAAItD,KAAKyC,cAAgBa,EAAItD,KAAK0C,aAClC,OAAIW,EAAMC,EAAIY,EAAIZ,EACP,OAEJ,aAGX,GAAIC,EAAIvD,KAAKyC,cAAgBc,EAAIvD,KAAK0C,aAClC,OAAIW,EAAME,EAAIW,EAAIX,EACP,KAEJ,OAIf,MAAO,4CAGcwB,EAAmBC,EAAkBxB,GAC1D,GAAIwB,EAAWhF,KAAK2C,sBAAwBqC,EAAWhF,KAAK4C,qBACxD,OAAQmC,GACJ,IAAK,KACG/E,KAAKJ,MAAMqF,UAAUjF,KAAKJ,MAAMqF,SAASzB,GAC7C,MACJ,IAAK,QACGxD,KAAKJ,MAAMsF,aAAalF,KAAKJ,MAAMsF,YAAY1B,GACnD,MACJ,IAAK,OACGxD,KAAKJ,MAAMuF,YAAYnF,KAAKJ,MAAMuF,WAAW3B,GACjD,MACJ,IAAK,OACGxD,KAAKJ,MAAMwF,YAAYpF,KAAKJ,MAAMwF,WAAW5B,8CAMvCuB,EAAmBvB,GACzC,OAAQuB,GACJ,IAAK,KACG/E,KAAKJ,MAAMyF,WAAWrF,KAAKJ,MAAMyF,UAAU7B,GAC/C,MACJ,IAAK,QACGxD,KAAKJ,MAAM0F,cAActF,KAAKJ,MAAM0F,aAAa9B,GACrD,MACJ,IAAK,OACGxD,KAAKJ,MAAM2F,aAAavF,KAAKJ,MAAM2F,YAAY/B,GACnD,MACJ,IAAK,OACGxD,KAAKJ,MAAM4F,aAAaxF,KAAKJ,MAAM4F,YAAYhC,qCAM3D,OACIiC,EAAAlF,EAAAC,cAAA,OACI0C,SAAUlD,KAAKkD,SACfwC,aAAc1F,KAAK6C,QACnB8C,YAAa3F,KAAKgD,OAClB4C,WAAY5F,KAAKiD,MACjB4C,YAAa7F,KAAK6C,QAClBiD,YAAa9F,KAAKgD,OAClB+C,UAAW/F,KAAKiD,MAChB7C,UAAWJ,KAAKJ,MAAMQ,WAErBJ,KAAKJ,MAAMa,iBAxKOC,qBCtBtBsF,EAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAlG,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAgG,GAAAlG,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAkG,GAAAE,MAAAlG,KAAAmG,YAAA,OAAArG,OAAAsG,EAAA,EAAAtG,CAAAkG,EAAAC,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAAkG,EAAA,EAAAlE,IAAA,SAAAC,MAAA,WAEQ,IAAI3B,EAAY,eAKhB,OAJKJ,KAAKJ,MAAM0G,OACZlG,EAAY,qBAGZJ,KAAKJ,MAAM2G,KAEPd,EAAAlF,EAAAC,cAAA,OAAKyB,GAAG,UACJwD,EAAAlF,EAAAC,cAAA,OAAKyB,GAAG,eAAe7B,UAAWA,GAC9BqF,EAAAlF,EAAAC,cAAA,OAAKyB,GAAG,QACHjC,KAAKJ,MAAM2G,KAAKC,cAGzBf,EAAAlF,EAAAC,cAAA,OAAKyB,GAAG,cAAcwE,QAASzG,KAAKJ,MAAM6G,SACtChB,EAAAlF,EAAAC,cAAA,YACIiF,EAAAlF,EAAAC,cAACkG,EAAA,EAAD,CAAiBC,KAAK,YAQtClB,EAAAlF,EAAAC,cAAA,gBAzBZwF,EAAA,CAA6BtF,aA8ChBkG,EAASC,YAhBE,SAAC1D,GACrB,MAAO,CACHmD,KAAMnD,EAAM2D,GAAGC,aACfR,KAAMpD,EAAM6D,KAAKT,KAAKS,OAIH,SAACC,GACxB,MAAO,CACHR,QAAS,WACLQ,EAASrF,IAAGsF,oBAMFL,CAA6Cb,6BChCtDmB,EAAb,SAAAlB,GAGI,SAAAkB,EAAYvH,GAA4B,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAmH,IACpCtH,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAqH,GAAAhH,KAAAH,KAAMJ,KAEDmG,UAAYlG,EAAKkG,UAAUjD,KAAfhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACjBA,EAAKuH,MAAQvH,EAAKD,MAAMwH,OAAS,EAJGvH,EAH5C,OAAAC,OAAAsG,EAAA,EAAAtG,CAAAqH,EAAAlB,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAAqH,EAAA,EAAArF,IAAA,YAAAC,MAAA,SAUsByB,GACK,IAAfxD,KAAKoH,OAAepH,KAAKJ,MAAMyH,SAASrH,KAAKJ,MAAMyH,UACnDrH,KAAKJ,MAAMmG,WAAW/F,KAAKJ,MAAMmG,UAAUvC,GAC3C8D,IAAcC,UAAYvH,KAAKJ,MAAMsH,eAAiBlH,KAAKJ,MAAM4H,IAAIxH,KAAKJ,MAAMsH,kBAb5F,CAAApF,IAAA,oBAAAC,MAAA,SAgB8ByF,EAAYC,EAA6B1B,GAC/D,OAAIyB,EAAGE,MAAM,sBAELjC,EAAAlF,EAAAC,cAAA,KAAGmH,KAAMH,EAAIpH,UAAU,kBAAkB2F,UAAWA,GAC/C0B,GAKLhC,EAAAlF,EAAAC,cAACoH,EAAA,EAAD,CAASC,OAAK,EAACL,GAAIA,EAAIpH,UAAU,kBAAkB0H,gBAAgB,yBAAyB/B,UAAWA,GAClG0B,KA1BrB,CAAA3F,IAAA,SAAAC,MAAA,WAiCQ,IAAIgG,EACAC,EAAyBvC,EAAAlF,EAAAC,cAAA,UAK7B,OAHIR,KAAKJ,MAAMmI,WAAUA,EAAWtC,EAAAlF,EAAAC,cAACkG,EAAA,EAAD,CAAiBC,KAAM3G,KAAKJ,MAAMmI,SAAU3H,UAAU,0BACtFJ,KAAKJ,MAAMoI,YAAWA,EAAYvC,EAAAlF,EAAAC,cAACkG,EAAA,EAAD,CAAiBC,KAAM3G,KAAKJ,MAAMoI,UAAW5H,UAAU,iEAEzFJ,KAAKJ,MAAM4H,GACJxH,KAAKiI,kBAAkBjI,KAAKJ,MAAM4H,GAAI,CACzC/B,EAAAlF,EAAAC,cAAA,UACKuH,EACDtC,EAAAlF,EAAAC,cAAA,KAAGJ,UAAU,wBAAwBJ,KAAKJ,MAAMsI,MAC/CF,IAENhI,KAAK+F,WAGJN,EAAAlF,EAAAC,cAAA,MAAIJ,UAAU,kBAAkB2F,UAAW/F,KAAK+F,WAC3CgC,EACDtC,EAAAlF,EAAAC,cAAA,KAAGJ,UAAU,wBAAwBJ,KAAKJ,MAAMsI,MAC/CF,OApDrBb,EAAA,CAAqCzG,aA8ExByH,EAAiBC,YAAWvB,YAlBjB,SAAC1D,GACrB,MAAO,CACH4D,aAAc5D,EAAM2D,GAAGC,eAIJ,SAACE,GACxB,MAAO,CACHI,QAAS,WACLJ,EAASrF,IAAGyG,yBAEhBnB,cAAe,WACXD,EAASrF,IAAGsF,oBAMiBL,CAA6CM,ICnFjEmB,cAEjB,SAAAA,EAAY1I,GAAgC,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAsI,IACxCzI,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAwI,GAAAnI,KAAAH,KAAMJ,KACD6G,QAAU5G,EAAK4G,QAAQ3D,KAAbhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAFyBA,uEAK5B2D,GACRxD,KAAKJ,MAAM2I,aAAevI,KAAKJ,MAAMqC,GACrCjC,KAAKJ,MAAMyH,UAEXrH,KAAKJ,MAAM4I,OAAOxI,KAAKJ,MAAMqC,qCAIrB,IAAAwC,EAAAzE,KACRyI,EAAY,GACZT,EAAsB,WAO1B,OALIhI,KAAKJ,MAAMqC,KAAOjC,KAAKJ,MAAM2I,aAC7BE,EAAY,mBACZT,EAAY,cAIZvC,EAAAlF,EAAAC,cAAA,WACIiF,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBJ,SAAU/H,KAAKJ,MAAMmI,SAAUC,UAAWA,EAAWE,KAAMlI,KAAKJ,MAAMsI,KAAMnC,UAAW/F,KAAKyG,UAC5GhB,EAAAlF,EAAAC,cAAA,OAAKsB,IAAK,kBAAoB9B,KAAKJ,MAAMqC,GAAI7B,UAAW,yBAAgCJ,KAAKJ,MAAMwH,MAAMsB,WAAaD,GAE9GE,WAAS5H,IAAIf,KAAKJ,MAAMa,SAAU,SAAAmI,GAC9B,OAAOC,uBAAaD,EAA4B,CAAExB,MAAO3C,EAAK7E,MAAMwH,mBA9B/C1G,aA0DpCoI,EAAqBjC,YAnBV,SAAC1D,GACrB,MAAO,CACHoF,WAAYpF,EAAM2D,GAAGiC,gBAIF,SAAC9B,GACxB,MAAO,CACHuB,OAAQ,SAACvG,GACLgF,EAASrF,IAAGoH,iBAAiB/G,KAEjCoF,QAAS,WACLJ,EAASrF,IAAGyG,2BAOUxB,CAA6CyB,mBCpElEW,EAAb,SAAAhD,GAAA,SAAAgD,IAAA,OAAAnJ,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAiJ,GAAAnJ,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAmJ,GAAA/C,MAAAlG,KAAAmG,YAAA,OAAArG,OAAAsG,EAAA,EAAAtG,CAAAmJ,EAAAhD,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAAmJ,EAAA,EAAAnH,IAAA,gBAAAC,MAAA,SACyBmH,EAAsBC,GACvC,IAAIA,EAOA,OAAOD,EAPA,IAAAE,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IACP,QAAAsF,EAAAC,EAAiBL,EAAjBM,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAwB,KAAfS,EAAeN,EAAAxH,MACpB,GAAI/B,KAAKJ,MAAM2G,OAASvG,KAAKJ,MAAM2G,KAAK4C,MAAMW,SAASD,IAAS7J,KAAKJ,MAAM2G,KAAK4C,MAAMW,SAASvK,IAAUwK,QACrG,OAAOb,GAHR,MAAAc,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,MAFnB,CAAAxH,IAAA,SAAAC,MAAA,WAcQ,IAAI3B,EAAY,eAKhB,OAJKJ,KAAKJ,MAAM0G,OACZlG,EAAY,qBAGZJ,KAAKJ,MAAM2G,KAEPd,EAAAlF,EAAAC,cAAA,OAAKyB,GAAG,UAAU7B,UAAWA,GACzBqF,EAAAlF,EAAAC,cAAA,UACKR,KAAKkK,cAAczE,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBX,GAAG,aAAaU,KAAK,YAAYH,SAAS,mBAAqB,CAACxI,IAAU4K,gBAC7GnK,KAAKkK,cAAczE,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBX,GAAG,WAAWU,KAAK,aAAaH,SAAS,UAAY,CAACxI,IAAU6K,eACnGpK,KAAKkK,cAAczE,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBX,GAAG,iBAAiBU,KAAK,YAAYH,SAAS,cAAgB,CAACxI,IAAU6K,eAC5GpK,KAAKkK,cACFzE,EAAAlF,EAAAC,cAACsI,EAAD,CAAoBZ,KAAK,WAAWH,SAAS,eAAe9F,GAAG,QAAQmF,MAAO,GAC1E3B,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBX,GAAG,2BAA2BO,SAAS,iBAAiBG,KAAK,iBAE/E,CAAC3I,IAAU8K,WAAY9K,IAAU+K,eAEtCtK,KAAKkK,cAAczE,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBX,GAAG,UAAUU,KAAK,cAAWH,SAAS,aAAe,CAACxI,IAAUgL,cACnGvK,KAAKkK,cACFzE,EAAAlF,EAAAC,cAACsI,EAAD,CAAoBZ,KAAK,uBAAuBH,SAAS,iBAAiB9F,GAAG,iBAAiBmF,MAAO,GAChGpH,KAAKkK,cAAczE,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBX,GAAG,uBAAuBO,SAAS,OAAOG,KAAK,cAAgB,CAAC3I,IAAUiL,wBAC9G/E,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBX,GAAG,mBAAmBO,SAAS,OAAOG,KAAK,UAE7D,CAAC3I,IAAUkL,oBAAqBlL,IAAUiL,wBAE/CxK,KAAKkK,cACFzE,EAAAlF,EAAAC,cAACsI,EAAD,CAAoBZ,KAAK,qBAAkBH,SAAS,cAAc9F,GAAG,gBAAgBmF,MAAO,GACvFpH,KAAKkK,cAAczE,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBX,GAAG,qBAAqBO,SAAS,OAAOG,KAAK,cAAgB,CAAC3I,IAAUmL,uBAC5GjF,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBX,GAAG,iBAAiBO,SAAS,OAAOG,KAAK,UAE3D,CAAC3I,IAAUoL,qBAEhB3K,KAAKkK,cAAczE,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBX,GAAG,SAASU,KAAK,WAAWH,SAAS,SAAW,CAACxI,IAAUwK,QAC/FtE,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBX,GAAG,0CAA0CU,KAAK,aAAaH,SAAS,sBACxFtC,EAAAlF,EAAAC,cAAC2H,EAAD,CAAgBX,GAAE,GAAAtG,OAAK0J,IAAOC,YAAZ,eAAsC3C,KAAK,WAAWH,SAAS,gBAO7FtC,EAAAlF,EAAAC,cAAA,gBAxDZyI,EAAA,CAA8BvI,aAoEjBoK,EAAUjE,YAPC,SAAC1D,GACrB,MAAO,CACHmD,KAAMnD,EAAM2D,GAAGC,aACfR,KAAMpD,EAAM6D,KAAKT,KAAKS,OAIkB,GAAI,KAAM,CAAE+D,MAAM,GAA3ClE,CAAoDoC,mCC7DpE,IAAM+B,EAAb,SAAA/E,GACI,SAAA+E,EAAYpL,GAAkB,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAgL,IAC1BnL,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAkL,GAAA7K,KAAAH,KAAMJ,KAEDsF,YAAcrF,EAAKqF,YAAYpC,KAAjBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACnBA,EAAKuF,WAAavF,EAAKuF,WAAWtC,KAAhBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAJQA,EADlC,OAAAC,OAAAsG,EAAA,EAAAtG,CAAAkL,EAAA/E,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAAkL,EAAA,EAAAlJ,IAAA,cAAAC,MAAA,WASY/B,KAAKJ,MAAMqL,aAAajL,KAAKJ,MAAMqL,gBAT/C,CAAAnJ,IAAA,aAAAC,MAAA,WAaY/B,KAAKJ,MAAMsL,cAAclL,KAAKJ,MAAMsL,iBAbhD,CAAApJ,IAAA,SAAAC,MAAA,WAiBQ,IAAI3B,EAAY,eAKhB,OAJKJ,KAAKJ,MAAM0G,OACZlG,EAAY,qBAIZqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,QACXqF,EAAAlF,EAAAC,cAACoG,EAAD,MACAnB,EAAAlF,EAAAC,cAACsK,EAAD,MACArF,EAAAlF,EAAAC,cAAC2K,EAAD,CAAO/K,UAAWA,EAAY,WAAYsD,WAAW,EAAMwB,YAAalF,KAAKkF,YAAaE,WAAYpF,KAAKoF,YACvGK,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,eACXqF,EAAAlF,EAAAC,cAAA,MAAIJ,UAAU,cAAcJ,KAAKJ,MAAMkB,QAE3C2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,gCACVJ,KAAKJ,MAAMa,gBA/BpCuK,EAAA,CAA2BtK,aAwDd0K,EAAOvE,YAjBI,SAAC1D,GACrB,MAAO,CACHmD,KAAMnD,EAAM2D,GAAGC,eAII,SAACE,GACxB,MAAO,CACHiE,aAAc,WACVjE,EAASrF,IAAGsJ,iBAEhBD,YAAa,WACThE,EAASrF,IAAGqJ,kBAKJpE,CAA6CmE,2HCtE5CK,mLAEb,OACI/K,EAAAC,EAAAC,cAAA,OAAKJ,UAAW,OAASJ,KAAKJ,MAAMQ,WAC/BJ,KAAKJ,MAAMa,iBAJKC,8QC8CpB4K,EAAb,SAAArF,GACI,SAAAqF,EAAY1L,GAA8B,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsL,IACtCzL,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwL,GAAAnL,KAAAH,KAAMJ,KAED2L,OAAS1L,EAAK0L,OAAOzI,KAAZhD,OAAA0L,EAAA,EAAA1L,QAAA0L,EAAA,EAAA1L,CAAAD,KACdA,EAAK4L,KAAO5L,EAAK4L,KAAK3I,KAAVhD,OAAA0L,EAAA,EAAA1L,QAAA0L,EAAA,EAAA1L,CAAAD,KAEZ6L,EAAa,WACT7L,EAAKD,MAAM+L,kBACX9L,EAAKD,MAAMgM,iBAKf/L,EAAKsD,MAAQ,CAAE0I,IAAK,GAAIC,QAAS,IAbKjM,EAD9C,OAAAC,OAAAiM,EAAA,EAAAjM,CAAAwL,EAAArF,GAAAnG,OAAA+B,EAAA,EAAA/B,CAAAwL,EAAA,EAAAxJ,IAAA,SAAAC,MAAA,SAiBmBiF,GACX,IAAI7D,EAA+BnD,KAAKmD,MACxC,IAAK,IAAI6I,KAAKhF,EACV7D,EAAM6I,GAAKhF,EAAKgF,GAEpBhM,KAAK6D,SAASV,KAtBtB,CAAArB,IAAA,OAAAC,MAAA,WA0BQ,IAAIkK,EAA6E,GAEjF,IAAK,IAAID,KAAKhM,KAAKmD,MAAM+I,IAErBD,EAAoBD,GAAKhM,KAAKmD,MAAM+I,IAAIF,GACxCC,EAAoBD,GAAGG,OAASnM,KAAKmD,MAAM+I,IAAIF,GAAGG,OAAOlK,GAgB7D,OAbAjC,KAAKJ,MAAM6L,KAAK,CACZW,QAASpM,KAAKmD,MAAMkJ,MAAMpK,GAC1BqK,KAAMtM,KAAKmD,MAAMmJ,KACjBL,oBAAqBjM,KAAKmD,MAAM+I,IAChCL,IAAK7L,KAAKmD,MAAM0I,IAChBC,QAAS9L,KAAKmD,MAAM2I,QACpBS,KAAMvM,KAAKmD,MAAMoJ,KACjBC,QAASxM,KAAKmD,MAAMqJ,QACpBC,UAAWzM,KAAKJ,MAAM2G,KAAKtE,KAG/BjC,KAAKJ,MAAM8M,QAAQC,KAAK,qBAEjB,IA/Cf,CAAA7K,IAAA,SAAAC,MAAA,WAmDQ,OAAI/B,KAAKJ,MAAMgN,QAEPC,EAAAtM,EAAAC,cAACsM,EAAA,EAAD,CAAMhM,MAAM,gCACR+L,EAAAtM,EAAAC,cAACuM,EAAA,EAAD,OAMRF,EAAAtM,EAAAC,cAACsM,EAAA,EAAD,CAAMhM,MAAM,gCACR+L,EAAAtM,EAAAC,cAACwM,EAAA,EAAD,KACIH,EAAAtM,EAAAC,cAACyM,EAAA,EAAD,CAAQ7M,UAAU,OACdyM,EAAAtM,EAAAC,cAAC0M,EAAA,EAAD,CAAOpM,MAAM,IACT+L,EAAAtM,EAAAC,cAAC2M,EAAA5M,EAAD,CAAY6M,IAAKP,EAAAtM,EAAAC,cAAC6M,EAAA,EAAD,OACbR,EAAAtM,EAAAC,cAAC8M,EAAA,EAAD,CAAuBC,WAAYvN,KAAKJ,MAAM2N,WAAYhC,OAAQvL,KAAKuL,SACvEsB,EAAAtM,EAAAC,cAACgN,EAAA,EAAD,CAAuBjC,OAAQvL,KAAKuL,SACpCsB,EAAAtM,EAAAC,cAACiN,EAAA,EAAD,CAAuBlC,OAAQvL,KAAKuL,SACpCsB,EAAAtM,EAAAC,cAACkN,EAAA,EAAD,CACInC,OAAQvL,KAAKyL,KACbY,MAAOrM,KAAKmD,MAAMkJ,MAClBC,KAAMtM,KAAKmD,MAAMmJ,KACjBJ,IAAKlM,KAAKmD,MAAM+I,IAChBL,IAAK7L,KAAKmD,MAAM0I,IAAI9K,IAAI,SAAAC,GAAE,OAAKA,EAAG2M,UAAY,IAAM3M,EAAG4M,WACvD9B,QAAS9L,KAAKmD,MAAM2I,QAAQ/K,IAAI,SAAA8M,GAAM,OAAIA,EAAOF,UAAY,IAAME,EAAOD,WAC1ErB,KAAMvM,KAAKmD,MAAMoJ,KACjBC,QAASxM,KAAKmD,MAAMqJ,mBA5ExDlB,EAAA,CAAuC5K,aAoH1BoN,EAAmBjH,YA7BR,SAAC1D,GACrB,MAAO,CACHoD,KAAMpD,EAAM6D,KAAKT,KAAKS,KACtBuG,WAAYpK,EAAM6D,KAAKuG,WACvBQ,QAAS5K,EAAM6D,KAAK+G,QACpBnB,QAASzJ,EAAM6D,KAAKuG,WAAWX,SAC3BzJ,EAAM6D,KAAK+G,QAAQnB,SACnBzJ,EAAM6D,KAAKT,KAAKqG,UACfzJ,EAAM6D,KAAKuG,WAAWS,MACtB7K,EAAM6D,KAAK+G,QAAQC,KACpBlO,OAAOmO,KAAK9K,EAAM6D,KAAKT,KAAKS,MAAc/F,OAAS,IAIpC,SAACgG,GACxB,MAAO,CACH0E,gBAAiB,WACb1E,EAASiH,IAAKvC,oBAElBC,aAAc,WACV3E,EAASiH,IAAKtC,iBAElBH,KAAM,SAACzE,GACHC,EAASiH,IAAKC,iBAAiBnH,OAMXH,CAA6CyE,4JCvJxD8C,wLAKb,IAHA,IAAIC,EAAQ,GACRC,EAAatO,KAAKJ,MAAM0O,YAAc,EAEjCtC,EAAI,EAAGA,GAAKsC,EAAYtC,IAAK,CAClC,IAAIuC,EAAU,MACVvC,GAAKhM,KAAKJ,MAAM4O,cAChBD,GAAW,WAEfF,EAAM1B,KAAKrM,EAAAC,EAAAC,cAAA,QAAMsB,IAAKkK,EAAG5L,UAAWmO,GAAzB,WAGf,OAAOF,mCAIP,OACI/N,EAAAC,EAAAC,cAAA,OAAKsB,IAAI,YAAYG,GAAG,YAAY7B,UAAU,iCACzCJ,KAAKyO,sBAnBiB/N,6JCFlBgO,cAGjB,SAAAA,EAAY9O,GAAmB,IAAAC,EAAA,OAAAC,OAAA6O,EAAA,EAAA7O,CAAAE,KAAA0O,IAC3B7O,EAAAC,OAAA8O,EAAA,EAAA9O,CAAAE,KAAAF,OAAA+O,EAAA,EAAA/O,CAAA4O,GAAAvO,KAAAH,KAAMJ,KAEDkP,cAAgBjP,EAAKiP,cAAchM,KAAnBhD,OAAAiP,EAAA,EAAAjP,QAAAiP,EAAA,EAAAjP,CAAAD,KACrBA,EAAKmP,SAAWnP,EAAKmP,SAASlM,KAAdhD,OAAAiP,EAAA,EAAAjP,QAAAiP,EAAA,EAAAjP,CAAAD,KAEhBA,EAAKsD,MAAQ,CACTkJ,MAAO,GACPC,KAAM,IARiBzM,+EAa3B,IAAIoP,EAAU,CAACpC,EAAAtM,EAAAC,cAAA,UAAQsB,IAAI,OAAOC,MAAM,IAAzB,oBADKqH,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IAEpB,QAAAsF,EAAAC,EAAcxJ,KAAKJ,MAAM2N,WAAWS,IAApCvE,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAyC,KAAhC4C,EAAgCzC,EAAAxH,MACjCsK,EAAQrM,KAAKJ,MAAM2N,WAAW2B,KAAKlD,GAElCK,EAAM8C,QAAQxB,UAGfsB,EAAQtC,KAAKE,EAAAtM,EAAAC,cAAA,UAAQsB,IAAKuK,EAAM+C,WAAYrN,MAAOsK,EAAMpK,IAA5C,GAAAf,OAAoDmL,EAAMvL,SAFvEmO,EAAQtC,KAAKE,EAAAtM,EAAAC,cAAA,UAAQsB,IAAKuK,EAAM+C,WAAYrN,MAAOsK,EAAMpK,IAA5C,GAAAf,OAAoDmL,EAAMvL,MAA1D,MAAAI,OAAoEmL,EAAM8C,QAAQvB,SAAlF,QAND,MAAA5D,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,GAYpB,OAAO2F,wCAGWzL,GAClB,IAAM6L,EAAS7L,EAAM6L,OACftN,EAAQsN,EAAOtN,MACfuN,EAAOD,EAAOC,KAGpBtP,KAAK6D,SAAL/D,OAAAyP,EAAA,EAAAzP,CAAA,GACKwP,EAAOvN,uCAKZ,GAAI/B,KAAKwP,OAAQ,CACb,IAAIC,EAAQzP,KAAKwP,OAAOE,gBASxB,OARA1P,KAAKwP,OAAOpP,UAAY,gBAEpBqP,GACAzP,KAAKJ,MAAM2L,OAAO,CACdc,MAAOrM,KAAKJ,MAAM2N,WAAW2B,KAAKS,SAAS3P,KAAKmD,MAAMkJ,QACtDC,KAAM,IAAIvI,KAAK/D,KAAKmD,MAAMmJ,QAG3BmD,EAEX,OAAO,mCAGK,IAAAhL,EAAAzE,KACZ,OACI6M,EAAAtM,EAAAC,cAACoP,EAAA,EAAD9P,OAAA+P,OAAA,CAAY/O,MAAM,UAAUgP,WAAY9P,KAAKgP,UAAchP,KAAKJ,OAC5DiN,EAAAtM,EAAAC,cAAA,QAAMuP,IAAK,SAACC,GAAD,OAA2BvL,EAAK+K,OAASQ,IAChDnD,EAAAtM,EAAAC,cAAA,qBACAqM,EAAAtM,EAAAC,cAAA,UAAQJ,UAAU,eAAekP,KAAK,QAAQrN,GAAG,QAAQgO,SAAUjQ,KAAK8O,cAAe/M,MAAO/B,KAAKmD,MAAMkJ,MAAO6D,UAAU,GACrHlQ,KAAKmQ,iBAEVtD,EAAAtM,EAAAC,cAAA,WACAqM,EAAAtM,EAAAC,cAAA,mBACAqM,EAAAtM,EAAAC,cAAA,SAAOwB,KAAK,OAAOsN,KAAK,OAAOrN,GAAG,OAAO7B,UAAU,eAAe2B,MAAO/B,KAAKmD,MAAMmJ,KAAM2D,SAAUjQ,KAAK8O,cAAeoB,UAAU,aAnEnGxP,6KCG9B0P,cAOjB,SAAAA,EAAYxQ,GAAmC,IAAAC,EAAA,OAAAC,OAAA6O,EAAA,EAAA7O,CAAAE,KAAAoQ,IAC3CvQ,EAAAC,OAAA8O,EAAA,EAAA9O,CAAAE,KAAAF,OAAA+O,EAAA,EAAA/O,CAAAsQ,GAAAjQ,KAAAH,KAAMJ,KAEDkP,cAAgBjP,EAAKiP,cAAchM,KAAnBhD,OAAAiP,EAAA,EAAAjP,QAAAiP,EAAA,EAAAjP,CAAAD,KACrBA,EAAK0L,OAAS1L,EAAK0L,OAAOzI,KAAZhD,OAAAiP,EAAA,EAAAjP,QAAAiP,EAAA,EAAAjP,CAAAD,KACdA,EAAKwQ,WAAaxQ,EAAKyQ,eAAe,OACtCzQ,EAAK0Q,gBAAkB1Q,EAAKyQ,eAAe,WAE3CzQ,EAAKsD,MAAQ,CACT0I,IAAK,GACLC,QAAS,GACTS,MAAM,EACNC,QAAS,IAZ8B3M,6EAgBzB2D,GAClB,IAAM6L,EAAS7L,EAAM6L,OACftN,EAAwB,aAAhBsN,EAAOrN,KAAuBqN,EAA4BmB,QAAUnB,EAAOtN,MACnFE,EAAKoN,EAAOpN,GAElBjC,KAAK6D,SAAL/D,OAAAyP,EAAA,EAAAzP,CAAA,GACKmC,EAAKF,2CAIS0O,GAAmB,IAAAhM,EAAAzE,KACtC,OAAO,SAAC0Q,GACAA,EAEAjM,EAAKZ,SAAL/D,OAAAyP,EAAA,EAAAzP,CAAA,GACK2Q,EAAYC,IAIjBjM,EAAKZ,SAAL/D,OAAAyP,EAAA,EAAAzP,CAAA,GACK2Q,EAAY,uCAOzB,GAAIzQ,KAAK2Q,UAAY3Q,KAAK4Q,cAAe,CACrC,IAAInB,GAAQ,EAIZ,GAHIzP,KAAKmD,MAAM0I,IAAI5K,QAAU,IAAGwO,GAAQ,GACpCzP,KAAKmD,MAAM2I,QAAQ7K,QAAU,IAAGwO,GAAQ,GAExCA,EAEA,OADAzP,KAAKJ,MAAM2L,OAAOvL,KAAKmD,QAChB,EAIf,OAAO,mCAGK,IAAA0N,EAAA7Q,KACZ,OACI6M,EAAAtM,EAAAC,cAACoP,EAAA,EAAD9P,OAAA+P,OAAA,CAAY/O,MAAM,WAAWgP,WAAY9P,KAAKuL,QAAYvL,KAAKJ,OAC3DiN,EAAAtM,EAAAC,cAAA,QAAMuP,IAAK,SAACC,GAAD,OAA2Ba,EAAKrB,OAASQ,GAAM5P,UAAU,iBAChEyM,EAAAtM,EAAAC,cAAA,iBACAqM,EAAAtM,EAAAC,cAACsQ,EAAA,EAAD,CACIf,IAAK,SAACgB,GAAD,OAAiBF,EAAKF,SAAWI,GACtCd,SAAUjQ,KAAKqQ,WACfW,SAAS,IAEbnE,EAAAtM,EAAAC,cAAA,WACAqM,EAAAtM,EAAAC,cAAA,oBACAqM,EAAAtM,EAAAC,cAACsQ,EAAA,EAAD,CACIf,IAAK,SAACgB,GAAD,OAAiBF,EAAKD,cAAgBG,GAC3Cd,SAAUjQ,KAAKuQ,gBACfS,SAAS,IAEbnE,EAAAtM,EAAAC,cAAA,WACAqM,EAAAtM,EAAAC,cAAA,sBACAqM,EAAAtM,EAAAC,cAACyQ,EAAA,EAAD,CAAUhP,GAAG,OAAOuO,QAASxQ,KAAKmD,MAAMoJ,KAAM0D,SAAUjQ,KAAK8O,cAAeoC,MAAM,gBAClFrE,EAAAtM,EAAAC,cAAA,WACAqM,EAAAtM,EAAAC,cAAA,yBACAqM,EAAAtM,EAAAC,cAAA,SAAOJ,UAAU,cAAjB,yDACAyM,EAAAtM,EAAAC,cAAA,YAAUyB,GAAG,UAAUF,MAAO/B,KAAKmD,MAAMqJ,QAASyD,SAAUjQ,KAAK8O,cAAe1O,UAAU,0BAvF3DM,sJCP9ByQ,mLAEb,OACI7Q,EAAAC,EAAAC,cAAC4Q,EAAA,EAADtR,OAAA+P,OAAA,CAAY/O,MAAM,kBAAkBgP,WAAY9P,KAAKJ,MAAM2L,QAAYvL,KAAKJ,OACxEU,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,SAAKR,KAAKJ,MAAMyM,MAASrM,KAAKJ,MAAMyM,MAAMvL,MAAQ,IAElDR,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,SAAKR,KAAKJ,MAAM0M,KAAQtM,KAAKJ,MAAM0M,KAAK+E,qBAAuB,IAE/D/Q,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAC8Q,EAAA,EAAD,CACIC,QAAS,CACL,CAAErJ,KAAM,KAAM+F,KAAM,CAAE9B,OAAU,CAAC,YAAa,cAC9C,CAAEjE,KAAM,MAAO+F,KAAM,CAAC,QAASuD,OAAQ,sBACvC,CAAEtJ,KAAM,MAAO+F,KAAM,CAAC,SAAUuD,OAAQ,sBACxC,CAAEtJ,KAAM,aAAc+F,KAAM,CAAC,WAC7B,CAAE/F,KAAM,iBAAkB+F,KAAM,CAAC,gBAErCwD,YAAa,CAAExD,KAAM,CAAC,QAASlJ,UAAW,OAC1CiC,KAAOhH,KAAKJ,MAAMsM,IAAOlM,KAAKJ,MAAMsM,IAAM,KAG9C5L,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,SAAIR,KAAKJ,MAAMiM,IAAI6F,KAAK,MAExBpR,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,SAAIR,KAAKJ,MAAMkM,QAAQ4F,KAAK,MAE5BpR,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,KAAGJ,UAAU,oBACTE,EAAAC,EAAAC,cAAA,SAAOwB,KAAK,WAAW5B,UAAU,SAAS6B,GAAG,OAAOqN,KAAK,OAAOkB,QAASxQ,KAAKJ,MAAM2M,OACpFjM,EAAAC,EAAAC,cAAA,SAAOmR,QAAQ,QAAf,gBAGJrR,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,SAAKR,KAAKJ,MAAM4M,QAAWxM,KAAKJ,MAAM4M,QAAU,YApCb9L,8JCP9BkK,4GAOTA,EAAOC,YAAc,kEAKzB,OAAOD,EAAOgH,OAAO,kDAIrB,OAAOhH,EAAOgH,OAAO,8CAGHC,GAClB,MAAQC,aAAsCC,gBAAkBF,EAAKE,6FChB7EC,IAAQC,IAAIC,IAAKC,IAAWC,IAAmBC,IAAaC,IAAYC,IAASC,IAAQC,IAAeC,IAAgBC,IAAYC,IAAaC,IAAQC,IAAiBC,IAASC,IAAeC,IAASC,IAASC,IAAUC,IAAYC,IAAaC,IAAWC,IAAOC,IAAiBC,IAAQC,IAAQC,IAAcA,IAAcC,IAAQC,IAAaC,IAAWC,oHCmDvVC,kBAAgB,CAAEjN,aA3CjC,WAAoF,IAA7D5D,EAA6DgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,IAA3CmB,IAAcC,SACnD,QADgFpB,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,GACjEjC,MACX,KAAKZ,IAAUC,eACX,OAAQ8B,EACZ,KAAK/B,IAAUE,aACX,OAAO,EACX,KAAKF,IAAUG,cACX,OAAO,EACX,QACI,OAAO4B,IAkC2C4F,cA9B9D,WAA6D,IAAvC5F,EAAuCgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAAvB,GAAI8N,EAAmB9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EACzD,OAAQgQ,EAAOjS,MACX,KAAKZ,IAAUI,mBACX,OAAOyS,EAAO/R,QAClB,KAAKd,IAAUK,uBACX,MAAO,GACX,QACI,OAAO0B,IAuBwE+Q,aAnB3F,WAAuD,IAAvC/Q,EAAuCgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAA/B,KAAM8N,EAAyB9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EACnD,OAAQgQ,EAAOjS,MACX,KAAKZ,IAAUM,qBAKX,OAJAyS,QAAMC,QAAQH,EAAO/R,QAAS,CAC1BmS,UAAW,IACXC,SAAWhN,IAAcC,SAAW,gBAAkB,cAEnDpE,EACX,KAAK/B,IAAUO,mBAKX,OAJAwS,QAAMI,MAAMN,EAAO/R,QAAS,CACxBmS,UAAW,IACXC,SAAWhN,IAAcC,SAAW,gBAAkB,cAEnDpE,EACX,QACI,OAAOA,aC8RJ6Q,kBAAgB,CAAEQ,iBAtFjC,WAAmM,IAAzKrR,EAAyKgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAApI,CAAEyG,SAAS,EAAOsC,KAAM,GAAIlB,IAAK,GAAIyG,KAAM,CAAExG,KAAM,CAAC,QAASlJ,UAAW,SAAYkP,EAAgD9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EAC3LiL,EAAoC,GACpClB,EAAqB,GACzB,OAAQiG,EAAOjS,MACX,KAAK0S,IAAYC,wBACb,OAAyB,IAArBxR,EAAM6K,IAAI/M,OACHnB,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAExC9M,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAC/C,KAAK8H,IAAYE,sBACb,GAAI9U,OAAOmO,KAAKgG,EAAO/R,SAASjB,OAAS,EAAG,OAAOkC,EADvD,IAAA0R,GAAA,EAAAC,GAAA,EAAAC,OAAA9Q,EAAA,IAEI,QAAA+Q,EAAAC,EAAkBhB,EAAO/R,QAAzBuH,OAAAC,cAAAmL,GAAAG,EAAAC,EAAAtL,QAAAC,MAAAiL,GAAA,EAAkC,KAAzBK,EAAyBF,EAAAjT,MAC9BmN,EAAKgG,EAAMjT,IAAMiT,EACjBlH,EAAIrB,KAAKuI,EAAMjT,KAJvB,MAAA+H,GAAA8K,GAAA,EAAAC,EAAA/K,EAAA,YAAA6K,GAAA,MAAAI,EAAAhL,QAAAgL,EAAAhL,SAAA,WAAA6K,EAAA,MAAAC,GAOI,OAAOjV,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,EAAOsC,KAAMA,EAAMlB,IAAKA,IACvE,QACI,OAAO7K,IAoEkDoD,KA3SrE,WAA2I,IAAtHpD,EAAsHgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAAnF,CAAEyG,SAAS,EAAO5F,UAAM/C,GAAagQ,EAA8C9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EACvI,OAAQgQ,EAAOjS,MACX,KAAK0S,IAAYS,WACb,OAAOrV,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAC/C,KAAK8H,IAAYU,SACb,OAAItV,OAAOmO,KAAKgG,EAAO/R,SAASjB,OAAS,EAC9B,CAAE2L,SAAS,EAAO5F,KAAMiN,EAAO/R,SAE/B,CAAE0K,SAAS,EAAO5F,UAAM/C,GAEvC,QACI,OAAOd,IAgSqEkS,MA5RxF,WAA8K,IAA/JlS,EAA+JgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAAlI,CAAEyG,SAAS,EAAOsC,KAAM,GAAIlB,IAAK,GAAIyG,KAAM,CAAExG,KAAM,CAAC,eAAgBlJ,UAAW,QAAWkP,EAAwC9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EACtKiL,EAA4B,GAC5BlB,EAAqB,GAEzB,OAAQiG,EAAOjS,MACX,KAAK0S,IAAYY,YACb,OAAyB,IAArBnS,EAAM6K,IAAI/M,OACHnB,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAExC9M,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAC/C,KAAK8H,IAAYa,UACb,GAAIzV,OAAOmO,KAAKgG,EAAO/R,SAASjB,OAAS,EAAG,OAAOkC,EADvD,IAAAiG,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IAEI,QAAAsF,EAAAC,EAAoByK,EAAO/R,QAA3BuH,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAoC,KAA3B+F,EAA2B5F,EAAAxH,MAChCmN,EAAKC,EAAQlN,IAAMkN,EACnBnB,EAAIrB,KAAKwC,EAAQlN,KAJzB,MAAA+H,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,GAOI,OAAOxJ,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,EAAOsC,KAAMA,EAAMlB,IAAKA,IACvE,QACI,OAAO7K,IAyQmFqS,SAhPtG,WAAiM,IAA/KrS,EAA+KgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAA/I,CAAEyG,SAAS,EAAOsC,KAAM,GAAIlB,IAAK,GAAIyG,KAAM,CAAExG,KAAM,CAAC,YAAa,YAAalJ,UAAW,QAAWkP,EAA2C9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EACzLiL,EAA+B,GAC/BlB,EAAM,GACV,OAAQiG,EAAOjS,MACX,KAAK0S,IAAYe,eACb,OAAyB,IAArBtS,EAAM6K,IAAI/M,OACHnB,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAExC9M,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAC/C,KAAK8H,IAAYgB,aACb,GAAI5V,OAAOmO,KAAKgG,EAAO/R,SAASjB,OAAS,EAAG,OAAOkC,EADvD,IAAAwS,GAAA,EAAAC,GAAA,EAAAC,OAAA5R,EAAA,IAEI,QAAA6R,EAAAC,EAAoB9B,EAAO/R,QAA3BuH,OAAAC,cAAAiM,GAAAG,EAAAC,EAAApM,QAAAC,MAAA+L,GAAA,EAAoC,KAA3BxG,EAA2B2G,EAAA/T,MAChCmN,EAAKC,EAAQlN,IAAMkN,EACnBnB,EAAIrB,KAAKwC,EAAQlN,KAJzB,MAAA+H,GAAA4L,GAAA,EAAAC,EAAA7L,EAAA,YAAA2L,GAAA,MAAAI,EAAA9L,QAAA8L,EAAA9L,SAAA,WAAA2L,EAAA,MAAAC,GAMI,OAAO/V,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,EAAOsC,KAAMA,EAAMlB,IAAKA,IACvE,QACI,OAAO7K,IA+NuG4K,QA3N1H,WAAgM,IAA/K5K,EAA+KgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAA/I,CAAEyG,SAAS,EAAOsC,KAAM,GAAIlB,IAAK,GAAIyG,KAAM,CAAExG,KAAM,CAAC,YAAa,YAAalJ,UAAW,QAAWkP,EAA2C9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EACxLiL,EAA+B,GAC/BlB,EAAqB,GAEzB,OAAQiG,EAAOjS,MACX,KAAK0S,IAAYsB,cACb,OAAyB,IAArB7S,EAAM6K,IAAI/M,OACHnB,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAExC9M,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAC/C,KAAK8H,IAAYuB,YACb,GAAInW,OAAOmO,KAAKgG,EAAO/R,SAASjB,OAAS,EAAG,OAAOkC,EADvD,IAAA+S,GAAA,EAAAC,GAAA,EAAAC,OAAAnS,EAAA,IAEI,QAAAoS,EAAAC,EAAoBrC,EAAO/R,QAA3BuH,OAAAC,cAAAwM,GAAAG,EAAAC,EAAA3M,QAAAC,MAAAsM,GAAA,EAAoC,KAA3B/G,EAA2BkH,EAAAtU,MAChCmN,EAAKC,EAAQlN,IAAMkN,EACnBnB,EAAIrB,KAAKwC,EAAQlN,KAJzB,MAAA+H,GAAAmM,GAAA,EAAAC,EAAApM,EAAA,YAAAkM,GAAA,MAAAI,EAAArM,QAAAqM,EAAArM,SAAA,WAAAkM,EAAA,MAAAC,GAOI,OAAOtW,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,EAAOsC,KAAMA,EAAMlB,IAAKA,IACvE,QACI,OAAO7K,IAwMyHoT,MArQ5I,WAAuL,IAAxKpT,EAAwKgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAAnI,CAAEyG,SAAS,EAAOsC,KAAM,GAAIlB,IAAK,GAAIyG,KAAM,CAAExG,KAAM,CAAC,QAASlJ,UAAW,QAAWkP,EAAgD9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EAC/KiL,EAAoC,GACpClB,EAAM,GACV,OAAQiG,EAAOjS,MACX,KAAK0S,IAAY8B,YACb,OAAyB,IAArBrT,EAAM6K,IAAI/M,OACHnB,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAExC9M,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAC/C,KAAK8H,IAAY+B,UACb,GAAI3W,OAAOmO,KAAKgG,EAAO/R,SAASjB,OAAS,EAAG,OAAOkC,EADvD,IAAAuT,GAAA,EAAAC,GAAA,EAAAC,OAAA3S,EAAA,IAEI,QAAA4S,EAAAC,EAAiB7C,EAAO/R,QAAxBuH,OAAAC,cAAAgN,GAAAG,EAAAC,EAAAnN,QAAAC,MAAA8M,GAAA,EAAiC,KAAxBK,EAAwBF,EAAA9U,MAC7BmN,EAAK6H,EAAK9U,IAAM8U,EAChB/I,EAAIrB,KAAKoK,EAAK9U,KAJtB,MAAA+H,GAAA2M,GAAA,EAAAC,EAAA5M,EAAA,YAAA0M,GAAA,MAAAI,EAAA7M,QAAA6M,EAAA7M,SAAA,WAAA0M,EAAA,MAAAC,GAMI,OAAO9W,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,EAAOsC,KAAMA,EAAMlB,IAAKA,IACvE,QACI,OAAO7K,IAoPuI6T,OApM1J,WAAiL,IAAjK7T,EAAiKgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAAnI,CAAEyG,SAAS,EAAOsC,KAAM,GAAIlB,IAAK,GAAIyG,KAAM,CAAExG,KAAM,CAAC,cAAelJ,UAAW,SAAYkP,EAAyC9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EACzKiL,EAA6B,GAC7BlB,EAAqB,GAEzB,OAAQiG,EAAOjS,MACX,KAAK0S,IAAYuC,aACb,OAAyB,IAArB9T,EAAM6K,IAAI/M,OACHnB,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAExC9M,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAC/C,KAAK8H,IAAYwC,WACb,GAAIpX,OAAOmO,KAAKgG,EAAO/R,SAASjB,OAAS,EAAG,OAAOkC,EADvD,IAAAgU,GAAA,EAAAC,GAAA,EAAAC,OAAApT,EAAA,IAEI,QAAAqT,EAAAC,EAAkBtD,EAAO/R,QAAzBuH,OAAAC,cAAAyN,GAAAG,EAAAC,EAAA5N,QAAAC,MAAAuN,GAAA,EAAkC,KAAzB9K,EAAyBiL,EAAAvV,MAC9BmN,EAAK7C,EAAMpK,IAAMoK,EACjB2B,EAAIrB,KAAKN,EAAMpK,KAJvB,MAAA+H,GAAAoN,GAAA,EAAAC,EAAArN,EAAA,YAAAmN,GAAA,MAAAI,EAAAtN,QAAAsN,EAAAtN,SAAA,WAAAmN,EAAA,MAAAC,GAOI,OAAOvX,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,EAAOsC,KAAMA,EAAMlB,IAAKA,IACvE,QACI,OAAO7K,IAiLuJoK,WA7K1K,WAAgL,IAA5JpK,EAA4JgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAA9H,CAAEyG,SAAS,EAAOsC,KAAM,GAAIlB,IAAK,GAAIyG,KAAM,CAAExG,KAAM,CAAC,SAAUlJ,UAAW,SAAYkP,EAAyC9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EACxKiL,EAA6B,GAC7BlB,EAAqB,GAEzB,OAAQiG,EAAOjS,MACX,KAAK0S,IAAY8C,kBACb,OAAyB,IAArBrU,EAAM6K,IAAI/M,OACHnB,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAExC9M,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAC/C,KAAK8H,IAAY+C,gBACb,GAAI3X,OAAOmO,KAAKgG,EAAO/R,SAASjB,OAAS,EAAG,OAAOkC,EADvD,IAAAuU,GAAA,EAAAC,GAAA,EAAAC,OAAA3T,EAAA,IAEI,QAAA4T,EAAAC,EAAkB7D,EAAO/R,QAAzBuH,OAAAC,cAAAgO,GAAAG,EAAAC,EAAAnO,QAAAC,MAAA8N,GAAA,EAAkC,KAAzBrL,EAAyBwL,EAAA9V,MAC9BmN,EAAK7C,EAAMpK,IAAMoK,EACjB2B,EAAIrB,KAAKN,EAAMpK,KAJvB,MAAA+H,GAAA2N,GAAA,EAAAC,EAAA5N,EAAA,YAAA0N,GAAA,MAAAI,EAAA7N,QAAA6N,EAAA7N,SAAA,WAAA0N,EAAA,MAAAC,GAOI,OAAO9X,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,EAAOsC,KAAMA,EAAMlB,IAAKA,IACvE,QACI,OAAO7K,IA0J+K4U,eArJlM,WAAwM,IAAhL5U,EAAgLgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAA1I,CAAEyG,SAAS,EAAOsC,KAAM,GAAIlB,IAAK,GAAIyG,KAAM,CAAExG,KAAM,CAAC,aAAclJ,UAAW,SAAYkP,EAAiD9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EAChMiL,EAAqC,GACrClB,EAAqB,GAEzB,OAAQiG,EAAOjS,MACX,KAAK0S,IAAYsD,sBACb,OAAyB,IAArB7U,EAAM6K,IAAI/M,OACHnB,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAExC9M,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAC/C,KAAK8H,IAAYuD,oBACb,GAAInY,OAAOmO,KAAKgG,EAAO/R,SAASjB,OAAS,EAAG,OAAOkC,EADvD,IAAA+U,GAAA,EAAAC,GAAA,EAAAC,OAAAnU,EAAA,IAEI,QAAAoU,EAAAC,EAAmBrE,EAAO/R,QAA1BuH,OAAAC,cAAAwO,GAAAG,EAAAC,EAAA3O,QAAAC,MAAAsO,GAAA,EAAmC,KAA1BK,EAA0BF,EAAAtW,MAC/BmN,EAAKqJ,EAAOtW,IAAMsW,EAClBvK,EAAIrB,KAAK4L,EAAOtW,KAJxB,MAAA+H,GAAAmO,GAAA,EAAAC,EAAApO,EAAA,YAAAkO,GAAA,MAAAI,EAAArO,QAAAqO,EAAArO,SAAA,WAAAkO,EAAA,MAAAC,GAOI,OAAOtY,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,EAAOsC,KAAMA,EAAMlB,IAAKA,IACvE,KAAK0G,IAAY8D,uBAEb,OADAtJ,EAAOpP,OAAO+P,OAAO,GAAI1M,EAAM+L,KAAMpP,OAAO+P,OAAO,GAAI1M,EAAM+L,KAAK+E,EAAO/R,SAAU,CAAEuW,OAAQ,cACtF3Y,OAAO+P,OAAO,GAAI1M,EAAO,CAAE+L,KAAMA,IAC5C,QACI,OAAO/L,IA+H+M8I,oBA3HlO,WAAsM,IAAzK9I,EAAyKgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAApI,CAAEyG,SAAS,EAAOsC,KAAM,GAAIlB,IAAK,GAAIyG,KAAM,CAAExG,KAAM,CAAC,QAASlJ,UAAW,SAAYkP,EAAgD9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EAC9LiL,EAAoC,GACpClB,EAAqB,GAEzB,OAAQiG,EAAOjS,MACX,KAAK0S,IAAYgE,2BACb,OAAyB,IAArBvV,EAAM6K,IAAI/M,OACHnB,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAExC9M,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,IAC/C,KAAK8H,IAAYiE,yBACb,GAAI7Y,OAAOmO,KAAKgG,EAAO/R,SAASjB,OAAS,EAAG,OAAOkC,EADvD,IAAAyV,GAAA,EAAAC,GAAA,EAAAC,OAAA7U,EAAA,IAEI,QAAA8U,EAAAC,EAAkB/E,EAAO/R,QAAzBuH,OAAAC,cAAAkP,GAAAG,EAAAC,EAAArP,QAAAC,MAAAgP,GAAA,EAAkC,KAAzB1D,EAAyB6D,EAAAhX,MAC9BmN,EAAKgG,EAAMjT,IAAMiT,EACjBlH,EAAIrB,KAAKuI,EAAMjT,IAEViT,EAAM+D,eAAe,gBAClB/D,EAAM+D,eAAe,kBAAoB/D,EAAMgE,cAAcD,eAAe,WAExE/D,EAAMgE,cAAc7M,MAAM4M,eAAe,aAAe/D,EAAMgE,cAAc7M,MAAM8C,QAAQ8J,eAAe,aACzG/J,EAAKgG,EAAMjT,IAAMnC,OAAO+P,OAAOX,EAAKgG,EAAMjT,IAAK,CAAEkX,YAAW,GAAAjY,OAAKgU,EAAMgE,cAAc7M,MAAMvL,MAA/B,MAAAI,OAAyCgU,EAAMgE,cAAc7M,MAAM8C,QAAQvB,SAA3E,OAE5DsB,EAAKgG,EAAMjT,IAAMnC,OAAO+P,OAAOX,EAAKgG,EAAMjT,IAAK,CAAEkX,YAAW,GAAAjY,OAAKgU,EAAMgE,cAAc7M,MAAMvL,WAZ/G,MAAAkJ,GAAA6O,GAAA,EAAAC,EAAA9O,EAAA,YAAA4O,GAAA,MAAAI,EAAA/O,QAAA+O,EAAA/O,SAAA,WAAA4O,EAAA,MAAAC,GAkBI,OAAOhZ,OAAO+P,OAAO,GAAI1M,EAAO,CAAEyJ,SAAS,EAAOsC,KAAMA,EAAMlB,IAAKA,IACvE,KAAK0G,IAAY0E,2BAEb,OADAlK,EAAOpP,OAAO+P,OAAO,GAAI1M,EAAM+L,KAAMpP,OAAO+P,OAAO,GAAI1M,EAAM+L,KAAK+E,EAAO/R,SAAU,CAAEuW,OAAQ,cACtF3Y,OAAO+P,OAAO,GAAI1M,EAAO,CAAE+L,KAAMA,IAC5C,QACI,OAAO/L,IA0FyPkW,aAhE5Q,WAAiH,IAA3FlW,EAA2FgD,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAArD,GAAI8N,EAAiD9N,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EAC7G,OAAQgQ,EAAOjS,MACX,KAAK0S,IAAYuB,YACb,IAAIoD,EAAe,CAAEC,IAAM,GAAsBxN,QAAU,GAAsBI,IAAM,GAAsBqN,MAAQ,GAAsBC,IAAM,GAAsBC,IAAM,IADjLC,GAAA,EAAAC,GAAA,EAAAC,OAAA3V,EAAA,IAGI,QAAA4V,EAAAC,EAAoB7F,EAAO/R,QAA3BuH,OAAAC,cAAAgQ,GAAAG,EAAAC,EAAAnQ,QAAAC,MAAA8P,GAAA,EAAuD,KAA9CvN,EAA8C0N,EAAA9X,MACnDsX,EAAaC,IAAI3M,KAAKR,EAAO4N,MACzB5N,EAAO6N,YAAYX,EAAaC,IAAI3M,KAAKR,EAAO6N,YAGhD7N,EAAO8N,cAAcC,KAAK,SAAAC,GAAK,OAAsB,IAAlBA,EAAMC,YACzCf,EAAavN,QAAQa,KAAKR,EAAO4N,MAC7B5N,EAAO6N,YAAYX,EAAavN,QAAQa,KAAKR,EAAO6N,aAIxD7N,EAAO8N,cAAcC,KAAK,SAAAC,GAAK,OACb,KAAlBA,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,YAENf,EAAanN,IAAIS,KAAKR,EAAO4N,MACzB5N,EAAO6N,YAAYX,EAAanN,IAAIS,KAAKR,EAAO6N,aAIpD7N,EAAO8N,cAAcC,KAAK,SAAAC,GAAK,OACb,KAAlBA,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,SACY,KAAlBD,EAAMC,YAENf,EAAaE,MAAM5M,KAAKR,EAAO4N,MAC3B5N,EAAO6N,YAAYX,EAAaE,MAAM5M,KAAKR,EAAO6N,aAItD7N,EAAO8N,cAAcC,KAAK,SAAAC,GAAK,OAAsB,KAAlBA,EAAMC,YACzCf,EAAaG,IAAI7M,KAAKR,EAAO4N,MACzB5N,EAAO6N,YAAYX,EAAaG,IAAI7M,KAAKR,EAAO6N,aAIpD7N,EAAO8N,cAAcC,KAAK,SAAAC,GAAK,OAAsB,KAAlBA,EAAMC,YACzCf,EAAaI,IAAI9M,KAAKR,EAAO4N,MACzB5N,EAAO6N,YAAYX,EAAaI,IAAI9M,KAAKR,EAAO6N,cArDhE,MAAAhQ,GAAA2P,GAAA,EAAAC,EAAA5P,EAAA,YAAA0P,GAAA,MAAAI,EAAA7P,QAAA6P,EAAA7P,SAAA,WAAA0P,EAAA,MAAAC,GAwDI,OAAOP,EACX,QACI,OAAOlW,MCpUJ6Q,cAAgB,CAAElN,GAAIuT,EAAWrT,KAAMsT,qECLzCC,EAAb,SAAAtU,GAAA,SAAAsU,IAAA,OAAAza,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAua,GAAAza,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAya,GAAArU,MAAAlG,KAAAmG,YAAA,OAAArG,OAAAsG,EAAA,EAAAtG,CAAAya,EAAAtU,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAAya,EAAA,EAAAzY,IAAA,SAAAC,MAAA,WAEQ,OACI0D,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,IACR2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,WACXqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,aACfqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,UACfqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,YACfqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,aACXqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,cACfqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,gBAEnBqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,QACXqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,SACfqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,YAGvBqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,WACXqF,EAAAlF,EAAAC,cAAA,sCACAiF,EAAAlF,EAAAC,cAAA,+CAAsCiF,EAAAlF,EAAAC,cAAA,WAAtC,wGAnBpB+Z,EAAA,CAA8B7Z,aCgBT8Z,mLACD,IAAA3a,EAAAG,KAAAoJ,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IACZ,QAAAsF,EAAAC,EAAiBxJ,KAAKJ,MAAMuJ,MAA5BM,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAmC,KAA1BS,EAA0BN,EAAAxH,MAC/B,GAAI/B,KAAKJ,MAAM2G,OAASvG,KAAKJ,MAAM2G,KAAK4C,MAAMW,SAASD,IAAS7J,KAAKJ,MAAM2G,KAAK4C,MAAMW,SAASvK,IAAUwK,QACrG,OACItE,EAAAlF,EAAAC,cAACia,EAAA,EAAD,CAAO5S,MAAO7H,KAAKJ,MAAMiI,MAAO6S,KAAM1a,KAAKJ,MAAM8a,KAAMC,UAAW3a,KAAKJ,MAAM+a,aAJ7E,MAAA3Q,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,GASZ,OAAItJ,KAAKJ,MAAM2G,MAAQvG,KAAKJ,MAAMgb,WAC9B5a,KAAKJ,MAAMgb,UAAU,mBACdnV,EAAAlF,EAAAC,cAACia,EAAA,EAAD,CAAO5S,MAAO7H,KAAKJ,MAAMiI,MAAO6S,KAAM1a,KAAKJ,MAAM8a,KAAMC,UAAWJ,KAIzE9U,EAAAlF,EAAAC,cAACia,EAAA,EAAD,CAAO5S,MAAO7H,KAAKJ,MAAMiI,MAAO6S,KAAM1a,KAAKJ,MAAM8a,KAAMC,UAAW,WAC9D,OAAQlV,EAAAlF,EAAAC,cAACqa,EAAA,EAAD,CAAUlO,MAAI,EAACnF,GAAI,CACvBsT,SAAU,SACV3X,MAAO,CACH4X,cAAelb,EAAKD,MAAMob,UAAY,CAAEF,SAAU,KAAMA,uBApBtCpa,aA0C7Bua,EAAcpU,YANH,SAAC1D,GACrB,MAAO,CACHoD,KAAMpD,EAAM6D,KAAKT,KAAKS,OAVH,SAACC,GACxB,MAAO,CACH2T,UAAW,SAACzY,GACR8E,EAASrF,IAAGgZ,UAAUzY,OAWP0E,CAA6C2T,oEChD3DU,EAAb,SAAAjV,GAAA,SAAAiV,IAAA,OAAApb,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAkb,GAAApb,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAob,GAAAhV,MAAAlG,KAAAmG,YAAA,OAAArG,OAAAsG,EAAA,EAAAtG,CAAAob,EAAAjV,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAAob,EAAA,EAAApZ,IAAA,oBAAAC,MAAA,WAGQ/B,KAAKJ,MAAMub,cAHnB,CAAArZ,IAAA,kBAAAC,MAAA,WAOQ,IAAIqZ,EAAY,CAAC3V,EAAAlF,EAAAC,cAAC6a,EAAA,EAAD,CAAM7T,GAAG,wBAAwBpH,UAAU,qCAA3C,kCAIjB,OAHIJ,KAAKJ,MAAM2G,KAAK+U,cAChBF,EAAUzO,KAAKlH,EAAAlF,EAAAC,cAAC6a,EAAA,EAAD,CAAM7T,GAAG,MAAMpH,UAAU,qCAAzB,gBAEZgb,IAXf,CAAAtZ,IAAA,SAAAC,MAAA,WAeQ,OAAI/B,KAAKJ,MAAMgN,UAAY5M,KAAKJ,MAAM2G,KAE9Bd,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,aACR2E,EAAAlF,EAAAC,cAAC+a,EAAA,EAAD,OAMR9V,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,aACR2E,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,aACRd,KAAKwb,0BA5BlCN,EAAA,CAAgCxa,aAuDnB+a,EAAY5U,YAjBD,SAAC1D,EAAcvD,GACnC,MAAO,CACH2G,KAAMpD,EAAM6D,KAAKT,KAAKS,KACtB4F,QAASzJ,EAAM6D,KAAKT,KAAKqG,UAIN,SAAC3F,EAAsDrH,GAC9E,MAAO,CACHub,UAAW,WACPlU,EAASiH,IAAKiN,gBAODtU,CAA6CqU,2CCtDzDQ,EAAb,SAAAzV,GACI,SAAAyV,EAAY9b,GAAqB,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAA0b,IAC7B7b,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAA4b,GAAAvb,KAAAH,KAAMJ,KAED+b,YAAc9b,EAAK8b,YAAY7Y,KAAjBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAHUA,EADrC,OAAAC,OAAAsG,EAAA,EAAAtG,CAAA4b,EAAAzV,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAA4b,EAAA,EAAA5Z,IAAA,cAAAC,MAAA,SAOwByB,GAChB,IAAIoY,EAAiB,GACrB,IAAK,IAAI5P,KAAKhM,KAAKJ,MAAMoH,KAAKkI,KAAM,CAChC,IAAI/C,EAASnM,KAAKJ,MAAMoH,KAAKkI,KAAKlD,GAC9B6P,EAAmB,CACnBC,QAAS3P,EAAOwB,UAChBoO,SAAU5P,EAAOyB,SACjBoO,KAAO7P,EAAO4K,MAAQ,GACtBkF,YAAa9P,EAAO+P,WAAa,IAAIxK,KAAK,KAC1CyK,WAAYhQ,EAAOiQ,SACnBC,QAAO,GAAAnb,OAAKiL,EAAOmQ,QAAZ,MAAApb,OAAwBiL,EAAOoQ,SAA/B,KAAArb,OAA2CiL,EAAOqQ,MACzDC,WAAY,GACZC,SAAUvQ,EAAO4N,KACjB4C,WAAYxQ,EAAO6N,WACnB4C,SAAUzQ,EAAO0Q,WACjBC,OAAQ3Q,EAAO4Q,aAGf5Q,EAAO6Q,kBAAiBnB,EAAiBY,WAAjB,IAAAvb,OAAkCiL,EAAO6Q,gBAAgB1N,KAAzD,MAAApO,OAAkEiL,EAAO6Q,gBAAgBV,QAAzF,MAAApb,OAAqGiL,EAAO6Q,gBAAgBT,SAA5H,KAAArb,OAAwIiL,EAAO6Q,gBAAgBR,OAE3LZ,EAAejP,KAAKkP,GAExB,IAAIoB,EAAQC,IAAKC,MAAMC,cAAcxB,GACjCyB,EAAOH,IAAKC,MAAMG,WACtBJ,IAAKC,MAAMI,kBAAkBF,EAAMJ,EAAO,cAC1CC,IAAKM,UAAUH,EAAM,qBAhC7B,CAAAvb,IAAA,SAAAC,MAAA,WAoCQ,OACI0D,EAAAlF,EAAAC,cAACid,EAAA,EAAD3d,OAAA+P,OAAA,GACQ7P,KAAKJ,MADb,CAEI8d,UAAU,eACVC,aAAc,CACVlY,EAAAlF,EAAAC,cAACod,EAAA,EAAD,CAAQjX,KAAK,aAAaF,QAASzG,KAAK2b,sBAzC5DD,EAAA,CAA8Bhb,aA6EjBmd,EAAUhX,YA7BC,SAAC1D,GACrB,MAAO,CACH6D,KAAM7D,EAAM6D,KAAK+G,QACjBjN,MAAO,aACPgd,aAAc,YACdC,aAAc,CACV,CAAE7V,KAAM,OAAQ+F,KAAM,CAAC,YAAa,YAAa+P,UAAU,EAAMC,YAAY,GAC7E,CAAE/V,KAAM,OAAQ+F,KAAM,CAAC,QAAS+P,UAAU,EAAMC,YAAY,GAC5D,CAAE/V,KAAM,aAAc+F,KAAM,CAAC,aAAc+P,UAAU,EAAMC,YAAY,GACvE,CAAE/V,KAAM,WAAY+F,KAAM,CAAC,UAAW,WAAY,QAASiQ,MAAM,EAAMC,WAAY,sCAAuCH,UAAU,EAAMC,YAAY,GACtJ,CAAE/V,KAAM,aAAc+F,KAAM,CAAE+O,gBAAiB,CAAC,UAAW,WAAY,SAAWkB,MAAM,EAAMC,WAAY,sCAAuCH,UAAU,EAAMC,YAAY,GAC7K,CAAE/V,KAAM,WAAY+F,KAAM,CAAC,cAAeiQ,MAAM,EAAMC,WAAY,OAAQH,UAAU,EAAMC,YAAY,GACtG,CAAE/V,KAAM,aAAc+F,KAAM,CAAC,oBAAqBiQ,MAAM,EAAMC,WAAY,OAAQH,UAAU,EAAMC,YAAY,GAC9G,CAAE/V,KAAM,SAAU+F,KAAM,CAAC,eAAgBiQ,MAAM,EAAMC,WAAY,OAAQH,UAAU,EAAMC,YAAY,GACrG,CAAE/V,KAAM,SAAU+F,KAAM,CAAC,QAASiQ,MAAM,EAAMC,WAAY,UAAWH,UAAU,EAAMC,YAAY,GACjG,CAAE/V,KAAM,WAAY+F,KAAM,CAAC,cAAeiQ,MAAM,EAAMC,WAAY,UAAWH,UAAU,EAAMC,YAAY,MAK1F,SAAChX,GACxB,MAAO,CACHmX,UAAW,WACPnX,EAASiH,IAAKtC,mBAMH/E,CAA6C6U,4CCvF/C2C,4LAEb,GAAgC,qBAArBre,KAAKJ,MAAMmC,MAAuB,CACzC,GAAwB,aAApB/B,KAAKJ,MAAMoC,KAAqB,CAChC,IAAIiO,EAAWjQ,KAAKJ,MAAMqQ,UAAa,aAKvC,OAFKjQ,KAAKJ,MAAM0e,WAAUrO,EAAW,WAAQ,OAAO,IAE7CxK,EAAAlF,EAAAC,cAAC+d,EAAA,EAAD,CAAUtc,GAAIjC,KAAKJ,MAAMqC,GAAIuO,QAASxQ,KAAKJ,MAAMmC,MAAOkO,SAAUA,EAAUiB,MAAM,KACtF,GAAwB,aAApBlR,KAAKJ,MAAMoC,KAClB,OAAOyD,EAAAlF,EAAAC,cAAA,YAAUyB,GAAIjC,KAAKJ,MAAMqC,GAAIqN,KAAMtP,KAAKJ,MAAMqC,GAAIF,MAAO/B,KAAKJ,MAAMmC,MAAOkO,SAAUjQ,KAAKJ,MAAMqQ,SAAU7P,UAAW,2BAA+BJ,KAAKJ,MAAM0e,SAA2B,GAAf,cAAoBE,UAAWxe,KAAKJ,MAAM0e,WAGhO,IAAIvc,EAAQ/B,KAAKJ,MAAMmC,MACvB,GAAwB,SAApB/B,KAAKJ,MAAMoC,KAAiB,CAC5B,IAAIsK,EAAOtM,KAAKJ,MAAMmC,MACU,kBAArB/B,KAAKJ,MAAMmC,QAAoBuK,EAAO,IAAIvI,KAAK/D,KAAKJ,MAAMmC,QAErEA,EAAK,GAAAb,OAAMoL,EAAKmS,iBAAX,KAAAvd,QAAgC,IAAMoL,EAAKoS,eAAeC,OAAO,GAAjE,KAAAzd,QAAwE,IAAMoL,EAAKsS,cAAcD,OAAO,IAGjH,OAAOlZ,EAAAlF,EAAAC,cAAA,SAAOyB,GAAIjC,KAAKJ,MAAMqC,GAAIqN,KAAMtP,KAAKJ,MAAMqC,GAAID,KAAOhC,KAAKJ,MAAMoC,KAAQhC,KAAKJ,MAAMoC,KAAO,OAAQD,MAAOA,EAAOkO,SAAUjQ,KAAKJ,MAAMqQ,SAAU7P,UAAW,2BAA+BJ,KAAKJ,MAAM0e,SAA2B,GAAf,cAAoBE,UAAWxe,KAAKJ,MAAM0e,WAGtQ,OAAOte,KAAKJ,MAAMa,0CAIlB,OACIgF,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,SACbJ,KAAKJ,MAAMkB,OAEhB2E,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,SACbJ,KAAK6e,0BAnCane,aCHToe,qCCATC,yIAAwBD,aCmBhCE,GAAb,SAAA/Y,GACI,SAAA+Y,EAAYpf,GAAmC,IAAAC,EAG3C,GAH2CC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAgf,IAC3Cnf,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAkf,GAAA7e,KAAAH,KAAMJ,KAEGA,MAAMqf,wBAAwBC,MAAO,CAC1C,IAAIC,EAAa,GADyB/V,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IAE1C,QAAAsF,EAAAC,EAA4B3J,EAAKD,MAAMqf,aAAvCxV,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAqD,KAA5C4T,EAA4CzT,EAAAxH,MAC7CjC,OAAOmO,KAAK+O,GAAiB/b,OAAS,GACtCke,EAAWxS,KAAK,CACZ5K,MAAOib,EAAgB/a,GAAGyG,WAC1BwI,MAAK,IAAAhQ,OAAM8b,EAAgB1N,KAAtB,MAAApO,OAA+B8b,EAAgBV,QAA/C,MAAApb,OAA2D8b,EAAgBT,SAA3E,KAAArb,OAAuF8b,EAAgBR,SAN9E,MAAAxS,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,GAW1CzJ,EAAKsD,MAAQ,CACTpB,MAAOod,QAGXtf,EAAKsD,MAAQ,GAlB0B,OAAAtD,EADnD,OAAAC,OAAAsG,EAAA,EAAAtG,CAAAkf,EAAA/Y,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAAkf,EAAA,EAAAld,IAAA,4BAAAC,MAAA,SAuBqCqd,GAC7B,GAAIA,EAAUH,wBAAwBC,MAAO,CACzC,IAAIC,EAAa,GADwBzI,GAAA,EAAAC,GAAA,EAAAC,OAAA3S,EAAA,IAEzC,QAAA4S,EAAAC,EAA4BsI,EAAUH,aAAtCxV,OAAAC,cAAAgN,GAAAG,EAAAC,EAAAnN,QAAAC,MAAA8M,GAAA,EAAoD,KAA3CsG,EAA2CnG,EAAA9U,MAC5CjC,OAAOmO,KAAK+O,GAAiB/b,OAAS,GACtCke,EAAWxS,KAAK,CACZ5K,MAAOib,EAAgB/a,GAAGyG,WAC1BwI,MAAK,IAAAhQ,OAAM8b,EAAgB1N,KAAtB,MAAApO,OAA+B8b,EAAgBV,QAA/C,MAAApb,OAA2D8b,EAAgBT,SAA3E,KAAArb,OAAuF8b,EAAgBR,SAN/E,MAAAxS,GAAA2M,GAAA,EAAAC,EAAA5M,EAAA,YAAA0M,GAAA,MAAAI,EAAA7M,QAAA6M,EAAA7M,SAAA,WAAA0M,EAAA,MAAAC,GAWzC5W,KAAK6D,SAAS,CACV9B,MAAOod,OApCvB,CAAArd,IAAA,qBAAAC,MAAA,WA0CY/B,KAAKJ,MAAM4U,iBAAiBxG,IAAI/M,OAAS,GACzCjB,KAAKJ,MAAMyf,0BA3CvB,CAAAvd,IAAA,iBAAAC,MAAA,WAgDQ,IAAIkN,EAAU,GACd,GAAInP,OAAOmO,KAAKjO,KAAKJ,MAAM4U,iBAAiBtF,MAAMjO,OAAS,EACvD,IAAK,IAAI+K,KAAKhM,KAAKJ,MAAM4U,iBAAiBtF,KAAM,CAC5C,IAAI8N,EAAkBhd,KAAKJ,MAAM4U,iBAAiBtF,KAAKlD,GACvDiD,EAAQtC,KAAK,CACTuE,MAAK,IAAAhQ,OAAM8b,EAAgB1N,KAAtB,MAAApO,OAA+B8b,EAAgBV,QAA/C,MAAApb,OAA2D8b,EAAgBT,SAA3E,KAAArb,OAAuF8b,EAAgBR,MAC5Gza,MAAOiK,IAKnB,OAAOiD,IA3Df,CAAAnN,IAAA,WAAAC,MAAA,SA8DqB2O,GACb,IAAI4O,EAA+C,CAAC5O,GAChD1Q,KAAKJ,MAAMoR,UACXsO,EAAM5O,GAGV1Q,KAAK6D,SAAS,CACV9B,MAAOud,IAGX,IAAI9K,EAAmB,GAVwCmB,GAAA,EAAAC,GAAA,EAAAC,OAAA5R,EAAA,IAW/D,QAAA6R,EAAAC,EAAcuJ,EAAd7V,OAAAC,cAAAiM,GAAAG,EAAAC,EAAApM,QAAAC,MAAA+L,GAAA,EAAmB,KAAV4J,EAAUzJ,EAAA/T,MACfyS,EAAiB7H,KAAK3M,KAAKJ,MAAM4U,iBAAiBtF,KAAKqQ,EAAExd,SAZE,MAAAiI,GAAA4L,GAAA,EAAAC,EAAA7L,EAAA,YAAA2L,GAAA,MAAAI,EAAA9L,QAAA8L,EAAA9L,SAAA,WAAA2L,EAAA,MAAAC,GAe3D7V,KAAKJ,MAAMqQ,WACPjQ,KAAKJ,MAAMoR,QACXhR,KAAKJ,MAAMqQ,SAASuE,GAEpBxU,KAAKJ,MAAMqQ,SAASuE,EAAiB,OAjFrD,CAAA1S,IAAA,eAAAC,MAAA,WAuFQ,OAAI/B,KAAKJ,MAAMoR,QACJhR,KAAKmD,MAAMpB,OAAS,IAGvB/B,KAAKmD,MAAMpB,OAAS,IAAI,KA3FxC,CAAAD,IAAA,SAAAC,MAAA,WA8FoB,IAAA0C,EAAAzE,KACZ,OAAKA,KAAKJ,MAAMgN,QAcT,KAbKnH,EAAAlF,EAAAC,cAACgf,GAAA,EAAD,CACJzP,IAAK,SAACgB,GAAsBtM,EAAK7E,MAAMmQ,KAAKtL,EAAK7E,MAAMmQ,IAAIgB,IAC3D0O,aAAa,EACbxQ,QAASjP,KAAK0f,iBACdC,uBAAuB,EACvBC,qBAAqB,EACrBC,iBAAiB,EACjB7O,QAAShR,KAAKJ,MAAMoR,UAAW,EAC/Bf,SAAUjQ,KAAKiQ,SAASnN,KAAK9C,MAC7B+B,MAAO/B,KAAK8f,qBAzG5Bd,EAAA,CAA4Cte,aAiI/Bqf,GAAwBlZ,YAhBb,SAAC1D,EAAcvD,GACnC,MAAO,CACH4U,iBAAkBrR,EAAM6D,KAAKwN,iBAC7B5H,QAASzJ,EAAM6D,KAAKwN,iBAAiB5H,UAIlB,SAAC3F,EAAsDrH,GAC9E,MAAO,CACHyf,sBAAuB,WACnBpY,EAASiH,IAAKmR,4BAMWxY,CAA6CmY,+DCrG7DgB,eAGjB,SAAAA,EAAYpgB,GAAqB,IAAAC,EAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAggB,IAC7BngB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAkgB,GAAA7f,KAAAH,KAAMJ,KACDqgB,OAAS,GAETpgB,EAAKD,MAAMuP,SAAYtP,EAAKD,MAAMgN,SACnC/M,EAAKD,MAAMsgB,eAGfrgB,EAAKsgB,kBAAoBtgB,EAAKsgB,kBAAkBrd,KAAvBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACzBA,EAAKugB,iBAAmBvgB,EAAKugB,iBAAiBtd,KAAtBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACxBA,EAAKiP,cAAgBjP,EAAKiP,cAAchM,KAAnBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACrBA,EAAKwgB,OAASxgB,EAAKwgB,OAAOvd,KAAZhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACdA,EAAKygB,QAAUzgB,EAAKygB,QAAQxd,KAAbhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACfA,EAAKyQ,eAAiBzQ,EAAKyQ,eAAexN,KAApBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACtBA,EAAK0gB,sBAAwB1gB,EAAK0gB,sBAAsBzd,KAA3BhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAC7BA,EAAK2gB,mBAAqB3gB,EAAK2gB,mBAAmB1d,KAAxBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAE1B,IAAMsP,EAAUtP,EAAKD,MAAMuP,SAAW,GAjBT,OAmB7BtP,EAAKsD,MAAQ,CACTmb,UAAU,EACVtB,gBAAiB7N,EAAQ6N,iBAAmB,IAAI+B,GAChD0B,UAAYtR,EAAQsR,UAAatR,EAAQsR,UAAUpP,qBAAuB,GAC1EqP,SAAWvR,EAAQuR,SAAYvR,EAAQuR,SAASrP,qBAAuB,GACvEsP,SAAUxR,EAAQwR,UAAY,GAC9BC,KAAMzR,EAAQyR,MAAQ,GACtBC,cAAe1R,EAAQ0R,eAAiB,GACxCC,cAAe,GACfC,qBAAsB,EACtBC,qBAAqB,GA7BInhB,6EAiCX2D,GAClB,IAAM6L,EAAS7L,EAAM6L,OACftN,EAAQsN,EAAOtN,MACfuN,EAAOD,EAAOC,KAGpBtP,KAAK6D,SAAL/D,OAAAmhB,EAAA,EAAAnhB,CAAA,GACKwP,EAAOvN,gLAKR/B,KAAKJ,MAAM2G,OAAQvG,KAAKJ,MAAM2G,KAAK4C,MAAM9I,QAAQd,IAAUoL,4CACvDoW,EAAuB,EACvB/Z,EAAO,oCACKkH,cAAuBgT,KAAMC,IAAyBvW,IAAOC,YAAP,sBAAA3J,OAA2ClB,KAAKJ,MAAMuP,QAAQlN,IAAM,CAAEmf,iBAAiB,wBAASpa,iCAAjJqa,oFAAZC,WACGrI,eAAe,kBAAoBqI,EAAIpI,cAAcD,eAAe,WAEpEqI,EAAIpI,cAAc7M,MAAM4M,eAAe,aAAeqI,EAAIpI,cAAc7M,MAAM8C,QAAQ8J,eAAe,aACrGqI,EAAInI,YAAJ,GAAAjY,OAAqBogB,EAAIpI,cAAc7M,MAAMvL,MAA7C,MAAAI,OAAuDogB,EAAIpI,cAAc7M,MAAM8C,QAAQvB,SAAvF,KAEA0T,EAAInI,YAAJ,GAAAjY,OAAqBogB,EAAIpI,cAAc7M,MAAMvL,QAGrDkG,EAAK2F,KAAK2U,GAELA,EAAIC,QAAOR,GAAwBS,WAAWF,EAAIG,uRAG3DzhB,KAAK6D,SAAS,CACVid,cAAe9Z,EACf+Z,qBAAsBA,EACtBC,qBAAqB,oLAKA5B,GACzBA,EAAUjQ,SACVnP,KAAK6D,SAAS,CACVmZ,gBAAiBoC,EAAUjQ,QAAQ6N,iBAAmB,IAAI+B,GAC1D0B,UAAYrB,EAAUjQ,QAAQsR,UAAarB,EAAUjQ,QAAQsR,UAAUpP,qBAAuB,GAC9FqP,SAAWtB,EAAUjQ,QAAQuR,SAAYtB,EAAUjQ,QAAQuR,SAASrP,qBAAuB,GAC3FsP,SAAUvB,EAAUjQ,QAAQwR,UAAY,GACxCC,KAAMxB,EAAUjQ,QAAQyR,MAAQ,GAChCC,cAAezB,EAAUjQ,QAAQ0R,eAAiB,8CAKtCrd,GACpB,GAAIA,EAAMke,cAAcC,YAAcne,EAAMke,cAAcC,WAAWC,cAAe,CAChF,IAAI3f,EAAKuB,EAAMke,cAAcC,WAAWC,cAAcC,aAAa,YAG/C,GAAhBre,EAAMse,OACNC,OAAOzb,KAAM0b,SAAShH,SAAsBiH,OAAS,iBAAmBhgB,GAExEjC,KAAKJ,MAAM8M,QAAQC,KAAK,iBAAmB1K,qCAMnDjC,KAAK6D,SAAS,CAAEya,UAAU,IAEtBte,KAAKJ,MAAMuP,QAAQ8K,cAAcC,KAAK,SAAAC,GAAK,OAAsB,IAAlBA,EAAMC,WACrDpa,KAAKJ,MAAMsiB,WAAW,CAClBjgB,GAAIjC,KAAKJ,MAAMuP,QAAQlN,GACvBkgB,kBAAmBniB,KAAKmD,MAAM6Z,gBAAgB/a,GAC9Cwe,UAAYzgB,KAAKmD,MAAMsd,UAAa,IAAI1c,KAAK/D,KAAKmD,MAAMsd,gBAAaxc,EACrEyc,SAAW1gB,KAAKmD,MAAMud,SAAY,IAAI3c,KAAK/D,KAAKmD,MAAMud,eAAYzc,EAClE0c,SAAU3gB,KAAKmD,MAAMwd,SACrBC,KAAM5gB,KAAKmD,MAAMyd,KACjBC,cAAe7gB,KAAKmD,MAAM0d,gDAKvBrd,GACXxD,KAAK6D,SAAS,CACVya,UAAU,EACVtB,gBAAiBhd,KAAKJ,MAAMuP,QAAQ6N,iBAAmB,IAAI+B,GAC3D0B,UAAYzgB,KAAKJ,MAAMuP,QAAQsR,UAAazgB,KAAKJ,MAAMuP,QAAQsR,UAAUpP,qBAAuB,GAChGqP,SAAW1gB,KAAKJ,MAAMuP,QAAQuR,SAAY1gB,KAAKJ,MAAMuP,QAAQuR,SAASrP,qBAAuB,GAC7FsP,SAAU3gB,KAAKJ,MAAMuP,QAAQwR,UAAY,GACzCC,KAAM5gB,KAAKJ,MAAMuP,QAAQyR,MAAQ,GACjCC,cAAe7gB,KAAKJ,MAAMuP,QAAQ0R,eAAiB,4CAIpC1d,GAAgD,IAAAsB,EAAAzE,KACnE,OAAO,SAACoiB,GAEJ3d,EAAKZ,SAAL/D,OAAAmhB,EAAA,EAAAnhB,CAAA,GAAiBqD,EAAQif,qDAK7B,OAAIpiB,KAAKmD,MAAMmb,SACJ7Y,EAAAlF,EAAAC,cAACuf,GAAD,CAAuBsC,OAAO,EAAOpS,SAAUjQ,KAAKsQ,eAAe,mBAAoB2O,aAAc,CAACjf,KAAKmD,MAAM6Z,uBAAoB/Y,IAE5IjE,KAAKmD,MAAM6Z,iBACXhd,KAAKmD,MAAM6Z,gBAAgB/D,eAAe,YAC1CjZ,KAAKmD,MAAM6Z,gBAAgB/D,eAAe,aAC1CjZ,KAAKmD,MAAM6Z,gBAAgB/D,eAAe,QACnCxT,EAAAlF,EAAAC,cAAA,KACHmH,KAAI,sCAAAzG,OAAwClB,KAAKmD,MAAM6Z,gBAAgBV,QAAnE,MAAApb,OAA+ElB,KAAKmD,MAAM6Z,gBAAgBT,SAA1G,KAAArb,OAAsHlB,KAAKmD,MAAM6Z,gBAAgBR,MACrJnN,OAAO,UAFJ,GAAAnO,OAGClB,KAAKmD,MAAM6Z,gBAAgBV,QAH5B,MAAApb,OAGwClB,KAAKmD,MAAM6Z,gBAAgBT,SAHnE,KAAArb,OAG+ElB,KAAKmD,MAAM6Z,gBAAgBR,OAI9G,kDAGkB,IAAA3L,EAAA7Q,KACzB,OAAIA,KAAKmD,MAAMmb,SACJ,CACH7Y,EAAAlF,EAAAC,cAACod,EAAA,EAAD,CAAQjX,KAAK,OAAOF,QAASzG,KAAKqgB,SAClC5a,EAAAlF,EAAAC,cAACod,EAAA,EAAD,CAAQjX,KAAK,QAAQF,QAASzG,KAAKsgB,WAIpC,CAAC7a,EAAAlF,EAAAC,cAACod,EAAA,EAAD,CAAQjX,KAAK,aAAaF,QAAS,WAAQoK,EAAKhN,SAAS,CAAEya,UAAU,2DAI7E,OAAKte,KAAKJ,MAAM2G,KAAK4C,MAAM9I,QAAQd,IAAUoL,oBAExC3K,KAAKmD,MAAM6d,oBAMZvb,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAK,8BAAAI,OAA6BlB,KAAKmD,MAAM4d,qBAAxC,OAAmE5f,YAAY,GACvFsE,EAAAlF,EAAAC,cAAC8hB,GAAA,EAAD,CACI/Q,QAAS,CACL,CAAErJ,KAAM,QAAS+F,KAAM,CAAC,QAAS+P,UAAU,GAC3C,CAAE9V,KAAM,eAAgB+F,KAAM,CAAC,eAAgB+P,UAAU,GACzD,CAAE9V,KAAM,SAAU+F,KAAM,CAAC,UAAWsU,OAAQ,OAAQvE,UAAU,GAC9D,CAAE9V,KAAM,YAAa+F,KAAM,CAAC,YAAa+P,UAAU,GACnD,CAAE9V,KAAM,aAAc+F,KAAM,CAAC,SAAU+P,UAAU,GACjD,CACI9V,KAAM,UAAW+F,KAAM,CAAC,OAAQxG,QAAShC,EAAAlF,EAAAC,cAACgiB,GAAAjiB,EAAD,CAAQkiB,QAAQ,UAAUriB,UAAU,OAAO2F,UAAW/F,KAAKogB,kBAAkB3a,EAAAlF,EAAAC,cAACkiB,GAAA,EAAD,CAAiB/b,KAAK,WAGpJ8K,YAAa,CACTxD,KAAM,CAAC,QACPlJ,UAAW,QAEfiC,KAAMhH,KAAKmD,MAAM2d,kBArBzB9gB,KAAKmgB,oBACE1a,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,sBAAkB2E,EAAAlF,EAAAC,cAAC+a,EAAA,EAAD,QAJ+B,sCA+BzE,GAAIvb,KAAKJ,MAAMgN,UAAY5M,KAAKJ,MAAMuP,QAClC,OACI1J,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,WACR2E,EAAAlF,EAAAC,cAAC+a,EAAA,EAAD,OAKZvb,KAAKigB,OAASjgB,KAAKJ,MAAMuP,QAAQ8K,cAEjC,IAAIqC,EAAUtc,KAAKJ,MAAMuP,QAAQmN,QAAU,KAAOtc,KAAKJ,MAAMuP,QAAQoN,SAAW,IAAMvc,KAAKJ,MAAMuP,QAAQqN,KAEzG,OACI/W,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAOd,KAAKJ,MAAMuP,QAAQxB,UAAY,IAAM3N,KAAKJ,MAAMuP,QAAQvB,UACjEnI,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,+BAA4BD,QAASb,KAAKwgB,sBACnD/a,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,mBACXqF,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,YAAYnB,MAAM,WAAYd,KAAKJ,MAAMuP,QAAQxB,WAC/DlI,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,WAAWnB,MAAM,YAAad,KAAKJ,MAAMuP,QAAQvB,UAC/DnI,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,OAAOnB,MAAM,QAAQd,KAAKJ,MAAMuP,QAAQ4H,MACtDtR,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,WAAWnB,MAAM,cAAc,IAAIiD,KAAK/D,KAAKJ,MAAMuP,QAAQiN,UAAU/K,sBACnF5L,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,UAAUnB,MAAM,WAAU2E,EAAAlF,EAAAC,cAAA,KAAGmH,KAAM,sCAAwC2U,EAASjN,OAAO,UAAUiN,IACnH7W,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,kBAAkBnB,MAAM,cACjCd,KAAKugB,yBAEV9a,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,aAAanB,MAAM,YAAW2E,EAAAlF,EAAAC,cAAA,KAAGmH,KAAM,OAAS3H,KAAKJ,MAAMuP,QAAQ0N,YAAa7c,KAAKJ,MAAMuP,QAAQ0N,aACjHpX,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,mBAAmBnB,MAAM,cAAa2E,EAAAlF,EAAAC,cAAA,KAAGmH,KAAM,OAAS3H,KAAKJ,MAAMuP,QAAQyT,kBAAmB5iB,KAAKJ,MAAMuP,QAAQyT,mBAC/Hnd,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,cAAcnB,MAAM,UAAS2E,EAAAlF,EAAAC,cAAA,KAAGmH,KAAM,OAAS3H,KAAKJ,MAAMuP,QAAQ4N,aAAc/c,KAAKJ,MAAMuP,QAAQ4N,cACjHtX,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,OAAOnB,MAAM,UAAS2E,EAAAlF,EAAAC,cAAA,KAAGmH,KAAM,UAAY3H,KAAKJ,MAAMuP,QAAQ4K,MAAO/Z,KAAKJ,MAAMuP,QAAQ4K,OACtGtU,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,aAAanB,MAAM,YAAW2E,EAAAlF,EAAAC,cAAA,KAAGmH,KAAM,UAAY3H,KAAKJ,MAAMuP,QAAQ6K,YAAaha,KAAKJ,MAAMuP,QAAQ6K,aACpHvU,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,SAASnB,MAAM,WACvBd,KAAKigB,OAAUjgB,KAAKigB,OAAOlf,IAAI,SAACoZ,GAC9B,OAAO1U,EAAAlF,EAAAC,cAAA,QAAMJ,UAAU,uBAAuB+Z,EAAM7K,QACnD,IAET7J,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,YAAYnB,MAAM,iBAAiBkB,KAAK,OAAOsc,SAAUte,KAAKmD,MAAMmb,SAAUvc,MAAO/B,KAAKmD,MAAMsd,UAAWxQ,SAAUjQ,KAAK8O,gBACxIrJ,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,WAAWnB,MAAM,iBAAiBkB,KAAK,OAAOsc,SAAUte,KAAKmD,MAAMmb,SAAUvc,MAAO/B,KAAKmD,MAAMud,SAAUzQ,SAAUjQ,KAAK8O,gBACtIrJ,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,UAAUnB,MAAM,eAAgBd,KAAKJ,MAAMuP,QAAQ3C,YAI7E/G,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,YACT2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,mBACXqF,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,WAAWnB,MAAM,OAAOiB,MAAO/B,KAAKmD,MAAMwd,SAAUrC,SAAUte,KAAKmD,MAAMmb,SAAUrO,SAAUjQ,KAAK8O,gBAChHrJ,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,OAAOnB,MAAM,OAAOiB,MAAO/B,KAAKmD,MAAMyd,KAAMtC,SAAUte,KAAKmD,MAAMmb,SAAUrO,SAAUjQ,KAAK8O,gBACxGrJ,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,gBAAgBnB,MAAM,eAAeiB,MAAO/B,KAAKmD,MAAM0d,cAAevC,SAAUte,KAAKmD,MAAMmb,SAAUrO,SAAUjQ,KAAK8O,kBAG1IrJ,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,WACT2E,EAAAlF,EAAAC,cAAA,KAAG6O,OAAO,SAAS1H,KAAM,sDAAwD3H,KAAKJ,MAAMuP,QAAQiL,QAASha,UAAU,qCAAvH,sBACAqF,EAAAlF,EAAAC,cAAA,KAAG6O,OAAO,SAAS1H,KAAM,gHAAkH3H,KAAKJ,MAAMuP,QAAQxB,UAAY,IAAM3N,KAAKJ,MAAMuP,QAAQvB,SAAUxN,UAAU,qCAAvN,6BAIZqF,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACbJ,KAAK6iB,qCA7PQniB,aA0RzBoiB,GAAUjc,YArBC,SAAC1D,EAAcvD,GACnC,MAAO,CACH2G,KAAMpD,EAAM6D,KAAKT,KAAKS,KACtBmI,QAAShM,EAAM6D,KAAKwO,SAAStG,KAAKtP,EAAM8H,MAAMqb,OAAO9gB,KAAOkB,EAAM6D,KAAK+G,QAAQmB,KAAKtP,EAAM8H,MAAMqb,OAAO9gB,IACvG2K,QAASzJ,EAAM6D,KAAKwO,SAAS5I,SAAWzJ,EAAM6D,KAAK+G,QAAQnB,UAIxC,SAAC3F,EAAsDrH,GAC9E,MAAO,CACHsgB,aAAc,WACVjZ,EAASiH,IAAK8U,kBAElBd,WAAY,SAAClb,GACTC,EAASiH,IAAKgU,WAAWlb,OAOdH,CAA6CmZ,IC1SvDiD,GAASpc,YAvBE,SAAC1D,GACrB,MAAO,CACH6D,KAAM7D,EAAM6D,KAAKgQ,OACjB8G,aAAc,UACdhd,MAAO,cACPid,aAAc,CACV,CAAE7V,KAAM,iBAAkB+F,KAAM,CAAC,cAAe+P,UAAU,EAAMC,YAAY,GAC5E,CAAE/V,KAAM,QAAS+F,KAAM,CAAC,SAAU+P,UAAU,EAAMC,YAAY,GAC9D,CAAE/V,KAAM,QAAS+F,KAAM,CAAEkB,QAAW,CAAC,YAAa,aAAe6O,UAAU,EAAMC,YAAY,GAC7F,CAAE/V,KAAM,QAAS+F,KAAM,CAAC,SAAU+P,UAAU,EAAMuE,OAAQ,OAAQtE,YAAY,GAC9E,CAAE/V,KAAM,gBAAiB+F,KAAM,CAAC,iBAKjB,SAAChH,GACxB,MAAO,CACHmX,UAAW,WACPnX,EAASiH,IAAKgV,kBAKJrc,CAA6C4W,KCZ9C0F,eACjB,SAAAA,EAAYvjB,GAAmB,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAmjB,IAC3BtjB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAqjB,GAAAhjB,KAAAH,KAAMJ,KAEIA,MAAMyM,OAAUxM,EAAKD,MAAMgN,SACjC/M,EAAKD,MAAMwjB,aAJYvjB,iFAS3B,IAAIwjB,EAAoB,GADFja,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IAEtB,QAAAsF,EAAAC,EAAsBxJ,KAAKJ,MAAMyM,MAAMiX,UAAvC7Z,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAiE,KAAxDkL,EAAwD/K,EAAAxH,MAC7DshB,EAAkB1W,KACdlH,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,CAAKjL,UAAU,YACXqF,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,SACbkU,EAASiP,KAEd9d,EAAAlF,EAAAC,cAACb,EAAA,EAAD,KACI8F,EAAAlF,EAAAC,cAAA,OAAKgjB,wBAAyB,CAAEC,OAAQnP,EAASpM,MAAQ,OAE3DoM,EAASoP,cAAiBje,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,SAAlB,OAA+BkU,EAASoP,eAA0B,MAXpF,MAAA1Z,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,GAgBtB,OAAO+Z,mCAIP,OAAIrjB,KAAKJ,MAAMgN,UAAY5M,KAAKJ,MAAMyM,MAE9B5G,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,cAAa2E,EAAAlF,EAAAC,cAAC+a,EAAA,EAAD,QAI7Bvb,KAAKJ,MAAMyM,MAAMsX,qBAAqB5f,OACtC/D,KAAKJ,MAAMyM,MAAMsX,UAAY,CAAC3jB,KAAKJ,MAAMyM,MAAMsX,YAI/Cle,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAOd,KAAKJ,MAAMyM,MAAMvL,OAC1B2E,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,iBACT2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,mBACXqF,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,QAAQnB,MAAM,SAAUd,KAAKJ,MAAMyM,MAAMvL,OACvD2E,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,WAAWnB,MAAM,SAA/B,GAAAI,OAA2ClB,KAAKJ,MAAMyM,MAAM8C,QAAQxB,UAApE,KAAAzM,OAAiFlB,KAAKJ,MAAMyM,MAAM8C,QAAQvB,WAC1GnI,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,aAAanB,MAAM,kBAAmBd,KAAKJ,MAAMyM,MAAM+C,YACrE3J,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,kBAAkBnB,MAAM,iBAAiBd,KAAKJ,MAAMyM,MAAMuX,iBACxEne,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,iBAAiBnB,MAAM,iBAC/Bd,KAAKJ,MAAMyM,MAAMsX,UAAa3jB,KAAKJ,MAAMyM,MAAMsX,UAAU5iB,IAAI,SAACuL,GAC5D,OAAO7G,EAAAlF,EAAAC,cAAA,QAAMJ,UAAU,yBAAyBkM,EAAK+E,wBACpD,OAKrB5L,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,WACT2E,EAAAlF,EAAAC,cAAA,KAAG6O,OAAO,SAAS1H,KAAI,uDAAAzG,OAAyDlB,KAAKJ,MAAMyM,MAAM+N,SAAWha,UAAU,qCAAtH,yBAIZqF,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,OACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,cACT2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,mBACVJ,KAAK6jB,kBACNpe,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,CAAKjL,UAAU,YACXqF,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,UAElBqF,EAAAlF,EAAAC,cAACb,EAAA,EAAD,KACI8F,EAAAlF,EAAAC,cAAA,wBAEJiF,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,SAAlB,OACSJ,KAAKJ,MAAMyM,MAAMyX,qBA3E1BpjB,aAwGvBqjB,GAAQld,YAjBG,SAAC1D,EAAcvD,GACnC,MAAO,CACHyM,MAAOlJ,EAAM6D,KAAKgQ,OAAO9H,KAAKtP,EAAM8H,MAAMqb,OAAO9gB,IACjD2K,QAASzJ,EAAM6D,KAAKgQ,OAAOpK,UAIR,SAAC3F,EAAsDrH,GAC9E,MAAO,CACHwjB,WAAY,WACRnc,EAASiH,IAAKgV,kBAOLrc,CAA6Csc,IC5FrDa,GAAiBnd,YAxBN,SAAC1D,GACrB,MAAO,CACH6D,KAAM7D,EAAM6D,KAAK+Q,eACjBjX,MAAO,uBACPgd,aAAc,mBACdC,aAAc,CACV,CAAE7V,KAAM,QAAS+F,KAAM,CAAC,QAAS+P,UAAU,GAC3C,CAAE9V,KAAM,aAAc+F,KAAM,CAAE5B,MAAS,CAAC,eAAiB2R,UAAU,EAAMC,YAAY,GACrF,CAAE/V,KAAM,gBAAiB+F,KAAM,CAAE5B,MAAS,CAAC,UAAY2R,UAAU,EAAMC,YAAY,GACnF,CAAE/V,KAAM,YAAa+F,KAAM,CAAEgW,QAAW,CAAC,gBAAkBjG,UAAU,EAAMC,YAAY,GACvF,CAAE/V,KAAM,SAAU+F,KAAM,CAAC,SAAU+P,UAAU,MAK9B,SAAC/W,GACxB,MAAO,CACHmX,UAAW,WACPnX,EAASiH,IAAKgW,0BAMIrd,CAA6C4W,eCtBtD0G,eACjB,SAAAA,EAAYvkB,GAAmB,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAmkB,IAC3BtkB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAqkB,GAAAhkB,KAAAH,KAAMJ,KAEDwkB,YAAcvkB,EAAKukB,YAAYthB,KAAjBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAHQA,6EAOvBG,KAAKJ,MAAMykB,QACXrkB,KAAKJ,MAAMykB,0CAKf,OACI5e,EAAAlF,EAAAC,cAAC8jB,GAAA,EAAD,CAAgBC,KAAMvkB,KAAKJ,MAAM2kB,KAAMF,OAAQrkB,KAAKokB,YAAaI,gBAAgB,YAC7E/e,EAAAlF,EAAAC,cAAC8jB,GAAA,EAAe1d,OAAhB,CAAuB6d,aAAW,GAC7BzkB,KAAKJ,MAAMgB,QAEhB6E,EAAAlF,EAAAC,cAAC8jB,GAAA,EAAeI,KAAhB,KACK1kB,KAAKJ,MAAM+kB,MAEhBlf,EAAAlF,EAAAC,cAAC8jB,GAAA,EAAeM,OAAhB,KACK5kB,KAAKJ,MAAMilB,gBAvBGnkB,iCCQtBokB,GAAb,SAAA7e,GACI,SAAA6e,EAAYllB,GAAiD,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAA8kB,IACzDjlB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAglB,GAAA3kB,KAAAH,KAAMJ,KAEDmlB,mBAAqBllB,EAAKklB,mBAAmBjiB,KAAxBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAC1BA,EAAKmlB,4BAA8BnlB,EAAKmlB,4BAA4BliB,KAAjChD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACnCA,EAAKolB,UAAYplB,EAAKolB,UAAUniB,KAAfhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACjBA,EAAKqlB,UAAYrlB,EAAKqlB,UAAUpiB,KAAfhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAEjBA,EAAKsD,MAAQ,CAAEgiB,WAAW,GAR+BtlB,EADjE,OAAAC,OAAAsG,EAAA,EAAAtG,CAAAglB,EAAA7e,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAAglB,EAAA,EAAAhjB,IAAA,qBAAAC,MAAA,SAY+ByB,GACvB,GAAIA,EAAMke,cAAcC,YAAcne,EAAMke,cAAcC,WAAWA,YAAcne,EAAMke,cAAcC,WAAWA,WAAWC,cAAe,CACxI,IAAI3f,EAAKuB,EAAMke,cAAcC,WAAWA,WAAWC,cAAcC,aAAa,YAC1E5f,GACAjC,KAAK6D,SAAS,CACVuhB,qBAAsBplB,KAAKJ,MAAMoH,KAAKkI,KAAKjN,GAC3CkjB,WAAW,OAlB/B,CAAArjB,IAAA,8BAAAC,MAAA,WAyBY/B,KAAKmD,MAAMiiB,uBACXplB,KAAKJ,MAAMylB,OAAOrlB,KAAKmD,MAAMiiB,qBAAqBnjB,IAClDjC,KAAK6D,SAAS,CACVuhB,0BAAsBnhB,EACtBkhB,WAAW,OA7B3B,CAAArjB,IAAA,YAAAC,MAAA,WAmCQ/B,KAAK6D,SAAS,CACVshB,WAAW,MApCvB,CAAArjB,IAAA,YAAAC,MAAA,WAyCQ/B,KAAK6D,SAAS,CACVshB,WAAW,MA1CvB,CAAArjB,IAAA,cAAAC,MAAA,WA+CQ,OAAI/B,KAAKmD,MAAMiiB,qBAEP3f,EAAAlF,EAAAC,cAAC8kB,GAAD,CACIf,KAAMvkB,KAAKmD,MAAMgiB,UACjBd,OAAQrkB,KAAKklB,UACbtkB,OAAQ6E,EAAAlF,EAAAC,cAAA,UAAMR,KAAKmD,MAAMiiB,qBAAsCjZ,OAAOwB,UAAY,IAAO3N,KAAKmD,MAAMiiB,qBAAsCjZ,OAAOyB,SAAW,SAAY5N,KAAKmD,MAAMiiB,qBAAsC9Y,KAAK+E,sBAC9NsT,KACIlf,EAAAlF,EAAAC,cAAA,YAEQ,sCACCR,KAAKmD,MAAMiiB,qBAAsCjZ,OAAOwB,UAAY,IAAO3N,KAAKmD,MAAMiiB,qBAAsCjZ,OAAOyB,SACpI,SAAY5N,KAAKmD,MAAMiiB,qBAAsC9Y,KAAK+E,qBAAuB,4BACxFrR,KAAKmD,MAAMiiB,qBAAsC3D,OAAS,yBAIvEoD,OACIpf,EAAAlF,EAAAC,cAAC+kB,GAAA,EAAD,KACI9f,EAAAlF,EAAAC,cAACglB,GAAA,EAAD,CAAQ/C,QAAQ,SAAShc,QAASzG,KAAKglB,6BAAvC,cACAvf,EAAAlF,EAAAC,cAACglB,GAAA,EAAD,CAAQ/C,QAAQ,YAAYhc,QAASzG,KAAKklB,WAA1C,gBAQb,OA1Ef,CAAApjB,IAAA,SAAAC,MAAA,WA8EQ,OACI0D,EAAAlF,EAAAC,cAACid,EAAA,EAAD,CACI3c,MAAM,qBACNgd,aAAa,iBACb2H,WAAY,CACRhgB,EAAAlF,EAAAC,cAAA,UAAQJ,UAAU,wBAAwB2F,UAAW/F,KAAK+kB,oBAAoBtf,EAAAlF,EAAAC,cAACkiB,GAAA,EAAD,CAAiB/b,KAAK,YAExGoX,aAAc,CACV,CAAE7V,KAAM,WAAY+F,KAAM,CAAE9B,OAAU,CAAC,YAAa,aAAe6R,UAAU,EAAMC,YAAY,GAC/F,CAAE/V,KAAM,QAAS+F,KAAM,CAAC,QAAS+P,UAAU,GAC3C,CAAE9V,KAAM,SAAU+F,KAAM,CAAC,UAAW+P,UAAU,EAAMuE,OAAQ,QAC5D,CAAEra,KAAM,eAAgB+F,KAAM,CAAC,eAAgB+P,UAAU,EAAOC,YAAY,GAC5E,CAAE/V,KAAM,YAAa+F,KAAM,CAAEgW,QAAW,CAAC,gBAAkBjG,UAAU,GACrE,CAAE9V,KAAM,YAAa+F,KAAM,CAAC,YAAa+P,UAAU,GACnD,CAAE9V,KAAM,aAAc+F,KAAM,CAAC,SAAU+P,UAAU,IAErDhX,KAAMhH,KAAKJ,MAAMoH,KACjBoX,UAAWpe,KAAKJ,MAAMwe,UACtB1R,QAAS1M,KAAKJ,MAAM8M,SAEnB1M,KAAK0lB,mBAlGtBZ,EAAA,CAAoCpkB,aA0HvBilB,GAAgB9e,YAlBL,SAAC1D,GACrB,MAAO,CACH6D,KAAM7D,EAAM6D,KAAKiF,sBAIE,SAAChF,GACxB,MAAO,CACHmX,UAAW,WACPnX,EAASiH,IAAK0X,6BAElBP,OAAQ,SAACpjB,GACLgF,EAASiH,IAAK2X,wBAAwB5jB,OAMrB4E,CAA6Cie,cCtH7DgB,GAAb,SAAA7f,GACI,SAAA6f,EAAYlmB,GAAmB,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAA8lB,IAC3BjmB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAgmB,GAAA3lB,KAAAH,KAAMJ,KACDuD,MAAQ,CACT4iB,QAAQ,GAHelmB,EADnC,OAAAC,OAAAsG,EAAA,EAAAtG,CAAAgmB,EAAA7f,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAAgmB,EAAA,EAAAhkB,IAAA,oBAAAC,MAAA,eAAAikB,EAAAlmB,OAAAmmB,EAAA,EAAAnmB,CAAAomB,EAAA3lB,EAAA4lB,KAAA,SAAAC,IAAA,OAAAF,EAAA3lB,EAAA8lB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA3c,MAAA,cAAA2c,EAAA3c,KAAA,EASc3J,KAAKJ,MAAMub,YATzB,OAUQnb,KAAK6D,SAAS,CACVkiB,QAAQ,IAXpB,wBAAAO,EAAAE,SAAAJ,EAAApmB,SAAA,yBAAAgmB,EAAA9f,MAAAlG,KAAAmG,YAAA,KAAArE,IAAA,SAAAC,MAAA,WAgBQ,OAAI/B,KAAKJ,MAAM2G,KAAKS,MAChBhH,KAAKJ,MAAM6mB,YAAY,wBACvBC,QAAQC,IAAI3mB,KAAKJ,MAAMob,UACnBhb,KAAKJ,MAAMob,SAAS7X,OAASnD,KAAKJ,MAAMob,SAAS7X,MAAM4X,aACvD/a,KAAKJ,MAAM8M,QAAQC,KAAK3M,KAAKJ,MAAMob,SAAS7X,MAAM4X,cAElD/a,KAAKJ,MAAM8M,QAAQC,KAAK,cAErB,MACA3M,KAAKJ,MAAM2G,KAAKqG,UAAY5M,KAAKmD,MAAM4iB,OACtCtgB,EAAAlF,EAAAC,cAAC+a,EAAA,EAAD,CAASqL,YAAY,KAEzB5mB,KAAKJ,MAAMob,SAAS7X,QAAUnD,KAAKJ,MAAMob,SAAS7X,MAAM0jB,aACxD7mB,KAAKJ,MAAMgb,UAAU,+BACrB5a,KAAKJ,MAAM8M,QAAQoa,QAAQ9mB,KAAKJ,MAAMob,SAASF,SAAUhb,OAAO+P,OAAO,GAAI7P,KAAKJ,MAAMob,SAAS7X,MAAO,CAAE0jB,YAAY,MAIpHphB,EAAAlF,EAAAC,cAAA,OAAKyB,GAAG,SACJwD,EAAAlF,EAAAC,cAAA,mBACAiF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,cACXqF,EAAAlF,EAAAC,cAAA,SAAOwB,KAAK,OAAOsN,KAAK,WAAWyX,YAAY,WAAW3mB,UAAU,iBACpEqF,EAAAlF,EAAAC,cAAA,SAAOwB,KAAK,WAAWsN,KAAK,WAAWyX,YAAY,WAAW3mB,UAAU,iBACxEqF,EAAAlF,EAAAC,cAAA,UAAQJ,UAAU,6BAAlB,UALR,OAQAqF,EAAAlF,EAAAC,cAAA,OAAMJ,UAAU,cACRqF,EAAAlF,EAAAC,cAAA,KAAGJ,UAAU,8BAA8BuH,KAAMiD,IAAOC,YAAc,qBAClEpF,EAAAlF,EAAAC,cAACkiB,GAAA,EAAD,CAAiB/b,KAAM,CAAC,MAAO,aAAcqgB,MAAO,CAAEC,YAAa,SADvE,mBA3CxBnB,EAAA,CAA4BplB,aA0EfwmB,GAAQrgB,YApBG,SAAC1D,GACrB,MAAO,CACHoD,KAAMpD,EAAM6D,KAAKT,OAIE,SAACU,GACxB,MAAO,CACHkU,UAAW,WACP,OAAOlU,EAASiH,IAAKiN,cAEzBP,UAAW,WAAsD,IAArDzY,EAAqDgE,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAA3C,0CAClBc,EAASrF,IAAGgZ,UAAUzY,KAE1BskB,YAAa,WAA0B,IAAzBtkB,EAAyBgE,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,GAAAA,UAAA,GAAf,WACpBc,EAASrF,IAAG6kB,YAAYtkB,OAKf0E,CAA6Cif,ICnErDqB,GAAQtgB,YApBG,SAAC1D,GACrB,MAAO,CACH6D,KAAM7D,EAAM6D,KAAKqO,MACjByI,aAAc,SACdhd,MAAO,WACPid,aAAc,CACV,CAAE7V,KAAM,OAAQ+F,KAAM,CAAC,eAAgB+P,UAAU,EAAMC,YAAY,GACnE,CAAE/V,KAAM,SAAU+F,KAAM,CAAC,SAAU+P,UAAU,EAAMC,YAAY,MAKhD,SAAChX,GACxB,MAAO,CACHmX,UAAW,WACPnX,EAASiH,IAAKkZ,iBAKLvgB,CAA6C4W,KCPrD4J,GAAb,SAAAphB,GACI,SAAAohB,EAAYznB,GAAkB,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAqnB,IAC1BxnB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAunB,GAAAlnB,KAAAH,KAAMJ,KACDA,MAAMwnB,aAFevnB,EADlC,OAAAC,OAAAsG,EAAA,EAAAtG,CAAAunB,EAAAphB,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAAunB,EAAA,EAAAvlB,IAAA,kBAAAC,MAAA,WAOQ,IAAK/B,KAAKJ,MAAM2G,KAAK+U,aACjB,OAAQ7V,EAAAlF,EAAAC,cAAA,sCAGZ,IAAI2O,EAAUnP,KAAKJ,MAAM2G,KAAK+U,aAC9B,OACI7V,EAAAlF,EAAAC,cAAA,WACIiF,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,UAAUnB,MAAM,MAAMqO,EAAQiL,SAC5C3U,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,YAAYnB,MAAM,WAAWqO,EAAQxB,WACnDlI,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,WAAWnB,MAAM,YAAYqO,EAAQvB,UACnDnI,EAAAlF,EAAAC,cAAC6a,EAAA,EAAD,CAAM7T,GAAI,YAAc2H,EAAQlN,GAAI7B,UAAU,qCAA9C,qBACAqF,EAAAlF,EAAAC,cAAA,KAAG6O,OAAO,SAAS1H,KAAM,sDAAwDwH,EAAQiL,QAASha,UAAU,qCAA5G,yBAlBhB,CAAA0B,IAAA,iBAAAC,MAAA,WAwBQ,IAAIoH,EAA6C,GAEjD,IAAK,IAAI6C,KAAKhM,KAAKJ,MAAM2G,KAAK4C,MAC1BA,EAAMwD,KAAK,CAAE9C,KAAM7J,KAAKJ,MAAM2G,KAAK4C,MAAM6C,GAAI/J,GAAI+J,IAGrD,OACIvG,EAAAlF,EAAAC,cAAC8hB,GAAA,EAAD,CACI/Q,QAAS,CACL,CAAErJ,KAAM,OAAQ+F,KAAM,CAAC,UAE3BjH,KAAMmC,MAnCtB,CAAArH,IAAA,SAAAC,MAAA,WAyCQ,OAAI/B,KAAKJ,MAAMgN,UAAY5M,KAAKJ,MAAM2G,KAE9Bd,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,cAAa2E,EAAAlF,EAAAC,cAAC+a,EAAA,EAAD,OAK7B9V,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAOd,KAAKJ,MAAM2G,KAAKC,aACzBf,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,4BACT2E,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,cAAcnB,MAAM,QAAQd,KAAKJ,MAAM2G,KAAKC,cAE9Df,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,UACRd,KAAKsnB,mBAGd7hB,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,uBACRd,KAAKunB,0BA5DlCF,EAAA,CAA2B3mB,aAqGd8mB,GAAO3gB,YAhCI,SAAC1D,EAAcvD,GACnC,MAAgC,QAA5BA,EAAMob,SAASF,SACR,CACHvU,KAAMpD,EAAM6D,KAAKT,KAAKS,KACtB4F,QAASzJ,EAAM6D,KAAKT,KAAKqG,SAI1B,CACHrG,KAAMpD,EAAM6D,KAAKqO,MAAMnG,KAAKtP,EAAM8H,MAAMqb,OAAO9gB,IAC/C2K,QAASzJ,EAAM6D,KAAKqO,MAAMzI,UAIP,SAAC3F,EAAsDrH,GAC9E,MAAgC,QAA5BA,EAAMob,SAASF,SACR,CACHsM,WAAY,WACRngB,EAASiH,IAAKiN,eAKnB,CACHiM,WAAY,WACRngB,EAASiH,IAAKkZ,iBAONvgB,CAA6CwgB,ICvGpDI,GAAb,SAAAxhB,GACI,SAAAwhB,EAAY7nB,GAAyB,IAAAC,EAGjC,GAHiCC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAynB,IACjC5nB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAA2nB,GAAAtnB,KAAAH,KAAMJ,KAEGA,MAAMqf,wBAAwBC,MAAO,CAC1C,IAAIC,EAAa,GADyB/V,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IAE1C,QAAAsF,EAAAC,EAAkB3J,EAAKD,MAAMqf,aAA7BxV,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA2C,KAAlCiD,EAAkC9C,EAAAxH,MACvCod,EAAWxS,KAAK,CACZ5K,MAAOsK,EAAMpK,GAAGyG,WAChBwI,MAAO7E,EAAMvL,SALqB,MAAAkJ,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,GAS1CzJ,EAAKsD,MAAQ,CACTpB,MAAOod,QAGXtf,EAAKsD,MAAQ,GAhBgB,OAAAtD,EADzC,OAAAC,OAAAsG,EAAA,EAAAtG,CAAA2nB,EAAAxhB,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAA2nB,EAAA,EAAA3lB,IAAA,4BAAAC,MAAA,SAqBqCqd,GAC7B,GAAIA,EAAUH,wBAAwBC,MAAO,CACzC,IAAIC,EAAa,GADwBzI,GAAA,EAAAC,GAAA,EAAAC,OAAA3S,EAAA,IAEzC,QAAA4S,EAAAC,EAAkBsI,EAAUH,aAA5BxV,OAAAC,cAAAgN,GAAAG,EAAAC,EAAAnN,QAAAC,MAAA8M,GAAA,EAA0C,KAAjCrK,EAAiCwK,EAAA9U,MAClCsK,EAAM4M,eAAe,OACrBkG,EAAWxS,KAAK,CACZ5K,MAAOsK,EAAMpK,GAAGyG,WAChBwI,MAAO7E,EAAMvL,SANgB,MAAAkJ,GAAA2M,GAAA,EAAAC,EAAA5M,EAAA,YAAA0M,GAAA,MAAAI,EAAA7M,QAAA6M,EAAA7M,SAAA,WAAA0M,EAAA,MAAAC,GAWzC5W,KAAK6D,SAAS,CACV9B,MAAOod,OAlCvB,CAAArd,IAAA,qBAAAC,MAAA,WAwCY/B,KAAKJ,MAAMoX,OAAOhJ,IAAI/M,OAAS,GAC/BjB,KAAKJ,MAAMsjB,gBAzCvB,CAAAphB,IAAA,iBAAAC,MAAA,WA8CQ,IAAIkN,EAAU,GACd,GAAInP,OAAOmO,KAAKjO,KAAKJ,MAAMoX,OAAO9H,MAAMjO,OAAS,EAC7C,IAAK,IAAI+K,KAAKhM,KAAKJ,MAAMoX,OAAO9H,KAAM,CAClC,IAAI7C,EAAQrM,KAAKJ,MAAMoX,OAAO9H,KAAKlD,GACnCiD,EAAQtC,KAAK,CACTuE,MAAO7E,EAAMvL,MACbiB,MAAOiK,IAKnB,OAAOiD,IAzDf,CAAAnN,IAAA,WAAAC,MAAA,SA4DqB2O,GACb,IAAI4O,EAA+C,CAAC5O,GAChD1Q,KAAKJ,MAAMoR,UACXsO,EAAM5O,GAGV1Q,KAAK6D,SAAS,CACV9B,MAAOud,IAGX,IAAItI,EAAS,GAVkDrB,GAAA,EAAAC,GAAA,EAAAC,OAAA5R,EAAA,IAW/D,QAAA6R,EAAAC,EAAcuJ,EAAd7V,OAAAC,cAAAiM,GAAAG,EAAAC,EAAApM,QAAAC,MAAA+L,GAAA,EAAmB,KAAV4J,EAAUzJ,EAAA/T,MACfiV,EAAOrK,KAAK3M,KAAKJ,MAAMoX,OAAO9H,KAAKqQ,EAAExd,SAZsB,MAAAiI,GAAA4L,GAAA,EAAAC,EAAA7L,EAAA,YAAA2L,GAAA,MAAAI,EAAA9L,QAAA8L,EAAA9L,SAAA,WAAA2L,EAAA,MAAAC,GAc3D7V,KAAKJ,MAAMqQ,WACPjQ,KAAKJ,MAAMoR,QACXhR,KAAKJ,MAAMqQ,SAAS+G,GAEpBhX,KAAKJ,MAAMqQ,SAAS+G,EAAO,OA9E3C,CAAAlV,IAAA,eAAAC,MAAA,WAoFQ,OAAI/B,KAAKJ,MAAMoR,QACJhR,KAAKmD,MAAMpB,OAAS,IAGvB/B,KAAKmD,MAAMpB,OAAS,IAAI,KAxFxC,CAAAD,IAAA,SAAAC,MAAA,WA2FoB,IAAA0C,EAAAzE,KACZ,OAAKA,KAAKJ,MAAMgN,QAcT,KAbKnH,EAAAlF,EAAAC,cAACgf,GAAA,EAAD,CACJzP,IAAK,SAACgB,GAAsBtM,EAAK7E,MAAMmQ,KAAKtL,EAAK7E,MAAMmQ,IAAIgB,IAC3D0O,aAAa,EACbxQ,QAASjP,KAAK0f,iBACdC,uBAAuB,EACvBC,qBAAqB,EACrBC,iBAAiB,EACjB7O,QAAShR,KAAKJ,MAAMoR,UAAW,EAC/Bf,SAAUjQ,KAAKiQ,SAASnN,KAAK9C,MAC7B+B,MAAO/B,KAAK8f,qBAtG5B2H,EAAA,CAAkC/mB,aA8HrBgnB,GAAc7gB,YAhBH,SAAC1D,EAAcvD,GACnC,MAAO,CACHoX,OAAQ7T,EAAM6D,KAAKgQ,OACnBpK,QAASzJ,EAAM6D,KAAKgQ,OAAOpK,UAIR,SAAC3F,EAAsDrH,GAC9E,MAAO,CACHsjB,YAAa,WACTjc,EAASiH,IAAKgV,kBAMCrc,CAA6C4gB,sBCvF3DE,GAAb,SAAA1hB,GAGI,SAAA0hB,EAAY/nB,GAA2B,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAA2nB,IACnC9nB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAA6nB,GAAAxnB,KAAAH,KAAMJ,KAEDgoB,QAAU/nB,EAAK+nB,QAAQ9kB,KAAbhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACfA,EAAKgoB,QAAUhoB,EAAKgoB,QAAQ/kB,KAAbhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACfA,EAAKioB,YAAcjoB,EAAKioB,YAAYhlB,KAAjBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAEnBA,EAAKqZ,cAAgBrZ,EAAKD,MAAMmY,eAAe7I,KAAKS,SAAS9P,EAAKD,MAAM8H,MAAMqb,OAAO9gB,KACrFpC,EAAKkoB,kBAAoBloB,EAAKkoB,kBAAkBjlB,KAAvBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACzBA,EAAKygB,QAAUzgB,EAAKygB,QAAQxd,KAAbhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACfA,EAAKmoB,kBAAoBnoB,EAAKmoB,kBAAkBllB,KAAvBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACzBA,EAAKiP,cAAgBjP,EAAKiP,cAAchM,KAAnBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAErBA,EAAKooB,uBAAyBpoB,EAAKooB,uBAAuBnlB,KAA5BhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAC9BA,EAAKklB,mBAAqBllB,EAAKklB,mBAAmBjiB,KAAxBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAC1BA,EAAKmlB,4BAA8BnlB,EAAKmlB,4BAA4BliB,KAAjChD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACnCA,EAAKqoB,iBAAmBroB,EAAKqoB,iBAAiBplB,KAAtBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAExBA,EAAKolB,UAAYplB,EAAKolB,UAAUniB,KAAfhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACjBA,EAAKqlB,UAAYrlB,EAAKqlB,UAAUpiB,KAAfhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAEbA,EAAKqZ,gBACLrZ,EAAKsD,MAAQ,CACTglB,iBAAiB,EACjB9b,MAAQxM,EAAKqZ,cAAc7M,MAC3BC,KAAMzM,EAAKqZ,cAAc5M,KACzBT,IAAKhM,EAAKqZ,cAAcrN,IACxBC,QAASjM,EAAKqZ,cAAcpN,QAC5BS,KAAM1M,EAAKqZ,cAAc3M,KACzBC,QAAS3M,EAAKqZ,cAAc1M,QAC5B2Y,WAAW,IA9BgBtlB,EAH3C,OAAAC,OAAAsG,EAAA,EAAAtG,CAAA6nB,EAAA1hB,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAA6nB,EAAA,EAAA7lB,IAAA,4BAAAC,MAAA,SAsCqCqd,GAC7Bpf,KAAKkZ,cAAgBkG,EAAUrH,eAAe7I,KAAKS,SAASyP,EAAU1X,MAAMqb,OAAO9gB,KAE/EjC,KAAKkZ,eACLlZ,KAAK6D,SAAS,CACVwI,MAAQrM,KAAKkZ,cAAc7M,MAC3BC,KAAMtM,KAAKkZ,cAAc5M,KACzBT,IAAK7L,KAAKkZ,cAAcrN,IACxBC,QAAS9L,KAAKkZ,cAAcpN,QAC5BS,KAAMvM,KAAKkZ,cAAc3M,KACzBC,QAASxM,KAAKkZ,cAAc1M,YAhD5C,CAAA1K,IAAA,qBAAAC,MAAA,WAsDQ/B,KAAKJ,MAAMskB,sBACXlkB,KAAKJ,MAAMsjB,gBAvDnB,CAAAphB,IAAA,UAAAC,MAAA,WA2DQ/B,KAAKJ,MAAMgoB,QAAQ5nB,KAAKkZ,cAAcjX,GAAGyG,cA3DjD,CAAA5G,IAAA,UAAAC,MAAA,WA+DQ/B,KAAKJ,MAAMioB,QAAQ7nB,KAAKkZ,cAAcjX,GAAGyG,cA/DjD,CAAA5G,IAAA,oBAAAC,MAAA,SAkE6ByB,GACrBxD,KAAK6D,SAAS,CACVskB,iBAAiB,MApE7B,CAAArmB,IAAA,UAAAC,MAAA,SAwEmByB,GACXxD,KAAK6D,SAAS,CACVskB,iBAAiB,EACjB9b,MAAQrM,KAAKkZ,cAAc7M,MAC3BC,KAAMtM,KAAKkZ,cAAc5M,KACzBT,IAAK7L,KAAKkZ,cAAcrN,IACxBC,QAAS9L,KAAKkZ,cAAcpN,QAC5BS,KAAMvM,KAAKkZ,cAAc3M,KACzBC,QAASxM,KAAKkZ,cAAc1M,YAhFxC,CAAA1K,IAAA,oBAAAC,MAAA,SAoF6ByB,GACrBxD,KAAKJ,MAAMwoB,KAAK,CACZnmB,GAAIjC,KAAKkZ,cAAcjX,GAAGyG,WAC1B4D,KAAMtM,KAAKmD,MAAMmJ,KACjBR,QAAS9L,KAAKmD,MAAM2I,QACpBD,IAAK7L,KAAKmD,MAAM0I,IAChBU,KAAMvM,KAAKmD,MAAMoJ,KACjBH,QAASpM,KAAKmD,MAAMkJ,MAAMpK,GAC1BuK,QAASxM,KAAKmD,MAAMqJ,UAGxBxM,KAAK6D,SAAS,CACVskB,iBAAiB,MAhG7B,CAAArmB,IAAA,gBAAAC,MAAA,SAoG0ByB,GAClB,IAII6kB,EAJEhZ,EAAS7L,EAAM6L,OACftN,EAAwB,aAAhBsN,EAAOrN,KAAuBqN,EAA4BmB,QAAUnB,EAAOtN,MACnFE,EAAKoN,EAAOpN,GAGE,SAAhBoN,EAAOrN,MAAoC,kBAAVD,IACjCsmB,EAAY,IAAItkB,KAAKhC,IAIzB/B,KAAK6D,SAAL/D,OAAAmhB,EAAA,EAAAnhB,CAAA,GACKmC,EAAKomB,GAAatmB,MAhH/B,CAAAD,IAAA,iBAAAC,MAAA,SAoH0BoB,GAAuD,IAAAsB,EAAAzE,KACzE,OAAO,SAACoiB,GAEJ3d,EAAKZ,SAAL/D,OAAAmhB,EAAA,EAAAnhB,CAAA,GAAiBqD,EAAQif,OAvHrC,CAAAtgB,IAAA,cAAAC,MAAA,SA2HuByB,GACf,GAAIA,EAAMke,cAAcC,YAAcne,EAAMke,cAAcC,WAAWA,YAAcne,EAAMke,cAAcC,WAAWA,WAAWC,cAAe,CACxI,IAAI3f,EAAKuB,EAAMke,cAAcC,WAAWA,WAAWC,cAAcC,aAAa,YAG1D,GAAhBre,EAAMse,OACNC,OAAOzb,KAAM0b,SAAShH,SAAsBiH,OAAS,iBAAmBhgB,GAExEjC,KAAKJ,MAAM8M,QAAQC,KAAK,iBAAmB1K,MAnI3D,CAAAH,IAAA,qBAAAC,MAAA,SAwI+ByB,GACvB,GAAIA,EAAMke,cAAcC,YAAcne,EAAMke,cAAcC,WAAWA,YAAcne,EAAMke,cAAcC,WAAWA,WAAWC,cAAe,CACxI,IAAI3f,EAAKuB,EAAMke,cAAcC,WAAWA,WAAWC,cAAcC,aAAa,YAC1E5f,GACAjC,KAAK6D,SAAS,CACVuhB,qBAAsBplB,KAAKkZ,cAAc4H,cAAc5G,KAAK,SAACoO,GAAD,OAAgCA,EAAarmB,KAAO0N,SAAS1N,GAAM,MAC/HkjB,WAAW,OA9I/B,CAAArjB,IAAA,8BAAAC,MAAA,WAqJY/B,KAAKmD,MAAMiiB,uBACXplB,KAAKJ,MAAMmlB,mBAAmB/kB,KAAKmD,MAAMiiB,qBAAqBnjB,IAC9DjC,KAAK6D,SAAS,CACVuhB,0BAAsBnhB,EACtBkhB,WAAW,IAEfnlB,KAAKJ,MAAMskB,yBA3JvB,CAAApiB,IAAA,mBAAAC,MAAA,SA+J6BiF,GACrB,IAAIiF,EAA6D,GACjE,IAAK,IAAID,KAAKhF,EAAKkF,IACfD,EAAoBU,KAAK3F,EAAKkF,IAAIF,IAGtChM,KAAKJ,MAAM2oB,uBAAuB,CAC9BC,gBAAiBxoB,KAAKkZ,cAAcjX,GACpCwmB,QAASxc,IAGbjM,KAAKklB,cA1Kb,CAAApjB,IAAA,YAAAC,MAAA,WA8KQ/B,KAAK6D,SAAS,CACVshB,WAAW,MA/KvB,CAAArjB,IAAA,YAAAC,MAAA,WAwLQ,OAJA/B,KAAK6D,SAAS,CACVshB,WAAW,KAGR,IAxLf,CAAArjB,IAAA,+BAAAC,MAAA,WA4LQ,IAAI+e,EAAkD,GADpB1X,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IAElC,QAAAsF,EAAAC,EAA0BxJ,KAAKkZ,cAAc4H,cAA7CrX,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAyF,KAAhFkf,EAAgF/e,EAAAxH,MACrF+e,EAAcwH,EAAarmB,IAAMqmB,GAHH,MAAAte,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,GAKlC,OAAOwX,IAhMf,CAAAhf,IAAA,gBAAAC,MAAA,WAoMQ,IAAIlB,EAAU,GAad,MAZiC,YAA7Bb,KAAKkZ,cAAc/V,QACnBnD,KAAKJ,MAAM2G,KAAK4C,MAAMW,SAASvK,IAAUmpB,yBACzC1oB,KAAKJ,MAAM2G,KAAK4C,MAAMW,SAASvK,IAAUwK,SACzClJ,EAAQ8L,KACJlH,EAAAlF,EAAAC,cAAA,UAAQyB,GAAG,UAAU7B,UAAU,oCAAoCqG,QAASzG,KAAK4nB,SAAjF,eAQD/mB,IAjNf,CAAAiB,IAAA,cAAAC,MAAA,WAqNQ,OAAI/B,KAAKmD,MAAMglB,gBACJ1iB,EAAAlF,EAAAC,cAACknB,GAAD,CAAazI,aAAc,CAACjf,KAAKmD,MAAMkJ,OAAQ4D,SAAUjQ,KAAKsQ,eAAe,WAGhFtQ,KAAKmD,MAAMkJ,MAAgBvL,QAzN3C,CAAAgB,IAAA,YAAAC,MAAA,WA6NQ,OAAI/B,KAAKmD,MAAMglB,gBACJ1iB,EAAAlF,EAAAC,cAACmoB,GAAA,EAAD,CAAc1J,aAAcjf,KAAKmD,MAAM0I,IAAKmF,SAAS,EAAMf,SAAUjQ,KAAKsQ,eAAe,SAG7FtQ,KAAKmD,MAAM0I,IAAI9K,IAAI,SAAAC,GAAE,OAAIA,EAAG2M,UAAY,IAAM3M,EAAG4M,WAAU8D,KAAK,OAjO/E,CAAA5P,IAAA,gBAAAC,MAAA,WAqOQ,OAAI/B,KAAKmD,MAAMglB,gBACJ1iB,EAAAlF,EAAAC,cAACmoB,GAAA,EAAD,CAAc1J,aAAcjf,KAAKmD,MAAM2I,QAASkF,SAAS,EAAMf,SAAUjQ,KAAKsQ,eAAe,aAGjGtQ,KAAKmD,MAAM2I,QAAQ/K,IAAI,SAAA8M,GAAM,OAAIA,EAAOF,UAAY,IAAME,EAAOD,WAAU8D,KAAK,OAzO/F,CAAA5P,IAAA,qBAAAC,MAAA,WA6OQ,IAAI6mB,EAAmB,gBACU,YAA7B5oB,KAAKkZ,cAAc/V,QAAqBylB,EAAmB,iBAC9B,aAA7B5oB,KAAKkZ,cAAc/V,QAAsBylB,EAAmB,gBAEhE,IAAIjL,EAAe,GAYnB,OAXI3d,KAAKJ,MAAM2G,KAAK4C,MAAMW,SAASvK,IAAUwK,QACzC/J,KAAKJ,MAAM2G,KAAK4C,MAAMW,SAASvK,IAAUspB,sBACX,YAA7B7oB,KAAKkZ,cAAc/V,OAAuBnD,KAAKkZ,cAAc+K,QAAQhiB,KAAOjC,KAAKJ,MAAM2G,KAAKtE,MACxFjC,KAAKmD,MAAMglB,iBAGZxK,EAAahR,KAAKlH,EAAAlF,EAAAC,cAACod,EAAA,EAAD,CAAQjX,KAAK,OAAOF,QAASzG,KAAKgoB,qBACpDrK,EAAahR,KAAKlH,EAAAlF,EAAAC,cAACod,EAAA,EAAD,CAAQjX,KAAK,QAAQF,QAASzG,KAAKsgB,YAHrD3C,EAAahR,KAAKlH,EAAAlF,EAAAC,cAACod,EAAA,EAAD,CAAQjX,KAAK,aAAaF,QAASzG,KAAK+nB,sBAQ9DtiB,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,gBAAgBD,QAAS8c,EAAcvd,UAAYJ,KAAKmD,MAAMglB,gBAAmB,WAAa,IACvG1iB,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,aAAanB,MAAM,WAC5Bd,KAAK8oB,eAEVrjB,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,OAAOnB,MAAM,QAAQiB,MAAO/B,KAAKmD,MAAMmJ,KAAKyc,cAAcC,MAAM,KAAK,GAAIhnB,KAAK,OAAOsc,SAAUte,KAAKmD,MAAMglB,gBAAiBlY,SAAUjQ,KAAK8O,gBACxJrJ,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,UAAUnB,MAAM,aAAcd,KAAKkZ,cAAc+K,QAAiBzd,aAChFf,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,QAAQnB,MAAM,UAAS2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAW,SAAWwoB,GAAmB5oB,KAAKkZ,cAAc/V,QACtGsC,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,MAAMnB,MAAM,OACrBd,KAAKipB,aAEVxjB,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,UAAUnB,MAAM,UACzBd,KAAKkpB,iBAEVzjB,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,OAAOnB,MAAM,cAAciB,MAAO/B,KAAKmD,MAAMoJ,KAAMvK,KAAK,WAAWsc,SAAUte,KAAKmD,MAAMglB,gBAAiBlY,SAAUjQ,KAAK8O,gBACtIrJ,EAAAlF,EAAAC,cAACmiB,GAAD,CAAW1gB,GAAG,UAAUnB,MAAM,cAAciB,MAAO/B,KAAKmD,MAAMqJ,QAASxK,KAAK,WAAWsc,SAAUte,KAAKmD,MAAMglB,gBAAiBlY,SAAUjQ,KAAK8O,mBA5Q5J,CAAAhN,IAAA,kCAAAC,MAAA,WAkRQ,OAAI/B,KAAKmD,MAAMiiB,qBAEP3f,EAAAlF,EAAAC,cAAC8kB,GAAD,CACIf,KAAMvkB,KAAKmD,MAAMgiB,UACjBd,OAAQrkB,KAAKklB,UACbtkB,OAAQ6E,EAAAlF,EAAAC,cAAA,UAAMR,KAAKmD,MAAMiiB,qBAAsCjZ,OAAOwB,UAAY,IAAO3N,KAAKmD,MAAMiiB,qBAAsCjZ,OAAOyB,SAAW,SAAY5N,KAAKmD,MAAMiiB,qBAAsC9Y,KAAK+E,sBAC9NsT,KACIlf,EAAAlF,EAAAC,cAAA,YAEQ,sCACCR,KAAKmD,MAAMiiB,qBAAsCjZ,OAAOwB,UAAY,IAAO3N,KAAKmD,MAAMiiB,qBAAsCjZ,OAAOyB,SACpI,SAAY5N,KAAKmD,MAAMiiB,qBAAsC9Y,KAAK+E,qBAAuB,4BACxFrR,KAAKmD,MAAMiiB,qBAAsC3D,OAAS,yBAIvEoD,OACIpf,EAAAlF,EAAAC,cAAC+kB,GAAA,EAAD,KACI9f,EAAAlF,EAAAC,cAACglB,GAAA,EAAD,CAAQ/C,QAAQ,SAAShc,QAASzG,KAAKglB,6BAAvC,cACAvf,EAAAlF,EAAAC,cAACglB,GAAA,EAAD,CAAQ/C,QAAQ,YAAYhc,QAASzG,KAAKklB,WAA1C,gBAQb,OA7Sf,CAAApjB,IAAA,8BAAAC,MAAA,WAiTQ,OAAK/B,KAAKmD,MAAMiiB,qBAcT,KAZC3f,EAAAlF,EAAAC,cAAC8kB,GAAD,CACIf,KAAMvkB,KAAKmD,MAAMgiB,UACjBd,OAAQrkB,KAAKklB,UACbtkB,OAAQ6E,EAAAlF,EAAAC,cAAA,8CACRmkB,KACIlf,EAAAlF,EAAAC,cAAC2oB,GAAA,EAAD,CAAuB5d,OAAQvL,KAAKkoB,iBAAkBkB,WAAYppB,KAAKklB,YAE3EL,OAAQpf,EAAAlF,EAAAC,cAAA,gBA1T5B,CAAAsB,IAAA,yBAAAC,MAAA,WAmUQ,IAAIlB,EAAU,CAAC4E,EAAAlF,EAAAC,cAACglB,GAAA,EAAD,CAAQ/C,QAAQ,UAAUriB,UAAU,OAAO2F,UAAW/F,KAAK8nB,aAAariB,EAAAlF,EAAAC,cAACkiB,GAAA,EAAD,CAAiB/b,KAAK,UAM7G,OALI3G,KAAKJ,MAAM2G,KAAK4C,MAAMW,SAASvK,IAAUwK,QACzC/J,KAAKJ,MAAM2G,KAAK4C,MAAMW,SAASvK,IAAUspB,sBACX,YAA7B7oB,KAAKkZ,cAAc/V,OAAuBnD,KAAKkZ,cAAc+K,QAAQhiB,KAAOjC,KAAKJ,MAAM2G,KAAKtE,KAC7FpB,EAAQ8L,KAAKlH,EAAAlF,EAAAC,cAACglB,GAAA,EAAD,CAAQ/C,QAAQ,SAASriB,UAAU,SAAS2F,UAAW/F,KAAK+kB,oBAAoBtf,EAAAlF,EAAAC,cAACkiB,GAAA,EAAD,CAAiB/b,KAAK,YAEhH9F,IAzUf,CAAAiB,IAAA,SAAAC,MAAA,WA6UQ,OAAI/B,KAAKJ,MAAMgN,SAAY5M,KAAKkZ,eAAkBlZ,KAAKmD,MAKnDsC,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,uBACPd,KAAKqpB,kCACLrpB,KAAKspB,8BACN7jB,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACbJ,KAAKupB,sBAEV9jB,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,WACRd,KAAKwpB,mBAIlB/jB,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,KACI8F,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,MAAMD,QAAS,CAAC4E,EAAAlF,EAAAC,cAACod,EAAA,EAAD,CAAQjX,KAAK,OAAOF,QAASzG,KAAKilB,cAC3Dxf,EAAAlF,EAAAC,cAAC8hB,GAAA,EAAD,CACI/Q,QAAS,CACL,CAAErJ,KAAM,OAAQ+F,KAAM,CAAE9B,OAAU,CAAC,YAAa,aAAe6R,UAAU,GACzE,CAAE9V,KAAM,MAAO+F,KAAM,CAAC,QAASuD,OAAQ,qBAAsBwM,UAAU,GACvE,CAAE9V,KAAM,MAAO+F,KAAM,CAAC,SAAUuD,OAAQ,qBAAsBwM,UAAU,GACxE,CAAE9V,KAAM,aAAc+F,KAAM,CAAC,UAAW+P,UAAU,GAClD,CAAE9V,KAAM,SAAU+F,KAAM,CAAC,UAAWsU,OAAQ,OAAQvE,UAAU,GAC9D,CAAE9V,KAAM,aAAc+F,KAAM,CAAC,SAAU+P,UAAU,GACjD,CACI9V,KAAM,UAAW+F,KAAM,CAAC,OAAQxG,QAAShC,EAAAlF,EAAAC,cAAC+kB,GAAA,EAAD,KAAcvlB,KAAKioB,4BAGpExW,YAAa,CAAExD,KAAM,CAAC,QAASlJ,UAAW,OAC1CiC,KAAMhH,KAAKypB,qCAjCvBhkB,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,uBAAsB2E,EAAAlF,EAAAC,cAAC+a,EAAA,EAAD,WA9UtDoM,EAAA,CAAoCjnB,aAiavBgpB,GAAgB7iB,YAxCL,SAAC1D,EAAcvD,GACnC,MAAO,CACHmY,eAAgB5U,EAAM6D,KAAK+Q,eAC3BxR,KAAMpD,EAAM6D,KAAKT,KAAKS,KACtBgQ,OAAQ7T,EAAM6D,KAAKgQ,OACnBpK,QAASzJ,EAAM6D,KAAK+Q,eAAenL,SAAWzJ,EAAM6D,KAAKT,KAAKqG,SAAWzJ,EAAM6D,KAAKgQ,OAAOpK,UAIxE,SAAC3F,EAAsDrH,GAC9E,MAAO,CACHskB,oBAAqB,WACjBjd,EAASiH,IAAKgW,wBAElBhB,YAAa,WACTjc,EAASiH,IAAKgV,gBAElB0E,QAAS,SAAC3lB,GACNgF,EAASiH,IAAKyb,qBAAqB1nB,KAEvC4lB,QAAS,SAAC5lB,GACNgF,EAASiH,IAAK0b,qBAAqB3nB,KAEvCmmB,KAAM,SAACphB,GACHC,EAASiH,IAAK2b,kBAAkB7iB,KAEpC+d,mBAAoB,SAAC9iB,GACjBgF,EAASiH,IAAK2X,wBAAwB5jB,IAAK6nB,KAAK,WAC5C7iB,EAASiH,IAAKgW,0BAGtBqE,uBAAwB,SAACvhB,GACrBC,EAASiH,IAAK6b,uCAAuC/iB,IAAO8iB,KAAK,WAC7D7iB,EAASiH,IAAKgW,4BAODrd,CAA6C8gB,IC3c7DqC,GAAb,SAAA/jB,GAGI,SAAA+jB,EAAYpqB,GAAwH,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAgqB,IAChInqB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAkqB,GAAA7pB,KAAAH,KAAMJ,KAED0Q,eAAiBzQ,EAAKyQ,eAAexN,KAApBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACtBA,EAAKiP,cAAgBjP,EAAKiP,cAAchM,KAAnBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACrBA,EAAKwgB,OAASxgB,EAAKwgB,OAAOvd,KAAZhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAEdA,EAAKsD,MAAQ,CACTgJ,OAAQ,GACRG,KAAM,GACN6M,YAAa,IAV+GtZ,EAHxI,OAAAC,OAAAsG,EAAA,EAAAtG,CAAAkqB,EAAA/jB,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAAkqB,EAAA,EAAAloB,IAAA,oBAAAC,MAAA,WAkBQ/B,KAAKJ,MAAMgM,iBAlBnB,CAAA9J,IAAA,WAAAC,MAAA,WAsBQ,GAAI/B,KAAKwP,OAAQ,CACb,IAAIC,EAAQzP,KAAKwP,OAAOE,gBAGxB,OAFA1P,KAAKwP,OAAOpP,UAAY,gBAEjBqP,EAEX,OAAO,IA5Bf,CAAA3N,IAAA,iBAAAC,MAAA,SA+B2B2O,GACfA,EACA1Q,KAAK6D,SAAS,CACVsI,OAASuE,EAAyC3O,QAGtD/B,KAAK6D,SAAS,CACVsI,OAAQ,OAtCxB,CAAArK,IAAA,iBAAAC,MAAA,WA4CQ,IAAIkN,EAAU,GACd,GAAInP,OAAOmO,KAAKjO,KAAKJ,MAAMmO,QAAQmB,MAAMjO,OAAS,EAC9C,IAAK,IAAI+K,KAAKhM,KAAKJ,MAAMmO,QAAQmB,KAAM,CACnC,IAAI/C,EAASnM,KAAKJ,MAAMmO,QAAQmB,KAAKlD,GACrCiD,EAAQtC,KAAK,CACTuE,MAAQ/E,EAAOwB,UAAY,IAAMxB,EAAOyB,SACxC7L,MAAOiK,IAKnB,OAAOiD,IAvDf,CAAAnN,IAAA,gBAAAC,MAAA,SA0D0ByB,GAClB,IAAM6L,EAAS7L,EAAM6L,OACftN,EAAwB,aAAhBsN,EAAOrN,KAAsBqN,EAAOmB,QAAUnB,EAAOtN,MAC7DuN,EAAOD,EAAOC,KAGpBtP,KAAK6D,SAAL/D,OAAAmhB,EAAA,EAAAnhB,CAAA,GACKwP,EAAOvN,MAjEpB,CAAAD,IAAA,SAAAC,MAAA,SAqEmByB,GACXA,EAAMymB,iBACFjqB,KAAKwP,QACDxP,KAAKgP,aACLhP,KAAKJ,MAAM6L,KAAK,CACZU,OAAQnM,KAAKmD,MAAMgJ,OACnBG,KAAM,IAAIvI,KAAK/D,KAAKmD,MAAMmJ,MAC1B6M,YAAanZ,KAAKmD,MAAMgW,YACxBsI,OAAQzhB,KAAKmD,MAAMse,SAEvBzhB,KAAKJ,MAAM8M,QAAQC,KAAK,qBA/ExC,CAAA7K,IAAA,SAAAC,MAAA,WAoFoB,IAAA0C,EAAAzE,KACZ,OAAIA,KAAKJ,MAAMgN,SAAW5M,KAAKJ,MAAMmO,QAAQC,IAAI/M,OAAS,EAElDwE,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,kCACR2E,EAAAlF,EAAAC,cAAC+a,EAAA,EAAD,OAMR9V,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,kCACR2E,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,KACI8F,EAAAlF,EAAAC,cAACG,EAAA,EAAD,KACI8E,EAAAlF,EAAAC,cAAA,QAAMyB,GAAG,kBAAkB8N,IAAK,SAACA,GAA2BtL,EAAK+K,OAASO,IACtEtK,EAAAlF,EAAAC,cAAA,sBACAiF,EAAAlF,EAAAC,cAACgf,GAAA,EAAD,CACIC,aAAa,EACbxP,SAAUjQ,KAAKsQ,eACfrB,QAASjP,KAAKkqB,iBACdvK,uBAAuB,EACvBC,qBAAqB,EACrBC,iBAAiB,IAErBpa,EAAAlF,EAAAC,cAAA,WAEAiF,EAAAlF,EAAAC,cAAA,mBACAiF,EAAAlF,EAAAC,cAAA,SAAO8O,KAAK,OAAOtN,KAAK,OAAO5B,UAAU,eAAe2B,MAAO/B,KAAKmD,MAAMmJ,KAAM2D,SAAUjQ,KAAK8O,cAAeoB,UAAU,IACxHzK,EAAAlF,EAAAC,cAAA,WAEAiF,EAAAlF,EAAAC,cAAA,0BACAiF,EAAAlF,EAAAC,cAAA,SAAO8O,KAAK,cAActN,KAAK,OAAO5B,UAAU,eAAe2B,MAAO/B,KAAKmD,MAAMgW,YAAalJ,SAAUjQ,KAAK8O,cAAeoB,UAAU,IACtIzK,EAAAlF,EAAAC,cAAA,WAEAiF,EAAAlF,EAAAC,cAAA,oBACAiF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,oBACXqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,uBACXqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,oBAAf,QAEJqF,EAAAlF,EAAAC,cAAA,SAAOwB,KAAK,SAASmoB,KAAK,OAAO/pB,UAAU,eAAekP,KAAK,SAASvN,MAAO/B,KAAKmD,MAAMse,OAAQxR,SAAUjQ,KAAK8O,cAAeiY,YAAY,OAAO7W,UAAU,KAEjKzK,EAAAlF,EAAAC,cAAA,WAEAiF,EAAAlF,EAAAC,cAAA,UAAQJ,UAAU,4BAA4BqG,QAASzG,KAAKqgB,QAA5D,sBA/HhC2J,EAAA,CAAsCtpB,aA2JzB0pB,GAAkBvjB,YAlBP,SAAC1D,GACrB,MAAO,CACH4K,QAAS5K,EAAM6D,KAAK+G,QACpBnB,QAASzJ,EAAM6D,KAAK+G,QAAQnB,UAIT,SAAC3F,GACxB,MAAO,CACH2E,aAAc,WACV3E,EAASiH,IAAKtC,iBAElBH,KAAM,SAACzE,GACHC,EAASiH,IAAKmc,qBAAqBrjB,OAKhBH,CAA6CmjB,ICpKvDM,eAiCjB,SAAAA,EAAYne,EAAiB8X,EAAexC,EAAgBnV,GAAmG,IAAAzM,EAAvF0qB,EAAuFpkB,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,IAAAA,UAAA,GAA5Dob,EAA4Dpb,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,IAAAA,UAAA,GAApCqkB,EAAoCrkB,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EAAjBwmB,EAAiBtkB,UAAAlF,OAAA,EAAAkF,UAAA,QAAAlC,EAAA,OAAAnE,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAsqB,IAC3JzqB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAwqB,GAAAnqB,KAAAH,QACKmM,OAASA,EACdtM,EAAKokB,QAAUA,EACfpkB,EAAK4hB,OAASA,EACd5hB,EAAKyM,KAAOA,EACZzM,EAAK0qB,SAAWA,EAChB1qB,EAAK0hB,MAAQA,EACb1hB,EAAK2qB,WAAaA,EAClB3qB,EAAK4qB,OAASA,EAT6I5qB,iFAYpIyoB,GACvB,YACwDrkB,IAAhCqkB,EAAcpP,eACkB,OAAhCoP,EAAcpP,+CAInBoP,GACnB,YACuDrkB,IAA9BqkB,EAAcnP,aACgB,OAA9BmP,EAAcnP,mBAvDL2F,ICN7B4L,GAAb,SAAAzkB,GAAA,SAAAykB,IAAA,OAAA5qB,OAAAuC,EAAA,EAAAvC,CAAAE,KAAA0qB,GAAA5qB,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAA4qB,GAAAxkB,MAAAlG,KAAAmG,YAAA,OAAArG,OAAAsG,EAAA,EAAAtG,CAAA4qB,EAAAzkB,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAA4qB,EAAA,EAAA5oB,IAAA,SAAAC,MAAA,WAEQ,OACI0D,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,IACR2E,EAAAlF,EAAAC,cAAA,OAAKyB,GAAG,YACJwD,EAAAlF,EAAAC,cAAA,OAAKmqB,IAAI,mBAL7BD,EAAA,CAA8BhqB,aCwBjBkqB,GAAb,SAAA3kB,GAEI,SAAA2kB,EAAYhrB,GAA0B,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAA4qB,IAClC/qB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAA8qB,GAAAzqB,KAAAH,KAAMJ,KAEDgoB,QAAU/nB,EAAK+nB,QAAQ9kB,KAAbhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACfA,EAAKgrB,oBAAsBhrB,EAAKgrB,oBAAoB/nB,KAAzBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAC3BA,EAAK2pB,cAAgB3pB,EAAK2pB,cAAc1mB,KAAnBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAErBA,EAAKD,MAAMkrB,qBAPuBjrB,EAF1C,OAAAC,OAAAsG,EAAA,EAAAtG,CAAA8qB,EAAA3kB,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAA8qB,EAAA,EAAA9oB,IAAA,UAAAC,MAAA,WAaQ/B,KAAKJ,MAAMgoB,QAAQ5nB,KAAKJ,MAAM0oB,aAAarmB,MAbnD,CAAAH,IAAA,gBAAAC,MAAA,WAiBQ,IAAK/B,KAAKJ,MAAM0oB,aAAaiC,SACzB,OAAOQ,EAAA,wBAAQ9oB,GAAG,UAAU7B,UAAU,oCAAoCqG,QAASzG,KAAK4nB,SAAjF,gBAlBnB,CAAA9lB,IAAA,sBAAAC,MAAA,WAuBQ,GAAIipB,GAA2BC,aAAajrB,KAAKJ,MAAM0oB,cAAe,CAClE,IAAIM,EAAmB,gBAKvB,MAJoD,YAAhD5oB,KAAKJ,MAAM0oB,aAAapP,cAAc/V,QACtCylB,EAAmB,iBAInBmC,EAAA,cAACprB,EAAA,EAAD,CAAQS,UAAU,YACd2qB,EAAA,cAACpqB,EAAA,EAAD,CAAOG,MAAM,uBACTiqB,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,UAAUnB,MAAM,kBAAkBd,KAAKJ,MAAM0oB,aAAapP,cAAc7M,MAAM+C,YAC5F2b,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,UAAUnB,MAAM,WAAWd,KAAKJ,MAAM0oB,aAAapP,cAAc7M,MAAMvL,OACrFiqB,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,QAAQnB,MAAM,6BAA4BiqB,EAAA,qBAAK3qB,UAAW,SAAWwoB,GAAmB5oB,KAAKJ,MAAM0oB,aAAapP,cAAc/V,QAC5I4nB,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,OAAOnB,MAAM,OAAOd,KAAKJ,MAAM0oB,aAAa4C,KAAKC,sBAC/DJ,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,QAAQnB,MAAM,OAAOd,KAAKJ,MAAM0oB,aAAa8C,MAAMD,sBACjEJ,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,SAASnB,MAAM,cAAed,KAAKJ,MAAM0oB,aAAa+C,OAAU,SAAM,UACpFN,EAAA,cAAC1P,EAAA,EAAD,CAAM7T,GAAI,UAAYxH,KAAKJ,MAAM0oB,aAAapP,cAAc7M,MAAMpK,GAAI7B,UAAU,qCAAhF,WACA2qB,EAAA,cAAC1P,EAAA,EAAD,CAAM7T,GAAI,mBAAqBxH,KAAKJ,MAAM0oB,aAAapP,cAAcjX,GAAI7B,UAAU,qCAAnF,4BAvCxB,CAAA0B,IAAA,SAAAC,MAAA,WA8CoB,IAAA0C,EAAAzE,KACZ,IAAKA,KAAKJ,MAAMgN,UAAY5M,KAAKJ,MAAM0oB,cAAgBtoB,KAAKJ,MAAM0rB,gBAAgBrqB,OAAS,EACvF,OAAO8pB,EAAA,cAACQ,GAAD,MAGX,GAAIvrB,KAAKJ,MAAMgN,UAAY5M,KAAKJ,MAAM0oB,aAClC,OAAQyC,EAAA,cAAC3f,EAAA,EAAD,CAAMtK,MAAM,oBAAgBiqB,EAAA,cAACxP,EAAA,EAAD,OAGxC,IAAIqN,EAAmB,gBAKvB,OAJK5oB,KAAKJ,MAAM0oB,aAAaiC,WACzB3B,EAAmB,iBAInBmC,EAAA,cAAC3f,EAAA,EAAD,CAAMtK,MAAM,oBACRiqB,EAAA,cAAC1f,EAAA,EAAD,KACI0f,EAAA,cAACprB,EAAA,EAAD,CAAQS,UAAU,YACd2qB,EAAA,cAACpqB,EAAA,EAAD,CAAOG,MAAM,iBACTiqB,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,SAASnB,MAAM,YAAYd,KAAKJ,MAAM0oB,aAAanc,OAAOwB,UAAxE,IAAoF3N,KAAKJ,MAAM0oB,aAAanc,OAAOyB,UACnHmd,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,OAAOnB,MAAM,SAASd,KAAKJ,MAAM0oB,aAAahc,KAAK+E,sBACjE0Z,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,SAASnB,MAAM,UAA7B,OAA2Cd,KAAKJ,MAAM0oB,aAAa7G,QAE/DuJ,GAA2BQ,SAASxrB,KAAKJ,MAAM0oB,eAC/CyC,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,cAAcnB,MAAM,gBAAgBd,KAAKJ,MAAM0oB,aAAanP,aAE9E4R,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,QAAQnB,MAAM,UAASiqB,EAAA,qBAAK3qB,UAAW,SAAWwoB,GAAoB5oB,KAAKJ,MAAM0oB,aAAaiC,SAAY,YAAc,eACtIQ,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,UAAUnB,MAAM,aAAad,KAAKJ,MAAM0oB,aAAarE,QAAQzd,eAGnFukB,EAAA,cAACprB,EAAA,EAAD,CAAQS,UAAU,YACd2qB,EAAA,cAACpqB,EAAA,EAAD,CAAOG,MAAM,WACRd,KAAKwpB,mBAIlBuB,EAAA,cAAC1f,EAAA,EAAD,KACKrL,KAAK6qB,sBACNE,EAAA,cAACprB,EAAA,EAAD,CAAQS,UAAU,YACd2qB,EAAA,cAACpqB,EAAA,EAAD,CAAOG,MAAM,cACTiqB,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,QAAQnB,MAAM,cAAed,KAAKJ,MAAM0oB,aAAa/G,MAAS,SAAM,UAClFwJ,EAAA,cAACpI,GAAD,CAAW1gB,GAAG,aAAanB,MAAM,gBAAiBd,KAAKJ,MAAM0oB,aAAakC,WAAcxqB,KAAKJ,MAAM0oB,aAAakC,WAAWnZ,qBAAuB,IACjJ,WACG,GAAI5M,EAAK7E,MAAM0oB,aAAamC,OACxB,OAAOM,EAAA,cAAC1P,EAAA,EAAD,CAAM7T,GAAI,WAAa/C,EAAK7E,MAAM0oB,aAAamC,OAAOxoB,GAAI7B,UAAU,qCAApE,uBA1F3CwqB,EAAA,CAAmClqB,aAwHtB4pB,GAAezjB,YAnBJ,SAAC1D,EAAcvD,GACnC,MAAO,CACH0oB,aAAcnlB,EAAM6D,KAAKiF,oBAAoBiD,KAAKtP,EAAM8H,MAAMqb,OAAO9gB,IACrEqpB,gBAAiBnoB,EAAM6D,KAAKiF,oBAAoB+B,IAChDpB,QAASzJ,EAAM6D,KAAKiF,oBAAoBW,UAIrB,SAAC3F,GACxB,MAAO,CACH6jB,mBAAoB,WAChB7jB,EAASiH,IAAK0X,6BAElBgC,QAAS,SAAC3lB,GACNgF,EAASiH,IAAKud,yBAAyBxpB,OAKvB4E,CAA6C+jB,ICrI5Dc,GAAb,SAAAzlB,GAEI,SAAAylB,EAAY9rB,GAA+E,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAA0rB,IACvF7rB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAA4rB,GAAAvrB,KAAAH,KAAMJ,KAEDA,MAAMgM,eAH4E/L,EAF/F,OAAAC,OAAAsG,EAAA,EAAAtG,CAAA4rB,EAAAzlB,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAA4rB,EAAA,EAAA5pB,IAAA,SAAAC,MAAA,WASQ,OAAIjC,OAAOmO,KAAKjO,KAAKJ,MAAMyZ,cAAcpY,OAAS,EACtCwE,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,aAAY2E,EAAAlF,EAAAC,cAAC+a,EAAA,EAAD,QAEpCmL,QAAQC,IAAI3mB,KAAKJ,MAAMyZ,cAEnB5T,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,aACR2E,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,cACT2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,eACXqF,EAAAlF,EAAAC,cAAA,SAAOJ,UAAU,eAAeoe,UAAQ,EAACzc,MAAO/B,KAAKJ,MAAMyZ,aAAaC,IAAI5H,KAAK,UAQ7FjM,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,gCACT2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,eACXqF,EAAAlF,EAAAC,cAAA,SAAOJ,UAAU,eAAeoe,UAAQ,EAACzc,MAAO/B,KAAKJ,MAAMyZ,aAAanN,IAAIwF,KAAK,UAQ7FjM,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,SACT2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,eACXqF,EAAAlF,EAAAC,cAAA,SAAOJ,UAAU,eAAeoe,UAAQ,EAACzc,MAAO/B,KAAKJ,MAAMyZ,aAAaE,MAAM7H,KAAK,WAQnGjM,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,UACT2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,eACXqF,EAAAlF,EAAAC,cAAA,SAAOJ,UAAU,eAAeoe,UAAQ,EAACzc,MAAO/B,KAAKJ,MAAMyZ,aAAavN,QAAQ4F,KAAK,UAQjGjM,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,YACT2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,eACXqF,EAAAlF,EAAAC,cAAA,SAAOJ,UAAU,eAAeoe,UAAQ,EAACzc,MAAO/B,KAAKJ,MAAMyZ,aAAaG,IAAI9H,KAAK,UAQ7FjM,EAAAlF,EAAAC,cAACb,EAAA,EAAD,CAAQS,UAAU,YACdqF,EAAAlF,EAAAC,cAACG,EAAA,EAAD,CAAOG,MAAM,UACT2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,eACXqF,EAAAlF,EAAAC,cAAA,SAAOJ,UAAU,eAAeoe,UAAQ,EAACzc,MAAO/B,KAAKJ,MAAMyZ,aAAaI,IAAI/H,KAAK,iBA3EjHga,EAAA,CAAmChrB,aAsGtBirB,GAAe9kB,YAdJ,SAAU1D,GAC9B,MAAO,CACHkW,aAAclW,EAAM6D,KAAKqS,eAIN,SAACpS,EAAsDrH,GAC9E,MAAO,CACHgM,aAAc,WACV3E,EAASiH,IAAKtC,mBAKE/E,CAA6C6kB,ICpF5DE,GAAmB/kB,YAtBR,SAAC1D,GACrB,MAAO,CACH6D,KAAM7D,EAAM6D,KAAKwN,iBACjB1T,MAAO,cACP6c,aAAc,CAAClY,EAAAlF,EAAAC,cAACod,EAAA,EAAD,CAAQjX,KAAK,OAAOa,GAAG,kCACtCsW,aAAc,qBACdC,aAAc,CACV,CAAE7V,KAAM,OAAQ+F,KAAM,CAAC,QAAS+P,UAAU,EAAMC,YAAY,GAC5D,CAAE/V,KAAM,aAAc+F,KAAM,CAAC,UAAW,WAAY,QAASiQ,MAAM,EAAMC,WAAY,sCAAuCH,UAAU,EAAMC,YAAY,MAKzI,SAAChX,GACxB,MAAO,CACHmX,UAAW,WACPnX,EAASiH,IAAKmR,4BAMMxY,CAA6C4W,KClBhEoO,GAAb,SAAA5lB,GAGI,SAAA4lB,EAAYjsB,GAAiD,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAA6rB,IACzDhsB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAA+rB,GAAA1rB,KAAAH,KAAMJ,KAEDuD,MAAQ,CACTmM,KAAM,GACNgN,QAAS,GACTC,SAAU,GACVC,KAAM,IAGV3c,EAAKiP,cAAgBjP,EAAKiP,cAAchM,KAAnBhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KACrBA,EAAK4L,KAAO5L,EAAK4L,KAAK3I,KAAVhD,OAAAiD,EAAA,EAAAjD,QAAAiD,EAAA,EAAAjD,CAAAD,KAX6CA,EAHjE,OAAAC,OAAAsG,EAAA,EAAAtG,CAAA+rB,EAAA5lB,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAA+rB,EAAA,EAAA/pB,IAAA,gBAAAC,MAAA,SAiB0ByB,GAClB,IAAM6L,EAAS7L,EAAM6L,OACftN,EAAQsN,EAAOtN,MACfuN,EAAOD,EAAOC,KAGpBtP,KAAK6D,SAAL/D,OAAAmhB,EAAA,EAAAnhB,CAAA,GACKwP,EAAOvN,MAxBpB,CAAAD,IAAA,OAAAC,MAAA,SA4BiByB,GAET,GADAA,EAAMymB,iBACFjqB,KAAKwP,OAAQ,CACb,IAAIC,EAAQzP,KAAKwP,OAAOE,gBAYxB,OAXA1P,KAAKwP,OAAOpP,UAAY,gBAEpBqP,IACAzP,KAAKJ,MAAM6L,KAAK,CACZ6D,KAAMtP,KAAKmD,MAAMmM,KACjBiN,SAAUvc,KAAKmD,MAAMoZ,SACrBD,QAAStc,KAAKmD,MAAMmZ,QACpBE,KAAMxc,KAAKmD,MAAMqZ,OAErBxc,KAAKJ,MAAM8M,QAAQC,KAAK,6BAErB8C,EAEX,OAAO,IA7Cf,CAAA3N,IAAA,SAAAC,MAAA,WAgDoB,IAAA0C,EAAAzE,KACZ,OACIyF,EAAAlF,EAAAC,cAAC4K,EAAA,EAAD,CAAMtK,MAAM,4BACR2E,EAAAlF,EAAAC,cAAC6K,EAAA,EAAD,KACI5F,EAAAlF,EAAAC,cAACb,EAAA,EAAD,KACI8F,EAAAlF,EAAAC,cAACG,EAAA,EAAD,KACI8E,EAAAlF,EAAAC,cAAA,QAAMuP,IAAK,SAACA,GAAD,OAA0BtL,EAAK+K,OAASO,IAC/CtK,EAAAlF,EAAAC,cAAA,kBACAiF,EAAAlF,EAAAC,cAAA,SAAOwB,KAAK,OAAOsN,KAAK,OAAOrN,GAAG,OAAO7B,UAAU,eAAe2B,MAAO/B,KAAKmD,MAAMmM,KAAMW,SAAUjQ,KAAK8O,cAAeoB,UAAU,IAClIzK,EAAAlF,EAAAC,cAAA,WACAiF,EAAAlF,EAAAC,cAAA,sBACAiF,EAAAlF,EAAAC,cAAA,SAAOwB,KAAK,OAAOsN,KAAK,UAAUrN,GAAG,UAAU7B,UAAU,eAAe2B,MAAO/B,KAAKmD,MAAMmZ,QAASrM,SAAUjQ,KAAK8O,cAAeoB,UAAU,IAC3IzK,EAAAlF,EAAAC,cAAA,WACAiF,EAAAlF,EAAAC,cAAA,iBACAiF,EAAAlF,EAAAC,cAAA,SAAOwB,KAAK,OAAO8pB,UAAW,EAAGC,UAAW,EAAGzc,KAAK,WAAWrN,GAAG,WAAW7B,UAAU,eAAe2B,MAAO/B,KAAKmD,MAAMoZ,SAAUtM,SAAUjQ,KAAK8O,cAAeoB,UAAU,IAC1KzK,EAAAlF,EAAAC,cAAA,WACAiF,EAAAlF,EAAAC,cAAA,iBACAiF,EAAAlF,EAAAC,cAAA,SAAOwB,KAAK,OAAOsN,KAAK,OAAOrN,GAAG,OAAO7B,UAAU,eAAe2B,MAAO/B,KAAKmD,MAAMqZ,KAAMvM,SAAUjQ,KAAK8O,cAAeoB,UAAU,IAClIzK,EAAAlF,EAAAC,cAAA,WACAiF,EAAAlF,EAAAC,cAAA,UAAQJ,UAAU,4BAA4BqG,QAASzG,KAAKyL,MAA5D,sBAnEhCogB,EAAA,CAAyCnrB,aAqF5BsrB,GAAqBnlB,YAAQ,aARf,SAACI,GACxB,MAAO,CACHwE,KAAM,SAACzE,GACHC,EAASiH,IAAK+d,mBAAmBjlB,OAKXH,CAAuCglB,cC5FpDK,oLAEb,OACIzmB,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,YACXqF,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,eACXqF,EAAAlF,EAAAC,cAAA,OAAKmqB,IAAI,YAAYwB,OAAO,UAEhC1mB,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,iBACXqF,EAAAlF,EAAAC,cAAA,KAAGJ,UAAU,SAASJ,KAAKJ,MAAMkB,QAErC2E,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,gBACV,IAAI2D,MAAOsN,sBAEhB5L,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,gBAAf,SACWJ,KAAKJ,MAAMwsB,QADtB,QACoCpsB,KAAKJ,MAAMysB,oBAdf3rB,aCQnC4rB,GAAb,SAAArmB,GAGI,SAAAqmB,EAAY1sB,GAAoF,IAAAC,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAssB,GAEzD,KADnCzsB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAwsB,GAAAnsB,KAAAH,KAAMJ,KACGA,MAAMoH,KAAKgH,IAAI/M,QAAcpB,EAAKD,MAAMwe,YAF2Cve,EAHpG,OAAAC,OAAAsG,EAAA,EAAAtG,CAAAwsB,EAAArmB,GAAAnG,OAAAuG,EAAA,EAAAvG,CAAAwsB,EAAA,EAAAxqB,IAAA,oBAAAC,MAAA,WAQ+B,IAAA0C,EAAAzE,KACnBA,KAAKJ,MAAMoH,KAAKgH,IAAI/M,OAAS,GAC7BjB,KAAK0d,UAAUjS,KAAK,WAChBhH,EAAK7E,MAAM8M,QAAQC,KAAK,gBAXxC,CAAA7K,IAAA,qBAAAC,MAAA,WAgBgC,IAAA8O,EAAA7Q,KACpBA,KAAKJ,MAAMoH,KAAKgH,IAAI/M,OAAS,GAC7BjB,KAAK0d,UAAUjS,KAAK,WAChBoF,EAAKjR,MAAM8M,QAAQC,KAAK,gBAnBxC,CAAA7K,IAAA,SAAAC,MAAA,WAwBoB,IAAAwqB,EAAAvsB,KACZ,GAAmC,IAA/BA,KAAKJ,MAAMoH,KAAKgH,IAAI/M,OAAc,OAAOwE,EAAAlF,EAAAC,cAAC+a,EAAA,EAAD,CAASqL,YAAY,IAElE,IAAI4F,EAA+B,GAHvBpjB,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IAIZ,QAAAsF,EAAAC,EAAexJ,KAAKJ,MAAMoH,KAAKgH,IAA/BvE,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAoC,KAA3BnH,EAA2BsH,EAAAxH,MAChCyqB,EAAS,IAAMvqB,GAAMjC,KAAKJ,MAAMoH,KAAKkI,KAAKjN,IALlC,MAAA+H,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,GAQZ,OACI7D,EAAAlF,EAAAC,cAAA,WACIiF,EAAAlF,EAAAC,cAAC+a,EAAA,EAAD,CAASqL,YAAY,IACrBnhB,EAAAlF,EAAAC,cAACisB,GAAA,EAAD,CACI1c,IAAK,SAACA,GAAD,OAAoBwc,EAAK7O,UAAY3N,GAC1C2c,OAAO,sCACPzI,QAAQ,kBACR0I,SAAS,UACT7rB,MAAK,mBAAAI,QAAqB,IAAI6C,MAAOsN,sBACrCub,UAAU,KACVC,eAAe,EACfC,WAAW,EACXxgB,KAAM,IAAIvI,KACVgpB,SAAQ,mBAAA7rB,QAAqB,IAAI6C,MAAOsN,sBACxC2b,MAAO,GACPC,OAAO,MACPC,aAAc,SAACttB,GAAD,OAA8B6F,EAAAlF,EAAAC,cAAC2sB,GAADrtB,OAAA+P,OAAA,CAAoB/O,MAAM,mBAAsBlB,MAE5F6F,EAAAlF,EAAAC,cAAC8hB,GAAA,EAAD,CACIliB,UAAU,uCACV4G,KAAMwlB,EACNjb,QACI,CACI,CAAErJ,KAAM,OAAQ+F,KAAM,CAAC,YAAa,YAAagQ,YAAY,GAC7D,CAAE/V,KAAM,OAAQ+F,KAAM,CAAC,QAAS+P,UAAU,EAAMC,YAAY,GAC5D,CAAE/V,KAAM,aAAc+F,KAAM,CAAC,aAAc+P,UAAU,EAAMC,YAAY,GACvE,CAAE/V,KAAM,WAAY+F,KAAM,CAAC,UAAW,WAAY,QAASiQ,MAAM,EAAMC,WAAY,sCAAuCF,YAAY,GACtI,CAAE/V,KAAM,aAAc+F,KAAM,CAAE+O,gBAAiB,CAAC,UAAW,WAAY,SAAWkB,MAAM,EAAMC,WAAY,sCAAuCF,YAAY,GAC7J,CAAE/V,KAAM,WAAY+F,KAAM,CAAC,cAAeiQ,MAAM,EAAMC,WAAY,OAAQF,YAAY,GACtF,CAAE/V,KAAM,SAAU+F,KAAM,CAAC,eAAgBiQ,MAAM,EAAMC,WAAY,OAAQF,YAAY,GACrF,CAAE/V,KAAM,SAAU+F,KAAM,CAAC,QAASiQ,MAAM,EAAMC,WAAY,UAAWF,YAAY,IAEzFxM,aAAczR,KAAKJ,MAAMob,SAAS7X,OAAS,CAAEsR,KAAMzU,KAAKJ,MAAMoH,KAAKyN,OAAQA,KAC3E2Y,cAAeptB,KAAKJ,MAAMob,SAAS7X,OAAS,CAAEiqB,aAAc,KAAMA,qBAjE1Fd,EAAA,CAAiC5rB,aAwFpB2sB,GAAaxmB,YAfF,SAAC1D,GACrB,MAAO,CACH6D,KAAM7D,EAAM6D,KAAK+G,UAIE,SAAC9G,GACxB,MAAO,CACHmX,UAAW,WACPnX,EAASiH,IAAKtC,mBAMA/E,CAA6CylB,IClElDgB,eAGjB,SAAAA,EAAY1tB,EAAWuD,GAAW,IAAAtD,EAAA,OAAAC,OAAAuC,EAAA,EAAAvC,CAAAE,KAAAstB,GAC9BztB,EAAAC,OAAAwC,EAAA,EAAAxC,CAAAE,KAAAF,OAAAyC,EAAA,EAAAzC,CAAAwtB,GAAAntB,KAAAH,KAAMJ,EAAOuD,IACbyH,IAAO2iB,aACP1tB,EAAK2tB,MCtCFC,YAAYC,EAAcC,YAAgBC,MDuC7C/tB,EAAK2tB,MAAMK,WAJmBhuB,wEAQ9B,OACI4F,EAAAlF,EAAAC,cAACstB,EAAA,EAAD,CAAUN,MAAOxtB,KAAKwtB,OAClB/nB,EAAAlF,EAAAC,cAAA,OAAKJ,UAAU,QACXqF,EAAAlF,EAAAC,cAACutB,EAAA,eAAD,CACIzZ,SAAS,aACTD,UAAW,IACX2Z,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,WAAW,EACXC,cAAc,IAElB5oB,EAAAlF,EAAAC,cAAC8tB,EAAA,EAAD,KACI7oB,EAAAlF,EAAAC,cAAC+tB,EAAA,EAAD,KACI9oB,EAAAlF,EAAAC,cAACia,EAAA,EAAD,CAAO5S,OAAK,EAAC6S,KAAK,IAAIC,UAAW,WAAQ,OAAQlV,EAAAlF,EAAAC,cAACqa,EAAA,EAAD,CAAUrT,GAAG,cAC9D/B,EAAAlF,EAAAC,cAACia,EAAA,EAAD,CAAO5S,OAAK,EAAC6S,KAAK,SAASC,UAAWuM,KACtCzhB,EAAAlF,EAAAC,cAACia,EAAA,EAAD,CAAO5S,OAAK,EAAC6S,KAAK,wBAAwBC,UAAWuM,KACrDzhB,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,aAAavR,MAAO,CAAC5J,IAAU4K,eAAgBwQ,UAAWc,IAClFhW,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,MAAMvR,MAAO,CAAC5J,IAAU4K,eAAgBwQ,UAAW6M,KAC3E/hB,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,WAAWvR,MAAO,CAAC5J,IAAU6K,cAAeuQ,UAAWkD,IAC/EpY,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,eAAevR,MAAO,CAAC5J,IAAU6K,cAAeuQ,UAAW0S,KACnF5nB,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,iBAAiBvR,MAAO,CAAC5J,IAAU6K,cAAeuQ,UAAWgR,KACrFlmB,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,2BAA2BvR,MAAO,CAAC5J,IAAU8K,YAAasQ,UAAWiR,KAC7FnmB,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,+BAA+BvR,MAAO,CAAC5J,IAAUivB,WAAYjvB,IAAU+K,cAAeqQ,UAAWqR,KACzHvmB,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,eAAevR,MAAO,CAAC5J,IAAUkvB,cAAelvB,IAAU6K,cAAeuQ,UAAWmI,KAC5Grd,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,UAAUvR,MAAO,CAAC5J,IAAUgL,aAAcoQ,UAAWsI,KAC7Exd,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,aAAavR,MAAO,CAAC5J,IAAUgL,aAAcoQ,UAAWoJ,KAChFte,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,mBAAmBvR,MAAO,CAAC5J,IAAUkL,oBAAqBlL,IAAUiL,uBAAwBmQ,UAAWqJ,KAC/Hve,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,uBAAuBvR,MAAO,CAAC5J,IAAUiL,uBAAwBmQ,UAAW7M,OACpGrI,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,sBAAsBvR,MAAO,CAAC5J,IAAUiL,sBAAuBjL,IAAUkL,qBAAsBkQ,UAAW+O,KAClIjkB,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,iBAAiBvR,MAAO,CAAC5J,IAAUoL,oBAAqBgQ,UAAWgL,KAC3FlgB,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,qBAAqBvR,MAAO,CAAC5J,IAAUmL,sBAAuBiQ,UAAWyP,KACjG3kB,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,oBAAoBvR,MAAO,CAAC5J,IAAUoL,oBAAqBgQ,UAAW2P,KAC9F7kB,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,SAASvR,MAAO,CAAC5J,IAAUwK,OAAQ4Q,UAAWwM,KACtE1hB,EAAAlF,EAAAC,cAACya,EAAD,CAAapT,OAAK,EAAC6S,KAAK,YAAYvR,MAAO,CAAC5J,IAAUwK,OAAQ4Q,UAAW6M,KACzE/hB,EAAAlF,EAAAC,cAACia,EAAA,EAAD,CAAOC,KAAK,KAAKC,UAAW+P,gBA/CtBhqB,aEzBdguB,QACW,cAA7B3M,OAAO/G,SAAS2T,UAEe,UAA7B5M,OAAO/G,SAAS2T,UAEhB5M,OAAO/G,SAAS2T,SAASjnB,MACvB,2DCXNknB,IAASC,OACLppB,EAAAlF,EAAAC,cAACsuB,GAAD,MACE9M,SAAS+M,eAAe,SDwHxB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMpF,KAAK,SAAAqF,GACjCA,EAAaC,uIEjIE7T,mLAEb,OACIjb,EAAAC,EAAAC,cAAA,OAAKJ,UAAW,sBAAyBJ,KAAKJ,MAAMgnB,WAAc,aAAe,KAC7EtmB,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,mBACXE,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,qBACfE,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,qBACfE,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,qBACfE,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,sBAElBJ,KAAKJ,MAAMa,iBAVSC,6JCWhBkd,cACjB,SAAAA,EAAYhe,GAAoB,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4d,IAC5B/d,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8d,GAAAzd,KAAAH,KAAMJ,KAED6G,QAAU5G,EAAK4G,QAAQ3D,KAAbhD,OAAA0L,EAAA,EAAA1L,QAAA0L,EAAA,EAAA1L,CAAAD,KAHaA,uEAMhB2D,GACZA,EAAMymB,iBACFjqB,KAAKJ,MAAM6G,SAASzG,KAAKJ,MAAM6G,QAAQjD,oCAI3C,OAAIxD,KAAKJ,MAAM4H,GAEP6nB,EAAA9uB,EAAAC,cAAC8uB,EAAA,EAAD,CAAM9nB,GAAI,CACNsT,SAAU9a,KAAKJ,MAAM4H,GACrBrE,MAAOnD,KAAKJ,MAAMuD,OAAS,IAE3B/C,UAAU,sCAEVivB,EAAA9uB,EAAAC,cAAC+uB,EAAA,EAAD,CAAiB5oB,KAAM3G,KAAKJ,MAAM+G,QAM1C0oB,EAAA9uB,EAAAC,cAAA,UAAQiG,QAASzG,KAAKyG,QAASrG,UAAU,sCACrCivB,EAAA9uB,EAAAC,cAAC+uB,EAAA,EAAD,CAAiB5oB,KAAM3G,KAAKJ,MAAM+G,eA5BdjG,6JCqBf4hB,cACjB,SAAAA,EAAY1iB,GAAsB,IAAAC,EAAA,OAAAC,OAAA6O,EAAA,EAAA7O,CAAAE,KAAAsiB,IAC9BziB,EAAAC,OAAA8O,EAAA,EAAA9O,CAAAE,KAAAF,OAAA+O,EAAA,EAAA/O,CAAAwiB,GAAAniB,KAAAH,KAAMJ,KACD4vB,UAAY3vB,EAAK2vB,UAAU1sB,KAAfhD,OAAAiP,EAAA,EAAAjP,QAAAiP,EAAA,EAAAjP,CAAAD,KACjBA,EAAK4vB,OAAS5vB,EAAK4vB,OAAO3sB,KAAZhD,OAAAiP,EAAA,EAAAjP,QAAAiP,EAAA,EAAAjP,CAAAD,KACdA,EAAKkQ,IAAMlQ,EAAKkQ,IAAIjN,KAAThD,OAAAiP,EAAA,EAAAjP,QAAAiP,EAAA,EAAAjP,CAAAD,KAEPA,EAAKD,MAAM6R,YACX5R,EAAKsD,MAAQ,CACTusB,QAAS7vB,EAAKD,MAAM6R,YAAYxD,KAAKyD,KAAK,KAC1Cie,cAAe9vB,EAAKD,MAAM6R,YAAY1M,UACtC6qB,eAAgB/vB,EAAKgwB,cAAchwB,EAAKD,MAAM2R,UAGlD1R,EAAKsD,MAAQ,CACTusB,QAAS,GACTC,cAAe,MACfC,eAAgB/vB,EAAKgwB,cAAchwB,EAAKD,MAAM2R,UAhBxB1R,yFAqBDuf,GACzBA,IAAcpf,KAAKJ,OACnBI,KAAK6D,SAAS,CACV+rB,eAAgB5vB,KAAK6vB,cAAczQ,EAAU7N,uCAK7Cue,GACJ9vB,KAAKJ,MAAMmQ,KAAK/P,KAAKJ,MAAMmQ,IAAI+f,gCAG1BJ,EAAiB3qB,EAA2BiC,GACrD,IAAIiH,EAAOjO,KAAK+vB,YAAYL,GACxBM,EAAW,GAEf,IAAK,IAAIzvB,KADTyG,EAAOA,GAAQhH,KAAKJ,MAAMoH,KACN,CAEhB,IAAIkC,EAAUlC,EAAKzG,GACf0vB,EAAa,GACjB,IAAK,IAAIjkB,KAAKiC,EAAM,CAEhB,IAAInM,EAAMmM,EAAKjC,GACf,GAAIlK,aAAeod,MAAO,KAAA9V,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IACtB,QAAAsF,EAAAC,EAAc1H,EAAd2H,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAmB,KAAV8mB,EAAU3mB,EAAAxH,MACXmH,EAAQ8C,KACJkkB,EAAE7vB,QAAQ,UAAY,EAEtB4vB,EAAWtjB,KAAKzD,EAAQ8C,GAAGkkB,GAAGpJ,QAAQ,IAAK,KACpC5d,EAAQpH,aAAgBiC,KAC/BksB,EAAWtjB,KAAKzD,EAAQpH,GAAK0C,WAG7ByrB,EAAWtjB,KAAKzD,EAAQ8C,GAAGkkB,MAVjB,MAAAlmB,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,SAelBxH,EAAIzB,QAAQ,UAAY,EAExB4vB,EAAWtjB,KAAKzD,EAAQpH,GAAKglB,QAAQ,IAAK,KACnC5d,EAAQpH,aAAgBiC,KAC/BksB,EAAWtjB,KAAKzD,EAAQpH,GAAK0C,WAG7ByrB,EAAWtjB,KAAKzD,EAAQpH,IAKpCkuB,EAASrjB,KAAK,CAAE1K,GAAI1B,EAAGwB,MAAOkuB,EAAWve,KAAK,KAAKK,gBAGvDie,EAASvb,KAAK,SAAClU,EAAG2vB,GACd,IAAIC,EAAQC,EAQZ,OAPAD,EAAS3O,WAAWjhB,EAAEwB,OACtBquB,EAAS5O,WAAW0O,EAAEnuB,QAClBsuB,MAAMF,IAAWE,MAAMD,MACvBD,EAAS5vB,EAAEwB,MACXquB,EAASF,EAAEnuB,OAGXouB,EAASC,EACa,QAAdrrB,GAAwB,EAAI,EACpCorB,EAASC,EACa,QAAdrrB,EAAuB,GAAK,EACjC,IAIX,IADA,IAAIurB,EAAS,GACbC,EAAA,EAAAA,EAAeP,EAAf/uB,OAAAsvB,IAAyB,CAApB,IAAItuB,EAAM+tB,EAAJO,GAEPD,EAAM,IAAApvB,OAAKe,EAAGA,KAAQjC,KAAKJ,MAAMoH,KAAK/E,EAAGA,IAG7C,OAAOquB,sCAGSxuB,GAChB,IAAImM,EAAO,CAACnM,GACRA,EAAIzB,QAAQ,MAAQ,IAAG4N,EAAOnM,EAAIknB,MAAM,MAE5C,IAAIwH,EAAgD,GAJa9Z,GAAA,EAAAC,GAAA,EAAAC,OAAA3S,EAAA,IAKjE,QAAA4S,EAAAC,EAAgB7I,EAAhBxE,OAAAC,cAAAgN,GAAAG,EAAAC,EAAAnN,QAAAC,MAAA8M,GAAA,EAAsB,KAAb5U,EAAa+U,EAAA9U,MACdD,IACIA,EAAIzB,QAAQ,MAAQ,EACnBmwB,EAAiC1uB,EAAIknB,MAAM,KAAK,IAAMlnB,EAAIknB,MAAM,KAAK,GAAGA,MAAM,KAE9EwH,EAA8B1uB,EAAIknB,MAAM,OAVY,MAAAhf,GAAA2M,GAAA,EAAAC,EAAA5M,EAAA,YAAA0M,GAAA,MAAAI,EAAA7M,QAAA6M,EAAA7M,SAAA,WAAA0M,EAAA,MAAAC,GAejE,OAAO4Z,oCAGOhtB,GACd,IAAIitB,EAAWjtB,EAAM6L,OAAuBqhB,QAAQ5uB,IAChDiD,EAA4B,MAE5B/E,KAAKmD,MAAMusB,UAAYe,IAEnB1rB,EAD6B,QAA7B/E,KAAKmD,MAAMwsB,cACC,OAEA,OAIhB3vB,KAAKJ,MAAM+wB,QAAQ3wB,KAAKJ,MAAM+wB,OAAOntB,EAAOxD,KAAK+vB,YAAYU,GAAU1rB,GAE3E/E,KAAK6D,SAAS,CACV8rB,cAAe5qB,EACf2qB,QAASe,0CAIKlf,GAClB,IAAIqf,EAAiE,GAD8Bjb,GAAA,EAAAC,GAAA,EAAAC,OAAA5R,EAAA,IAEnG,QAAA6R,EAAAC,EAAmBxE,EAAnB9H,OAAAC,cAAAiM,GAAAG,EAAAC,EAAApM,QAAAC,MAAA+L,GAAA,EAA4B,KAAnBkb,EAAmB/a,EAAA/T,MACpB8uB,EAAO5S,aACH4S,EAAO5iB,gBAAgBiR,MACvB0R,EAAaA,EAAW1vB,OAAO2vB,EAAO5iB,MAEtC2iB,EAAWjkB,KAAKkkB,EAAO5iB,QAPgE,MAAAjE,GAAA4L,GAAA,EAAAC,EAAA7L,EAAA,YAAA2L,GAAA,MAAAI,EAAA9L,QAAA8L,EAAA9L,SAAA,WAAA2L,EAAA,MAAAC,GAYnG,OAAO+a,iCAGIxD,EAAsBpmB,GACjC,IAAI8pB,EAAsC,GAG1C,GAFA9pB,EAAOA,GAAQhH,KAAKJ,MAAMoH,KAEtBomB,GAAgBptB,KAAKmD,MAAMysB,eAAe3uB,OAAS,EAAG,CACtD,IAAK,IAAIV,KAAKyG,EAAM,CAEhB,IAAI+pB,EAAS/pB,EAAKzG,GACdywB,EAAmB,GAHP9a,GAAA,EAAAC,GAAA,EAAAC,OAAAnS,EAAA,IAIhB,QAAAoS,EAAAC,EAAgBtW,KAAKmD,MAAMysB,eAA3BnmB,OAAAC,cAAAwM,GAAAG,EAAAC,EAAA3M,QAAAC,MAAAsM,GAAA,EAA2C,KAAlCpU,EAAkCuU,EAAAtU,MAEvC,GAAID,aAAehC,OACf,IAAK,IAAImxB,KAAKnvB,EAAK,KAAAqV,GAAA,EAAAC,GAAA,EAAAC,OAAApT,EAAA,IACf,QAAAqT,EAAAC,EAAczV,EAAImvB,GAAlBxnB,OAAAC,cAAAyN,GAAAG,EAAAC,EAAA5N,QAAAC,MAAAuN,GAAA,EAAsB,KAAb+Z,EAAa5Z,EAAAvV,MACdgvB,EAAOE,IAAMF,EAAOE,GAAGC,KACnBA,EAAE7wB,QAAQ,UAAY,IAEtB2wB,GAAoBD,EAAOE,GAAGC,GAAGxoB,WAAWoe,QAAQ,IAAK,IAAM,KAGnEkK,GAAoBD,EAAOE,GAAGC,GAAGxoB,WAAa,MARvC,MAAAsB,GAAAoN,GAAA,EAAAC,EAAArN,EAAA,YAAAmN,GAAA,MAAAI,EAAAtN,QAAAsN,EAAAtN,SAAA,WAAAmN,EAAA,MAAAC,QAYG,kBAARvV,IACVA,EAAIzB,QAAQ,UAAY,IAExB2wB,GAAoBD,EAAOjvB,GAAK4G,WAAWoe,QAAQ,IAAK,IAAM,KAGlEkK,GAAoBD,EAAOjvB,GAAK4G,WAAa,MAzBrC,MAAAsB,GAAAmM,GAAA,EAAAC,EAAApM,EAAA,YAAAkM,GAAA,MAAAI,EAAArM,QAAAqM,EAAArM,SAAA,WAAAkM,EAAA,MAAAC,GA6BZ4a,EAAiBjf,cAAc1R,QAAQ+sB,EAAarb,gBAAkB,IAEtE+e,EAAOvwB,GAAKwwB,GAIpB,OAAOD,EAGX,OAAO9pB,uCAGU,IAAAvC,EAAAzE,KACbmxB,EAAO,GACPnqB,EAAOhH,KAAKJ,MAAMoH,KACtBA,EAAOhH,KAAKyU,KAAKzU,KAAKmD,MAAMusB,QAAS1vB,KAAKmD,MAAMwsB,cAAe3oB,GAC/DA,EAAOhH,KAAKyvB,OAAOzvB,KAAKJ,MAAMwtB,cAAgB,GAAIpmB,GAJjC,IAAAoqB,EAAA,SAMRnvB,GAEL,IAAIovB,EAAYrqB,EAAK/E,GACjBqvB,EAAM,GATG5Z,GAAA,EAAAC,GAAA,EAAAC,OAAA3T,EAAA,IAWb,IAXa,IAWb4T,EAXa0Z,EAAA,eAWJV,EAXIhZ,EAAA9V,MAYT,GAAI8uB,EAAOppB,QACP6pB,EAAI3kB,KAAKE,EAAAtM,EAAAC,cAAA,UAAKqwB,EAAOppB,SAAW,SAC7B,CACH,IAAIA,EAAyB,GAC7B,GAAIopB,EAAO5iB,gBAAgBiR,MACvBzX,EAAUopB,EAAO5iB,KAAKlN,IAAI,SAACe,GAEvB,OAAIuvB,EAAUvvB,aAAgBiC,KACtB8sB,EAAOrf,OAEA6f,EAAUvvB,GAAK+uB,EAAOrf,UAGtB6f,EAAUvvB,GAAKuP,qBAGO,mBAAnBggB,EAAUvvB,GAEpBuvB,EAAUvvB,GACH,SAEJ,SAEAuvB,EAAUvvB,aAAgBod,MAE1BmS,EAAUvvB,GAAKf,IAAI,SAACmU,GACvB,OAAIA,aAAiBnR,KACb8sB,EAAOrf,OAEA0D,EAAM2b,EAAOrf,UAEb0D,EAAM7D,qBAEO,mBAAV6D,EACVA,EACO,SAEJ,SAGJA,IAKRmc,EAAUvvB,SAElB,KAAA0vB,EAAA,SACMN,GACLzpB,EAAUA,EAAQvG,OAAO2vB,EAAO5iB,KAAKijB,GAAGnwB,IAAI,SAACe,GAEzC,OAAIuvB,EAAUpY,eAAeiY,IAAMG,EAAUH,GAErCG,EAAUH,GAAGpvB,aAAgBiC,KACzB8sB,EAAOrf,OAEA6f,EAAUH,GAAGpvB,GAAK+uB,EAAOrf,UAGzB6f,EAAUH,GAAGpvB,GAAKuP,qBAGO,mBAAtBggB,EAAUH,GAAGpvB,GAEvBuvB,EAAUH,GAAGpvB,GACN,SAEJ,SAGJuvB,EAAUH,GAAGpvB,GAEjB,OAxBf,IAAK,IAAIovB,KAAKL,EAAO5iB,KAAMujB,EAAlBN,GA6BTL,EAAO3S,KACPoT,EAAI3kB,KAAKE,EAAAtM,EAAAC,cAAA,MAAIJ,UAAWywB,EAAOzwB,WAAa,GAAI0B,IAAKuvB,EAAUpvB,IAAMwF,EAAQiK,KAAK,MAAQ7M,KAAK4sB,SAAS/oB,aAAamE,EAAAtM,EAAAC,cAAA,KAAGsB,IAAKuvB,EAAUpvB,GAAKnC,OAAA4xB,EAAA,EAAA5xB,CAAK2H,GAAW,CAAC5C,KAAK4sB,SAAS/oB,aAA/BxH,OAAA,CAA6C,MAAKwQ,KAAK,KAAM/J,MAAQkpB,EAAO1S,WAAc0S,EAAO1S,WAAa,IAAM1W,EAAQiK,KAAK,KAAMrC,OAAO,WAAYwhB,EAAOtO,OAAUsO,EAAOtO,OAAS,IAAM9a,EAAQiK,KAAK,MAASmf,EAAOc,OAAUd,EAAOc,OAAS,OAEpYL,EAAI3kB,KAAKE,EAAAtM,EAAAC,cAAA,MAAIJ,UAAWywB,EAAOzwB,WAAa,GAAI0B,IAAKuvB,EAAUpvB,IAAMwF,EAAQiK,KAAK,MAAQ7M,KAAK4sB,SAAS/oB,cAAgBmoB,EAAOtO,OAAUsO,EAAOtO,OAAS,IAAM9a,EAAQiK,KAAK,MAASmf,EAAOc,OAAUd,EAAOc,OAAS,QAjFlO7Z,EAAmBrT,EAAK7E,MAAM2R,QAA9B9H,OAAAC,cAAAgO,GAAAG,EAAAC,EAAAnO,QAAAC,MAAA8N,GAAA,EAAuC6Z,IAX1B,MAAAvnB,GAAA2N,GAAA,EAAAC,EAAA5N,EAAA,YAAA0N,GAAA,MAAAI,EAAA7N,QAAA6N,EAAA7N,SAAA,WAAA0N,EAAA,MAAAC,GAgGbuZ,EAAKxkB,KAAKE,EAAAtM,EAAAC,cAAA,MAAIsB,IAAKuvB,EAAUpvB,GAAI2vB,WAAUP,EAAUpvB,IAAKqvB,KA1F9D,IAAK,IAAIrvB,KAAM+E,EAAMoqB,EAAZnvB,GA6FT,OAAOkvB,mCAGK,IAAAtgB,EAAA7Q,KACZ,OACI6M,EAAAtM,EAAAC,cAAA,OAAKJ,UAAU,oBACXyM,EAAAtM,EAAAC,cAAA,SAAOJ,UAAS,uBAAAc,OAAyBlB,KAAKJ,MAAMQ,WAAa,IAAM2P,IAAK/P,KAAK+P,KAC7ElD,EAAAtM,EAAAC,cAAA,SAAOsB,IAAI,cACP+K,EAAAtM,EAAAC,cAAA,UACKR,KAAKJ,MAAM2R,QAAQxQ,IAAI,SAAC8vB,GACrB,IAQIgB,EARAC,EAAY,GAChB,GAAIjB,EAAO5iB,gBAAgBiR,MACvB4S,EAAYjB,EAAO5iB,KAAKyD,KAAK,UAE7B,IAAK,IAAIwf,KAAKL,EAAO5iB,KACjB6jB,GAAa,IAAMZ,EAAI,IAAML,EAAO5iB,KAAKijB,GAAGxf,KAAK,KAWzD,OAPIogB,IAAcjhB,EAAK1N,MAAMusB,UAErBmC,EAD6B,QAA7BhhB,EAAK1N,MAAMwsB,cACK9iB,EAAAtM,EAAAC,cAACuxB,EAAA,EAAD,CAAiBprB,KAAK,YAAYvG,UAAU,gBAE5CyM,EAAAtM,EAAAC,cAACuxB,EAAA,EAAD,CAAiBprB,KAAK,UAAUvG,UAAU,iBAG9DywB,EAAO7S,SACAnR,EAAAtM,EAAAC,cAAA,MAAIsB,IAAKgwB,EAAWF,WAAUE,EAAWE,MAAM,MAAMvrB,QAASoK,EAAK2e,UAAWxI,MAAO,CAAEiL,OAAQ,YAAcpB,EAAO3oB,KAAM2pB,GAE9HhlB,EAAAtM,EAAAC,cAAA,MAAIsB,IAAKgwB,EAAWF,WAAUE,EAAWE,MAAM,OAAOnB,EAAO3oB,UAIhF2E,EAAAtM,EAAAC,cAAA,SAAOsB,IAAI,cACN9B,KAAKkyB,uBA5UwCxxB,yNCAzD+c,EAAb,SAAAxX,GACI,SAAAwX,EAAY7d,GAAyB,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyd,IACjC5d,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2d,GAAAtd,KAAAH,KAAMJ,KAEIA,MAAMoH,KAAK4F,SACjBlB,EAAa,WAAQ7L,EAAKD,MAAMwe,cAGpCve,EAAKioB,YAAcjoB,EAAKioB,YAAYhlB,KAAjBhD,OAAA0L,EAAA,EAAA1L,QAAA0L,EAAA,EAAA1L,CAAAD,KACnBA,EAAKsyB,WAAatyB,EAAKsyB,WAAWrvB,KAAhBhD,OAAA0L,EAAA,EAAA1L,QAAA0L,EAAA,EAAA1L,CAAAD,KAClBA,EAAK8wB,OAAS9wB,EAAK8wB,OAAO7tB,KAAZhD,OAAA0L,EAAA,EAAA1L,QAAA0L,EAAA,EAAA1L,CAAAD,KAEdA,EAAKsD,MAAQ,CACTiqB,aAAc,GACd3Y,KAAM,CACFxG,KAAMpO,EAAKD,MAAMoH,KAAKyN,KAAKxG,KAC3BlJ,UAAWlF,EAAKD,MAAMoH,KAAKyN,KAAK1P,YAfPlF,EADzC,OAAAC,OAAAiM,EAAA,EAAAjM,CAAA2d,EAAAxX,GAAAnG,OAAA+B,EAAA,EAAA/B,CAAA2d,EAAA,EAAA3b,IAAA,cAAAC,MAAA,SAqBuByB,GACf,GAAIA,EAAMke,cAAcC,YAAcne,EAAMke,cAAcC,WAAWA,YAAcne,EAAMke,cAAcC,WAAWA,WAAWC,cAAe,CACxI,IAAI3f,EAAKuB,EAAMke,cAAcC,WAAWA,WAAWC,cAAcC,aAAa,YAG1D,GAAhBre,EAAMse,OACNC,OAAOzb,KAAM0b,SAAShH,SAAsBiH,OAASjiB,KAAKJ,MAAMke,aAAe7b,GAE/EjC,KAAKJ,MAAM8M,QAAQC,KAAK3M,KAAKJ,MAAMke,aAAe7b,MA7BlE,CAAAH,IAAA,wBAAAC,MAAA,SAkCiCqd,EAA6BgT,GACtD,OAAIpyB,KAAKJ,QAAUwf,GACfpf,KAAKmD,MAAMiqB,eAAiBgF,EAAUhF,eApClD,CAAAtrB,IAAA,SAAAC,MAAA,SA0CmByB,EAAqDyK,EAA6ClJ,GAC7G/E,KAAK6D,SAAS,CACV4Q,KAAM,CACFxG,KAAMA,EACNlJ,UAAWA,OA9C3B,CAAAjD,IAAA,aAAAC,MAAA,SAmDuByB,GACXxD,KAAKJ,MAAMyyB,UAAUryB,KAAKJ,MAAMyyB,SAAS7uB,EAAM6L,OAAOtN,OAC1D/B,KAAK6D,SAAS,CACVupB,aAAc5pB,EAAM6L,OAAOtN,UAtDvC,CAAAD,IAAA,cAAAC,MAAA,WA2DQ,GAAI/B,KAAKJ,MAAMoH,KAAK4F,QAChB,OACIyiB,EAAA9uB,EAAAC,cAAC8xB,EAAA,EAAD,MAIR,IAAI9F,EAA+B,GAPjBpjB,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IAQlB,QAAAsF,EAAAC,EAAexJ,KAAKJ,MAAMoH,KAAKgH,IAA/BvE,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAoC,KAA3BnH,EAA2BsH,EAAAxH,MAChCyqB,EAAS,IAAMvqB,GAAMjC,KAAKJ,MAAMoH,KAAKkI,KAAKjN,IAT5B,MAAA+H,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,GAYlB,OACI+lB,EAAA9uB,EAAAC,cAAC+xB,EAAA,EAAD,CACIhhB,QAASvR,KAAKJ,MAAMme,aAAa7c,OAAO,CACpC,CACIgH,KAAM,UAAW+F,KAAM,CAAC,MAAOxG,QAC3B4nB,EAAA9uB,EAAAC,cAAA,OAAKJ,UAAU,aACXivB,EAAA9uB,EAAAC,cAAA,UAAQJ,UAAU,uBAAuB2F,UAAW/F,KAAK8nB,aAAauH,EAAA9uB,EAAAC,cAACgyB,EAAA,EAAD,CAAiB7rB,KAAK,SAC3F3G,KAAKJ,MAAM6lB,eAI5Bze,KAAMwlB,EACN/a,YAAazR,KAAKmD,MAAMsR,KACxB2Y,aAAcptB,KAAKmD,MAAMiqB,aACzBuD,OAAQ3wB,KAAK2wB,WApF7B,CAAA7uB,IAAA,SAAAC,MAAA,WAyFoB,IAAA0C,EAAAzE,KACRa,EAAU,GAId,OAHIb,KAAKJ,MAAM8d,WAAW7c,EAAQ8L,KAAK0iB,EAAA9uB,EAAAC,cAACiyB,EAAA,EAAD,CAAQjrB,GAAIxH,KAAKJ,MAAM8d,UAAWva,MAAOnD,KAAKmD,MAAOwD,KAAK,cACjG9F,EAAUA,EAAQK,OAAOlB,KAAKJ,MAAM+d,cAAgB,IAGhD0R,EAAA9uB,EAAAC,cAACkyB,EAAA,EAAD,CAAM5xB,MAAOd,KAAKJ,MAAMkB,OACpBuuB,EAAA9uB,EAAAC,cAACmyB,EAAA,EAAD,KACItD,EAAA9uB,EAAAC,cAACoyB,EAAA,EAAD,KACIvD,EAAA9uB,EAAAC,cAACqyB,EAAA,EAAD,CACIhyB,QAASA,EACTC,MACIuuB,EAAA9uB,EAAAC,cAAA,SAAOyB,GAAG,SAASF,MAAO/B,KAAKmD,MAAMiqB,aAAcrG,YAAY,YAAY3mB,UAAU,2CAA2C6P,SAAU,SAACzM,GAAD,OAAWiB,EAAK0tB,WAAW3uB,OAExKxD,KAAK8yB,iBAIjB9yB,KAAKJ,MAAMa,cA3G5Bgd,EAAA,CAAiE/c,4KCjB5CqyB,cACjB,SAAAA,EAAYnzB,GAAwB,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+yB,IAChClzB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAizB,GAAA5yB,KAAAH,KAAMJ,KACDozB,aAAenzB,EAAKmzB,aAAalwB,KAAlBhD,OAAA0L,EAAA,EAAA1L,QAAA0L,EAAA,EAAA1L,CAAAD,KACpBA,EAAKozB,SAAWpzB,EAAKozB,SAASnwB,KAAdhD,OAAA0L,EAAA,EAAA1L,QAAA0L,EAAA,EAAA1L,CAAAD,KAChBA,EAAKqzB,iBAAmBrzB,EAAKqzB,iBAAiBpwB,KAAtBhD,OAAA0L,EAAA,EAAA1L,QAAA0L,EAAA,EAAA1L,CAAAD,KAJQA,0EAQhC,IAAI4P,GAAQ,EACRzP,KAAKJ,MAAMkQ,aACXL,EAAQzP,KAAKJ,MAAMkQ,cAGnBL,GACIzP,KAAKJ,MAAMqzB,UACXjzB,KAAKJ,MAAMqzB,kDAMfjzB,KAAKJ,MAAMuzB,gBACXnzB,KAAKJ,MAAMuzB,iBAGXnzB,KAAKJ,MAAMozB,cACXhzB,KAAKJ,MAAMozB,0DAKf,OAAKhzB,KAAKJ,MAAM4O,aAAe,GAAK,EAAU6gB,EAAA9uB,EAAAC,cAAA,UAAQJ,UAAU,oBAAoBqG,QAASzG,KAAKgzB,cAApD,aACvC3D,EAAA9uB,EAAAC,cAAA,6CAIP,IAAI4yB,EAAiB,SACjBC,EAAoB,kBAMxB,OALIrzB,KAAKJ,MAAM4O,cAAgBxO,KAAKJ,MAAM0O,aACtC8kB,EAAiB,YACjBC,EAAoB,mBAIpBhE,EAAA9uB,EAAAC,cAAA,WACI6uB,EAAA9uB,EAAAC,cAAA,OAAKJ,UAAU,sBACXivB,EAAA9uB,EAAAC,cAAA,UAAKR,KAAKJ,MAAMkB,QAEpBuuB,EAAA9uB,EAAAC,cAAA,OAAKJ,UAAU,oBACVJ,KAAKJ,MAAMa,UAEhB4uB,EAAA9uB,EAAAC,cAAA,OAAKJ,UAAU,qDACVJ,KAAKkzB,mBACN7D,EAAA9uB,EAAAC,cAAA,UAAQJ,UAAWizB,EAAmB5sB,QAASzG,KAAKizB,UAAWG,YAtD3C1yB,2JCI3B4yB,EAAb,SAAArtB,GACI,SAAAqtB,EAAY1zB,GAA0B,IAAAC,EAGlC,GAHkCC,OAAAC,EAAA,EAAAD,CAAAE,KAAAszB,IAClCzzB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwzB,GAAAnzB,KAAAH,KAAMJ,KAEGA,MAAMqf,wBAAwBC,MAAO,CAC1C,IAAIC,EAAa,GADyB/V,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IAE1C,QAAAsF,EAAAC,EAAmB3J,EAAKD,MAAMqf,aAA9BxV,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA4C,KAAnC+C,EAAmC5C,EAAAxH,MACxCod,EAAWxS,KAAK,CACZ5K,MAAOoK,EAAOlK,GAAGyG,WACjBwI,MAAO/E,EAAOwB,UAAY,IAAMxB,EAAOyB,YALL,MAAA5D,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,GAS1CzJ,EAAKsD,MAAQ,CACTpB,MAAOod,QAGXtf,EAAKsD,MAAQ,GAhBiB,OAAAtD,EAD1C,OAAAC,OAAAiM,EAAA,EAAAjM,CAAAwzB,EAAArtB,GAAAnG,OAAA+B,EAAA,EAAA/B,CAAAwzB,EAAA,EAAAxxB,IAAA,4BAAAC,MAAA,SAqBqCqd,GAC7B,GAAIA,EAAUH,wBAAwBC,MAAO,CACzC,IAAIC,EAAa,GADwBzI,GAAA,EAAAC,GAAA,EAAAC,OAAA3S,EAAA,IAEzC,QAAA4S,EAAAC,EAAmBsI,EAAUH,aAA7BxV,OAAAC,cAAAgN,GAAAG,EAAAC,EAAAnN,QAAAC,MAAA8M,GAAA,EAA2C,KAAlCvK,EAAkC0K,EAAA9U,MACvCod,EAAWxS,KAAK,CACZ5K,MAAOoK,EAAOlK,GAAGyG,WACjBwI,MAAO/E,EAAOwB,UAAY,IAAMxB,EAAOyB,YALN,MAAA5D,GAAA2M,GAAA,EAAAC,EAAA5M,EAAA,YAAA0M,GAAA,MAAAI,EAAA7M,QAAA6M,EAAA7M,SAAA,WAAA0M,EAAA,MAAAC,GASzC5W,KAAK6D,SAAS,CACV9B,MAAOod,OAhCvB,CAAArd,IAAA,qBAAAC,MAAA,WAsCY/B,KAAKJ,MAAMmO,QAAQC,IAAI/M,OAAS,GAChCjB,KAAKJ,MAAMgM,iBAvCvB,CAAA9J,IAAA,iBAAAC,MAAA,WA4CQ,IAAIkN,EAAU,GACd,GAAInP,OAAOmO,KAAKjO,KAAKJ,MAAMmO,QAAQmB,MAAMjO,OAAS,EAC9C,IAAK,IAAI+K,KAAKhM,KAAKJ,MAAMmO,QAAQmB,KAAM,CACnC,IAAI/C,EAASnM,KAAKJ,MAAMmO,QAAQmB,KAAKlD,GACrCiD,EAAQtC,KAAK,CACTuE,MAAO/E,EAAOwB,UAAY,IAAMxB,EAAOyB,SACvC7L,MAAOiK,IAKnB,OAAOiD,IAvDf,CAAAnN,IAAA,WAAAC,MAAA,SA0DqB2O,GACb,IAAI4O,EAA+C,CAAC5O,GAChD1Q,KAAKJ,MAAMoR,UACXsO,EAAM5O,GAGV1Q,KAAK6D,SAAS,CACV9B,MAAOud,IAGX,IAAIvR,EAAU,GAViD4H,GAAA,EAAAC,GAAA,EAAAC,OAAA5R,EAAA,IAW/D,QAAA6R,EAAAC,EAAcuJ,EAAd7V,OAAAC,cAAAiM,GAAAG,EAAAC,EAAApM,QAAAC,MAAA+L,GAAA,EAAmB,KAAV4J,EAAUzJ,EAAA/T,MACfgM,EAAQpB,KAAK3M,KAAKJ,MAAMmO,QAAQmB,KAAKqQ,EAAExd,SAZoB,MAAAiI,GAAA4L,GAAA,EAAAC,EAAA7L,EAAA,YAAA2L,GAAA,MAAAI,EAAA9L,QAAA8L,EAAA9L,SAAA,WAAA2L,EAAA,MAAAC,GAe3D7V,KAAKJ,MAAMqQ,WACPjQ,KAAKJ,MAAMoR,QACXhR,KAAKJ,MAAMqQ,SAASlC,GAEpB/N,KAAKJ,MAAMqQ,SAASlC,EAAQ,OA7E5C,CAAAjM,IAAA,eAAAC,MAAA,WAmFQ,OAAI/B,KAAKJ,MAAMoR,QACJhR,KAAKmD,MAAMpB,OAAS,IAGvB/B,KAAKmD,MAAMpB,OAAS,IAAI,KAvFxC,CAAAD,IAAA,SAAAC,MAAA,WA0FoB,IAAA0C,EAAAzE,KACZ,OAAKA,KAAKJ,MAAMgN,QAcT,KAbKtM,EAAAC,EAAAC,cAAC+yB,EAAA,EAAD,CACJxjB,IAAK,SAACgB,GAAsBtM,EAAK7E,MAAMmQ,KAAKtL,EAAK7E,MAAMmQ,IAAIgB,IAC3D0O,aAAa,EACbxQ,QAASjP,KAAK0f,iBACdC,uBAAuB,EACvBC,qBAAqB,EACrBC,iBAAiB,EACjB7O,QAAShR,KAAKJ,MAAMoR,UAAW,EAC/Bf,SAAUjQ,KAAKiQ,SAASnN,KAAK9C,MAC7B+B,MAAO/B,KAAK8f,qBArG5BwT,EAAA,CAAmC5yB,aA6HtBioB,EAAe9hB,YAhBJ,SAAC1D,EAAcvD,GACnC,MAAO,CACHmO,QAAS5K,EAAM6D,KAAK+G,QACpBnB,QAASzJ,EAAM6D,KAAK+G,QAAQnB,UAIT,SAAC3F,EAAsDrH,GAC9E,MAAO,CACHgM,aAAc,WACV3E,EAASiH,IAAKtC,mBAME/E,CAA6CysB,2HC/IpD/U,mLAEb,OACIje,EAAAC,EAAAC,cAAA,QAAMJ,UAAU,oBACZE,EAAAC,EAAAC,cAAA,SAAOyB,GAAIjC,KAAKJ,MAAMqC,GAAID,KAAK,WAAW5B,UAAU,SAASoQ,QAASxQ,KAAKJ,MAAM4Q,QAASP,SAAUjQ,KAAKJ,MAAMqQ,WAC/G3P,EAAAC,EAAAC,cAAA,SAAOmR,QAAQ,QAAQ3R,KAAKJ,MAAMsR,eALZxQ,4KCUjByoB,cAGjB,SAAAA,EAAYvpB,GAAmB,IAAAC,EAAA,OAAAC,OAAA6O,EAAA,EAAA7O,CAAAE,KAAAmpB,IAC3BtpB,EAAAC,OAAA8O,EAAA,EAAA9O,CAAAE,KAAAF,OAAA+O,EAAA,EAAA/O,CAAAqpB,GAAAhpB,KAAAH,KAAMJ,KACD4zB,MAAQ3zB,EAAK2zB,MAAM1wB,KAAXhD,OAAAiP,EAAA,EAAAjP,QAAAiP,EAAA,EAAAjP,CAAAD,KACbA,EAAKiP,cAAgBjP,EAAKiP,cAAchM,KAAnBhD,OAAAiP,EAAA,EAAAjP,QAAAiP,EAAA,EAAAjP,CAAAD,KACrBA,EAAKyQ,eAAiBzQ,EAAKyQ,eAAexN,KAApBhD,OAAAiP,EAAA,EAAAjP,QAAAiP,EAAA,EAAAjP,CAAAD,KACtBA,EAAK4zB,gBAAkB5zB,EAAK4zB,gBAAgB3wB,KAArBhD,OAAAiP,EAAA,EAAAjP,QAAAiP,EAAA,EAAAjP,CAAAD,KACvBA,EAAKmP,SAAWnP,EAAKmP,SAASlM,KAAdhD,OAAAiP,EAAA,EAAAjP,QAAAiP,EAAA,EAAAjP,CAAAD,KAEhBA,EAAKsD,MAAQ,CACTuwB,aAAc,GACdxnB,IAAK,GACLgf,KAAM,GACNE,MAAO,GACPC,QAAQ,GAbexrB,qEAiBjB2D,GAEV,GADAA,EAAMymB,iBACFjqB,KAAKwP,OAAQ,CACb,IAAImkB,EAAY3zB,KAAKmD,MAAMuwB,aACvBjkB,EAAQzP,KAAKwP,OAAOE,gBAOxB,GANA1P,KAAKwP,OAAOpP,UAAY,gBAEpBqP,IACAA,EAAQzP,KAAKmD,MAAM+I,IAAIjL,OAAS,GAGhCwO,EAAO,CACP,IAAIyb,EAAO,IAAInnB,KAAK,cAAgB/D,KAAKmD,MAAM+nB,MAC3CE,EAAQ,IAAIrnB,KAAK,cAAgB/D,KAAKmD,MAAMioB,OAC5CwI,GAAcxI,EAAM5mB,UAAY0mB,EAAK1mB,WAAa,IAAO,GAAK,GAE9DovB,EAAa,IAAGA,GAA0B,IALvC,IAAAxqB,GAAA,EAAAC,GAAA,EAAAC,OAAArF,EAAA,IAOP,QAAAsF,EAAAC,EAAcxJ,KAAKmD,MAAM+I,IAAzBzC,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA8B,KAArB4C,EAAqBzC,EAAAxH,MAC1B4xB,EAAU3nB,EAAE/J,IAAM,CACdA,GAAI+J,EAAE/J,GACNkK,OAAQH,EACRkf,KAAMA,EACNE,MAAOA,EACPC,OAAQrrB,KAAKmD,MAAMkoB,OACnBuI,WAAYA,IAdb,MAAA5pB,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAI,EAAAS,QAAAT,EAAAS,SAAA,WAAAZ,EAAA,MAAAC,GAkBPtJ,KAAK6D,SAAS,CACV6vB,aAAcC,EACdznB,IAAK,GACLgf,KAAM,GACNE,MAAO,GACPC,QAAQ,4CAMF7nB,GAClB,IAAM6L,EAAS7L,EAAM6L,OACftN,EAAwB,aAAhBsN,EAAOrN,KAAsBqN,EAAOmB,QAAUnB,EAAOtN,MAC7DuN,EAAOD,EAAOC,KAGpBtP,KAAK6D,SAAL/D,OAAAyP,EAAA,EAAAzP,CAAA,GACKwP,EAAOvN,2CAIO2O,GACnB,GAAIA,EAAK,CACL,IAAImjB,EAA0BnjB,EAC9B1Q,KAAK6D,SAAS,CACVqI,IAAK2nB,6CAKOrwB,GACpB,GAAIA,EAAMke,cAAcC,YAAcne,EAAMke,cAAcC,WAAWC,cAAe,CAChF,IAAI3f,EAAKuB,EAAMke,cAAcC,WAAWC,cAAcC,aAAa,YAEnE,GAAI5f,EAAI,CACJ,IAAIwmB,EAAUzoB,KAAKmD,MAAMuwB,oBAClBjL,EAAQxmB,GACfjC,KAAK6D,SAAS,CACV6vB,aAAcjL,yCAO1B,OAAI3oB,OAAOmO,KAAKjO,KAAKmD,MAAMuwB,cAAczyB,OAAS,IAC9CjB,KAAKJ,MAAM2L,OAAO,CACdW,IAAKlM,KAAKmD,MAAMuwB,gBAGb,oCAMC,IAAAjvB,EAAAzE,KACZ,OACI6M,EAAAtM,EAAAC,cAACszB,EAAA,EAADh0B,OAAA+P,OAAA,CAAY/O,MAAM,gBAAgBgP,WAAY9P,KAAKgP,SAAUmkB,eAAgBnzB,KAAKJ,MAAMwpB,YAAc,WAAc,OAAO,IAAYppB,KAAKJ,OACxIiN,EAAAtM,EAAAC,cAAA,QAAMuP,IAAK,SAACC,GAAD,OAA2BvL,EAAK+K,OAASQ,IAChDnD,EAAAtM,EAAAC,cAAA,OAAKJ,UAAU,OACXyM,EAAAtM,EAAAC,cAAA,OAAKJ,UAAU,OACXyM,EAAAtM,EAAAC,cAAA,iBACAqM,EAAAtM,EAAAC,cAACsQ,EAAA,EAAD,CACIb,SAAUjQ,KAAKsQ,eACfU,SAAS,EACTiO,aAAcjf,KAAKmD,MAAM+I,OAGjCW,EAAAtM,EAAAC,cAAA,OAAKJ,UAAU,SACXyM,EAAAtM,EAAAC,cAAA,wBACAqM,EAAAtM,EAAAC,cAAA,QAAMJ,UAAU,oBACZyM,EAAAtM,EAAAC,cAAA,SAAOwB,KAAK,WAAW5B,UAAU,SAAS6B,GAAG,SAASqN,KAAK,SAASkB,QAASxQ,KAAKmD,MAAMkoB,OAAQpb,SAAUjQ,KAAK8O,gBAC/GjC,EAAAtM,EAAAC,cAAA,SAAOmR,QAAQ,cAI3B9E,EAAAtM,EAAAC,cAAA,WACAqM,EAAAtM,EAAAC,cAAA,OAAKJ,UAAU,OACXyM,EAAAtM,EAAAC,cAAA,OAAKJ,UAAU,OACXyM,EAAAtM,EAAAC,cAAA,iBACAqM,EAAAtM,EAAAC,cAAA,SAAOwB,KAAK,OAAOsN,KAAK,OAAOvN,MAAO/B,KAAKmD,MAAM+nB,KAAMjb,SAAUjQ,KAAK8O,cAAe1O,UAAU,eAAe8P,UAAU,KAE5HrD,EAAAtM,EAAAC,cAAA,OAAKJ,UAAU,OACXyM,EAAAtM,EAAAC,cAAA,iBACAqM,EAAAtM,EAAAC,cAAA,SAAOwB,KAAK,OAAOsN,KAAK,QAAQvN,MAAO/B,KAAKmD,MAAMioB,MAAOnb,SAAUjQ,KAAK8O,cAAe1O,UAAU,eAAe8P,UAAU,MAGlIrD,EAAAtM,EAAAC,cAAA,WACAqM,EAAAtM,EAAAC,cAAA,OAAKJ,UAAU,OACXyM,EAAAtM,EAAAC,cAAA,OAAKJ,UAAU,OACXyM,EAAAtM,EAAAC,cAAA,UAAQJ,UAAU,4BAA4BqG,QAASzG,KAAKwzB,OAA5D,oBAIZ3mB,EAAAtM,EAAAC,cAAA,WACAqM,EAAAtM,EAAAC,cAAA,OAAKJ,UAAU,OACXyM,EAAAtM,EAAAC,cAACuzB,EAAA,EAAD,CACIxiB,QAAS,CACL,CAAErJ,KAAM,KAAM+F,KAAM,CAAE9B,OAAU,CAAC,YAAa,aAAe6R,UAAU,GACvE,CAAE9V,KAAM,MAAO+F,KAAM,CAAC,QAASuD,OAAQ,qBAAsBwM,UAAU,GACvE,CAAE9V,KAAM,MAAO+F,KAAM,CAAC,SAAUuD,OAAQ,qBAAsBwM,UAAU,GACxE,CAAE9V,KAAM,iBAAkB+F,KAAM,CAAC,cAAe+P,UAAU,GAC1D,CAAE9V,KAAM,aAAc+F,KAAM,CAAC,UAAW+P,UAAU,GAClD,CAAE9V,KAAM,UAAW+F,KAAM,CAAE9B,OAAU,CAAC,OAAS1E,QAASoF,EAAAtM,EAAAC,cAAA,UAAQJ,UAAU,iBAAiBqG,QAASzG,KAAKyzB,iBAAjD,YAE5DhiB,YAAa,CAAExD,KAAM,CAAC,QAASlJ,UAAW,OAC1CiC,KAAMhH,KAAKmD,MAAMuwB,wBA7JUhzB,yLCFtCgU,EAAc,CACvBS,WAAY,aACZC,SAAU,WAEVY,cAAe,gBACfC,YAAa,cACb+d,YAAa,cAEbxd,YAAa,cACbC,UAAW,YAEXhB,eAAgB,iBAChBC,aAAc,eAEduB,aAAc,eACdC,WAAY,aAEZM,kBAAmB,oBACnBC,gBAAiB,kBAEjBO,sBAAuB,wBACvBC,oBAAqB,sBACrBgc,mBAAoB,qBACpBzb,uBAAwB,yBACxB0b,uBAAwB,yBACxBC,oBAAqB,sBAErBzb,2BAA4B,6BAC5BC,yBAA0B,2BAC1Byb,yBAA0B,2BAC1BC,uBAAwB,yBACxBjb,2BAA4B,6BAC5Bkb,2BAA4B,4BAE5Bhf,YAAa,cACbC,UAAW,YAEXZ,wBAAyB,0BACzBC,sBAAuB,wBACvB2f,qBAAsB,wBAGbrmB,EAAb,oBAAAA,IAAApO,OAAA00B,EAAA,EAAA10B,CAAAE,KAAAkO,GAAA,OAAApO,OAAA20B,EAAA,EAAA30B,CAAAoO,EAAA,OAAApM,IAAA,YAAAC,MAAA,WAC0GoE,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,IAAAA,UAAA,GAClG,OAAO+H,EAAKwmB,aAAa9pB,IAAOC,YAAc,UAAW6J,EAAYS,WAAYT,EAAYU,YAFrG,CAAAtT,IAAA,gBAAAC,MAAA,WAK8GoE,UAAAlF,OAAA,QAAAgD,IAAAkC,UAAA,IAAAA,UAAA,GACtG,OAAO+H,EAAKwmB,aAAa9pB,IAAOC,YAAc,gBAAiB6J,EAAYe,eAAgBf,EAAYgB,gBAN/G,CAAA5T,IAAA,eAAAC,MAAA,WAUQ,OAAOmM,EAAKwmB,aAAa9pB,IAAOC,YAAc,eAAgB6J,EAAYsB,cAAetB,EAAYuB,eAV7G,CAAAnU,IAAA,aAAAC,MAAA,SAa6BiF,GACrB,sBAAA2tB,EAAA70B,OAAA80B,EAAA,EAAA90B,CAAA+0B,EAAAt0B,EAAA4lB,KAAO,SAAAC,EAAOnf,GAAP,OAAA4tB,EAAAt0B,EAAA8lB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA3c,MAAA,OACH1C,EAAS,CACLjF,KAAM0S,EAAYsf,cAGtB9lB,EAAK4mB,UAAU,OAAQlqB,IAAOC,YAAc,eAAgB7D,EAAMC,EAAU,WACxEA,EAASiH,EAAKtC,kBANf,wBAAA0a,EAAAE,SAAAJ,EAAApmB,SAAP,gBAAA+0B,GAAA,OAAAJ,EAAAzuB,MAAAlG,KAAAmG,YAAA,KAdR,CAAArE,IAAA,aAAAC,MAAA,WA0BQ,OAAOmM,EAAKwmB,aAAa9pB,IAAOC,YAAc,aAAc6J,EAAY8B,YAAa9B,EAAY+B,aA1BzG,CAAA3U,IAAA,cAAAC,MAAA,WA8BQ,OAAOmM,EAAKwmB,aAAa9pB,IAAOC,YAAc,cAAe6J,EAAYuC,aAAcvC,EAAYwC,cA9B3G,CAAApV,IAAA,kBAAAC,MAAA,WAkCQ,OAAOmM,EAAKwmB,aAAa9pB,IAAOC,YAAc,4BAA6B6J,EAAY8C,kBAAmB9C,EAAY+C,mBAlC9H,CAAA3V,IAAA,sBAAAC,MAAA,WAsCQ,OAAOmM,EAAKwmB,aAAa9pB,IAAOC,YAAc,uBAAwB6J,EAAYsD,sBAAuBtD,EAAYuD,uBAtC7H,CAAAnW,IAAA,mBAAAC,MAAA,SAyCmCiF,GAAoF,IAAAnH,EAAAG,KAC/G,sBAAAg1B,EAAAl1B,OAAA80B,EAAA,EAAA90B,CAAA+0B,EAAAt0B,EAAA4lB,KAAO,SAAA8O,EAAOhuB,GAAP,OAAA4tB,EAAAt0B,EAAA8lB,KAAA,SAAA6O,GAAA,cAAAA,EAAA3O,KAAA2O,EAAAvrB,MAAA,cAAAurB,EAAAC,OAAA,SACI,IAAIC,QAAmB,SAACC,EAASC,GACpCruB,EAAS,CACLjF,KAAM0S,EAAYuf,qBAGtBsB,IAAMC,IAAI5qB,IAAOC,YAAc,uBAAwB7D,EAAM,CAAEoa,iBAAiB,IAAQ0I,KAAK,SAAC2L,GAC1FxuB,EAAS,CACLjF,KAAMZ,IAAUM,qBAChBQ,QAAS,iBAEb+E,EAASpH,EAAKqkB,yBACfwR,MAAM,SAACnhB,GACNtN,EAAS,CACLjF,KAAMZ,IAAUO,mBAChBO,QAAS,kDAflB,wBAAAgzB,EAAA1O,SAAAyO,EAAAj1B,SAAP,gBAAA21B,GAAA,OAAAX,EAAA9uB,MAAAlG,KAAAmG,YAAA,KA1CR,CAAArE,IAAA,uBAAAC,MAAA,SAgEuCE,GAC/B,sBAAA2zB,EAAA91B,OAAA80B,EAAA,EAAA90B,CAAA+0B,EAAAt0B,EAAA4lB,KAAO,SAAA0P,EAAO5uB,GAAP,OAAA4tB,EAAAt0B,EAAA8lB,KAAA,SAAAyP,GAAA,cAAAA,EAAAvP,KAAAuP,EAAAnsB,MAAA,cACH1C,EAAS,CACLjF,KAAM0S,EAAY8D,uBAClBtW,QAASD,IAHV6zB,EAAAX,OAAA,SAMIjnB,EAAK4mB,UAAU,OAAQlqB,IAAOC,YAAc,+BAAgC,CAAE5I,GAAMA,GAAMgF,EAAU,WACvGA,EAASiH,EAAKgW,0BAPf,wBAAA4R,EAAAtP,SAAAqP,EAAA71B,SAAP,gBAAA+1B,GAAA,OAAAH,EAAA1vB,MAAAlG,KAAAmG,YAAA,KAjER,CAAArE,IAAA,uBAAAC,MAAA,SA6EuCE,GAC/B,sBAAA+zB,EAAAl2B,OAAA80B,EAAA,EAAA90B,CAAA+0B,EAAAt0B,EAAA4lB,KAAO,SAAA8P,EAAOhvB,GAAP,OAAA4tB,EAAAt0B,EAAA8lB,KAAA,SAAA6P,GAAA,cAAAA,EAAA3P,KAAA2P,EAAAvsB,MAAA,cACH1C,EAAS,CACLjF,KAAM0S,EAAYwf,uBAClBhyB,QAASD,IAHVi0B,EAAAf,OAAA,SAMIjnB,EAAK4mB,UAAU,OAAQlqB,IAAOC,YAAc,+BAAgC,CAAE5I,GAAMA,GAAMgF,EAAU,WACvGA,EAASiH,EAAKgW,0BAPf,wBAAAgS,EAAA1P,SAAAyP,EAAAj2B,SAAP,gBAAAm2B,GAAA,OAAAH,EAAA9vB,MAAAlG,KAAAmG,YAAA,KA9ER,CAAArE,IAAA,oBAAAC,MAAA,SA0FoCiF,GAC5B,sBAAAovB,EAAAt2B,OAAA80B,EAAA,EAAA90B,CAAA+0B,EAAAt0B,EAAA4lB,KAAO,SAAAkQ,EAAOpvB,GAAP,OAAA4tB,EAAAt0B,EAAA8lB,KAAA,SAAAiQ,GAAA,cAAAA,EAAA/P,KAAA+P,EAAA3sB,MAAA,OACH1C,EAAS,CACLjF,KAAM0S,EAAYyf,sBAGtBjmB,EAAK4mB,UAAU,OAAQlqB,IAAOC,YAAc,uBAAwB7D,EAAMC,EAAU,WAChFA,EAASiH,EAAKgW,yBANf,wBAAAoS,EAAA9P,SAAA6P,EAAAr2B,SAAP,gBAAAu2B,GAAA,OAAAH,EAAAlwB,MAAAlG,KAAAmG,YAAA,KA3FR,CAAArE,IAAA,2BAAAC,MAAA,WAuGQ,OAAOmM,EAAKwmB,aAAa9pB,IAAOC,YAAc,qBAAsB6J,EAAYgE,2BAA4BhE,EAAYiE,4BAvGhI,CAAA7W,IAAA,yCAAAC,MAAA,SA0GyDiF,GACjD,sBAAAwvB,EAAA12B,OAAA80B,EAAA,EAAA90B,CAAA+0B,EAAAt0B,EAAA4lB,KAAO,SAAAsQ,EAAOxvB,GAAP,OAAA4tB,EAAAt0B,EAAA8lB,KAAA,SAAAqQ,GAAA,cAAAA,EAAAnQ,KAAAmQ,EAAA/sB,MAAA,cACH1C,EAAS,CACLjF,KAAM0S,EAAY0f,2BAFnBsC,EAAAvB,OAAA,SAKIjnB,EAAK4mB,UAAU,MAAOlqB,IAAOC,YAAc,0BAA2B7D,EAAMC,EAAU,WACzFA,EAASiH,EAAK0X,4BAEd3e,EAAS,CACLjF,KAAMZ,IAAUM,qBAChBQ,QAAS,oBAVd,wBAAAw0B,EAAAlQ,SAAAiQ,EAAAz2B,SAAP,gBAAA22B,GAAA,OAAAH,EAAAtwB,MAAAlG,KAAAmG,YAAA,KA3GR,CAAArE,IAAA,uBAAAC,MAAA,SA2HuCiF,GAC/B,sBAAA4vB,EAAA92B,OAAA80B,EAAA,EAAA90B,CAAA+0B,EAAAt0B,EAAA4lB,KAAO,SAAA0Q,EAAO5vB,GAAP,OAAA4tB,EAAAt0B,EAAA8lB,KAAA,SAAAyQ,GAAA,cAAAA,EAAAvQ,KAAAuQ,EAAAntB,MAAA,cACH1C,EAAS,CACLjF,KAAM0S,EAAY2f,yBAFnByC,EAAA3B,OAAA,SAKIjnB,EAAK4mB,UAAU,MAAOlqB,IAAOC,YAAc,qBAAsB7D,EAAMC,EAAU,WACpFA,EAASiH,EAAK0X,+BANf,wBAAAkR,EAAAtQ,SAAAqQ,EAAA72B,SAAP,gBAAA+2B,GAAA,OAAAH,EAAA1wB,MAAAlG,KAAAmG,YAAA,KA5HR,CAAArE,IAAA,2BAAAC,MAAA,SAuI2CE,GACnC,sBAAA+0B,EAAAl3B,OAAA80B,EAAA,EAAA90B,CAAA+0B,EAAAt0B,EAAA4lB,KAAO,SAAA8Q,EAAOhwB,GAAP,OAAA4tB,EAAAt0B,EAAA8lB,KAAA,SAAA6Q,GAAA,cAAAA,EAAA3Q,KAAA2Q,EAAAvtB,MAAA,cACH1C,EAAS,CACLjF,KAAM0S,EAAY0E,2BAClBlX,QAASD,IAHVi1B,EAAA/B,OAAA,SAMIjnB,EAAK4mB,UAAU,OAAQlqB,IAAOC,YAAc,6BAA8B,CAAE5I,GAAMA,GAAMgF,EAAU,WACrGA,EAAS,CACLjF,KAAMZ,IAAUM,qBAChBQ,QAAS,eAGb+E,EAASiH,EAAK0X,+BAZf,wBAAAsR,EAAA1Q,SAAAyQ,EAAAj3B,SAAP,gBAAAm3B,GAAA,OAAAH,EAAA9wB,MAAAlG,KAAAmG,YAAA,KAxIR,CAAArE,IAAA,0BAAAC,MAAA,SAyJ0CE,GAClC,sBAAAm1B,EAAAt3B,OAAA80B,EAAA,EAAA90B,CAAA+0B,EAAAt0B,EAAA4lB,KAAO,SAAAkR,EAAOpwB,GAAP,OAAA4tB,EAAAt0B,EAAA8lB,KAAA,SAAAiR,GAAA,cAAAA,EAAA/Q,KAAA+Q,EAAA3tB,MAAA,cACH1C,EAAS,CACLjF,KAAM0S,EAAY0E,2BAClBlX,QAASD,IAHVq1B,EAAAnC,OAAA,SAMIjnB,EAAK4mB,UAAU,SAAUlqB,IAAOC,YAAc,qBAAsB,CAAE5I,GAAMA,GAAMgF,EAAU,WAC/FA,EAAS,CACLjF,KAAMZ,IAAUM,qBAChBQ,QAAS,iBAGb+E,EAASiH,EAAK0X,+BAZf,wBAAA0R,EAAA9Q,SAAA6Q,EAAAr3B,SAAP,gBAAAu3B,GAAA,OAAAH,EAAAlxB,MAAAlG,KAAAmG,YAAA,KA1JR,CAAArE,IAAA,aAAAC,MAAA,WA4KQ,OAAOmM,EAAKwmB,aAAa9pB,IAAOC,YAAc,aAAc6J,EAAYY,YAAaZ,EAAYa,aA5KzG,CAAAzT,IAAA,wBAAAC,MAAA,WAgLQ,OAAOmM,EAAKwmB,aAAa9pB,IAAOC,YAAc,yBAA0B6J,EAAYC,wBAAyBD,EAAYE,yBAhLjI,CAAA9S,IAAA,qBAAAC,MAAA,SAmLqCiF,GAAoF,IAAAvC,EAAAzE,KACjH,sBAAAw3B,EAAA13B,OAAA80B,EAAA,EAAA90B,CAAA+0B,EAAAt0B,EAAA4lB,KAAO,SAAAsR,EAAOxwB,GAAP,OAAA4tB,EAAAt0B,EAAA8lB,KAAA,SAAAqR,GAAA,cAAAA,EAAAnR,KAAAmR,EAAA/tB,MAAA,cAAA+tB,EAAAvC,OAAA,SACI,IAAIC,QAAmB,SAACC,EAASC,GACpCruB,EAAS,CACLjF,KAAM0S,EAAY6f,uBAGtBgB,IAAMC,IAAI5qB,IAAOC,YAAc,yBAA0B7D,EAAM,CAAEoa,iBAAiB,IAAQ0I,KAAK,SAAC2L,GAC5FxuB,EAAS,CACLjF,KAAMZ,IAAUM,qBAChBQ,QAAS,iBAEb+E,EAASxC,EAAK4a,2BACfqW,MAAM,SAACnhB,GACNtN,EAAS,CACLjF,KAAMZ,IAAUO,mBAChBO,QAAS,kDAflB,wBAAAw1B,EAAAlR,SAAAiR,EAAAz3B,SAAP,gBAAA23B,GAAA,OAAAH,EAAAtxB,MAAAlG,KAAAmG,YAAA,KApLR,CAAArE,IAAA,eAAAC,MAAA,SA0MgC61B,EAAeC,EAAqBC,GAC5D,sBAAAC,EAAAj4B,OAAA80B,EAAA,EAAA90B,CAAA+0B,EAAAt0B,EAAA4lB,KAAO,SAAA6R,EAAO/wB,GAAP,OAAA4tB,EAAAt0B,EAAA8lB,KAAA,SAAA4R,GAAA,cAAAA,EAAA1R,KAAA0R,EAAAtuB,MAAA,cAAAsuB,EAAA9C,OAAA,SACI,IAAIC,QAAmB,SAACC,EAASC,GACpCruB,EAAS,CACLjF,KAAM61B,IAGVtC,IAAMpU,IAAIyW,EAAO,CAAExW,iBAAiB,IAAQ0I,KAAK,SAAA2L,GAC7C,IAAIzuB,EAAOkH,EAAKmT,WAAWoU,EAASzuB,MAEpCquB,EAAQpuB,EAAS,CACbjF,KAAM81B,EACN51B,QAAS8E,OAEd0uB,MAAM,SAACnhB,GACNmS,QAAQC,IAAIpS,GACRA,EAAMkhB,UAAyD,MAA5ClhB,EAAMkhB,SAA2Bhd,OACpDxR,EAAS,CACLjF,KAAMZ,IAAUO,mBAChBO,QAAS,uBAGb+E,EAAS,CACLjF,KAAMZ,IAAUO,mBAChBO,QAAS,6CAIjBmzB,EAAQpuB,EAAS,CACbjF,KAAM81B,EACN51B,QAAS,WA7BlB,wBAAA+1B,EAAAzR,SAAAwR,EAAAh4B,SAAP,gBAAAk4B,GAAA,OAAAH,EAAA7xB,MAAAlG,KAAAmG,YAAA,KA3MR,CAAArE,IAAA,YAAAC,MAAA,SAgP6Bo2B,EAAmCP,EAAe5wB,EAAWC,EAAoBmxB,GACtG,OAAO,IAAIhD,QAAc,SAACC,EAASC,GAC/BC,IAAM,CACF4C,OAAQA,EACRE,IAAKT,EACL5wB,KAAMA,EACNoa,iBAAiB,IAClB0I,KAAK,SAAA2L,GACOvnB,EAAKmT,WAAWoU,EAASzuB,MAEpCoxB,IACA/C,MACDK,MAAM,SAACnhB,GACNmS,QAAQC,IAAIpS,GACRA,EAAMkhB,UAAyD,MAA5ClhB,EAAMkhB,SAA2Bhd,OACpDxR,EAAS,CACLjF,KAAMZ,IAAUO,mBAChBO,QAAS,uBAGb+E,EAAS,CACLjF,KAAMZ,IAAUO,mBAChBO,QAAS,mDAtQjC,CAAAJ,IAAA,aAAAC,MAAA,SA6Q6BiF,GACrB,GAAIA,aAAgBkY,OAAyB,kBAATlY,EAAmB,CACnD,IAAK,IAAIgF,KAAKhF,EACVA,EAAKgF,GAAKkC,EAAKmT,WAAWra,EAAKgF,IAEnC,OAAOhF,EAGP,MADgB,sKACFsxB,KAAKtxB,GACR,IAAIjD,KAAKiD,GAETA,MAxRvBkH,EAAA","file":"static/js/main.3ebd8dc7.chunk.js","sourcesContent":["export enum AuthRoles {\n    AUTHENTICATED = 'authenticated',\n\n    CONTACTS_READ = 'contacts_read',\n    CONTACTS_EDIT = 'contacts_edit',\n\n    MEMBERS_READ = 'members_read',\n    MEMBERS_EDIT = 'members_edit',\n\n    RANKS_READ = 'ranks_read',\n    RANKS_EDIT = 'ranks_edit',\n\n    ORDERS_READ = 'orders_read',\n    ORDERS_EDIT = 'orders_edit',\n\n    COMPENSATIONS_READ = 'compensation_read',\n    COMPENSATIONS_CREATE = 'compensation_create',\n    COMPENSATIONS_EDIT = 'compensation_edit',\n    COMPENSATIONS_APPROVE = 'compensation_approve',\n\n    BILLINGREPORTS_READ = 'billingreports_read',\n    BILLINGREPORTS_CREATE = 'billingreports_create',\n    BILLINGREPORTS_EDIT = 'billingreports_edit',\n    BILLINGREPORTS_APPROVE = 'billingrepors_approve',\n\n    DRAFT_READ = 'draft_read',\n    DRAFT_CREATE = 'draft_create',\n    DRAFT_EDIT = 'draft_edit',\n\n    ADMIN = 'admin'\n}","import React, { Component } from \"react\";\n\nexport default class Column extends Component<{ className?: string }> {\n    private className = 'col'\n\n    constructor(props: { className?: string }) {\n        super(props)\n\n        if (this.props.className && this.props.className.indexOf('col') > -1) {\n            this.className = this.props.className\n        } else if (this.props.className) {\n            this.className += ' ' + this.props.className\n        }\n    }\n\n    public render() {\n        return (\n            <div className={this.className}>\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\n\nexport default class Panel extends Component<{ title?: string | React.ReactNode, actions?: Array<any>, className?: string, scrollable?: boolean }> {\n    public render() {\n        let header;\n        let actions = this.props.actions || []\n\n        if (this.props.title) {\n            header = <div className=\"panel-header\"><span className=\"panel-title\">{this.props.title}</span>\n                <div className=\"panel-actions\">\n                    {actions.map(el => el)}\n                </div>\n            </div>\n        } else if (this.props.actions && this.props.actions.length > 0) {\n            header = <div className=\"panel-header\">\n                <div className=\"panel-actions\">\n                    {actions.map(el => el)}\n                </div>\n            </div>\n        }\n\n        return (\n            <div className={\"panel \" + (this.props.className || '')}>\n                {header}\n                <div className={`panel-body ${(this.props.scrollable) ? 'panel-body-scrollable' : ''}`}>\n                    {this.props.children}\n                </div>\n            </div>\n        )\n    }\n}","import StringIndexed from \"../interfaces/StringIndexed\";\n\nexport const UIActions = {\n    NAVIBAR_TOGGLE: 'navibar_toggle',\n    NAVIBAR_OPEN: 'navibar_open',\n    NAVIBAR_CLOSE: 'navibar_close',\n    NAVIBAR_LEVEL_OPEN: 'navibar_level_open',\n    NAVIBAR_LEVEL_COLLAPSE: 'navibar_level_collapse',\n\n    NOTIFICATION_SUCCESS: 'notification_success',\n    NOTIFICATION_ERROR: 'notification_error'\n}\n\nexport class UI {\n    public static toggleNavibar() {\n        return {\n            type: UIActions.NAVIBAR_TOGGLE\n        }\n    }\n\n    public static openNavibar() {\n        return {\n            type: UIActions.NAVIBAR_OPEN\n        }\n    }\n\n    public static closeNavibar() {\n        return {\n            type: UIActions.NAVIBAR_CLOSE\n        }\n    }\n\n    public static openNavibarLevel(id: string) {\n        return {\n            type: UIActions.NAVIBAR_LEVEL_OPEN,\n            payload: id\n        }\n    }\n\n    public static collapseNavibarLevel() {\n        return {\n            type: UIActions.NAVIBAR_LEVEL_COLLAPSE\n        }\n    }\n\n    public static showError(message: string) {\n        return {\n            type: UIActions.NOTIFICATION_ERROR,\n            payload: message\n        }\n    }\n\n    public static showSuccess(message: string) {\n        return {\n            type: UIActions.NOTIFICATION_SUCCESS,\n            payload: message\n        }\n    }\n}","import React, { Component, HTMLAttributes, SyntheticEvent, MouseEvent } from \"react\";\n\nexport interface SwipeProps extends HTMLAttributes<{}> {\n    minThreshold?: number,\n    maxThreshold?: number,\n    minDurationThreshold?: number,\n    maxDurationThreshold?: number,\n    mouseMove?: boolean,\n    swipingRight?: (event: any) => void\n    swipingLeft?: (event: any) => void\n    swipingUp?: (event: any) => void\n    swipingDown?: (event: any) => void\n    swipedRight?: (event: any) => void\n    swipedLeft?: (event: any) => void\n    swipedUp?: (event: any) => void\n    swipedDown?: (event: any) => void\n}\n\ninterface Coordinates {\n    x: number,\n    y: number\n}\n\ninterface SwipeState {\n    capturing: boolean\n    start: Coordinates,\n    startTime?: Date,\n    end?: Coordinates,\n    endTime?: Date,\n    current?: Coordinates\n}\n\nexport default class Swipe extends Component<SwipeProps, SwipeState> {\n    private scrolling: boolean = false\n    private scrollTimeout: NodeJS.Timeout\n    private minThreshold: number\n    private maxThreshold: number\n    private minDurationThreshold: number\n    private maxDurationThreshold: number\n\n    constructor(props: SwipeProps) {\n        super(props)\n\n        this.minThreshold = props.minThreshold || 10\n        this.maxThreshold = props.maxThreshold || 100\n        this.minDurationThreshold = props.minDurationThreshold || 0\n        this.maxDurationThreshold = props.maxDurationThreshold || 100\n\n        this.onStart = this.onStart.bind(this)\n        this.onMove = this.onMove.bind(this)\n        this.onEnd = this.onEnd.bind(this)\n        this.onScroll = this.onScroll.bind(this)\n\n        this.state = {\n            capturing: false,\n            start: { x: -1, y: -1 }\n        }\n    }\n\n    private onStart(event: any): void {\n        if (!this.scrolling && ((event.clientX && this.props.mouseMove) || event.touches)) {\n            let x = 0, y = 0\n            if (event.clientX) {\n                x = event.clientX\n                y = event.clientY\n            } else if (event.touches) {\n                x = event.touches[0].clientX\n                y = event.touches[0].clientY\n            }\n\n            this.setState({\n                capturing: true,\n                start: { x: x, y: y },\n                startTime: new Date(),\n                current: undefined,\n                end: undefined\n            })\n        }\n    }\n\n    private onMove(event: any): void {\n        if (this.state.capturing) {\n            let x = 0, y = 0\n            if (event.clientX) {\n                x = event.clientX\n                y = event.clientY\n            } else if (event.touches) {\n                x = event.touches[0].clientX\n                y = event.touches[0].clientY\n            }\n\n            this.setState({\n                current: { x: x, y: y }\n            })\n\n            this.fireRunningEvents(this.calculateDirection(this.state.start, { x: x, y: y }), event)\n        }\n    }\n\n    private onEnd(event: any): void {\n        if (this.state.capturing && this.state.start && this.state.startTime) {\n            let x = 0, y = 0\n            if (event.clientX) {\n                x = event.clientX\n                y = event.clientY\n            } else if (event.touches) {\n                x = event.changedTouches[0].clientX\n                y = event.changedTouches[0].clientY\n            }\n\n            this.setState({\n                capturing: false,\n                end: { x: x, y: y },\n                endTime: new Date()\n            })\n\n            this.fireFinishEvents(this.calculateDirection(this.state.start, { x: x, y: y }), new Date().getTime() - this.state.startTime.getTime(), event)\n        }\n    }\n\n    private onScroll(event: SyntheticEvent): void {\n        this.scrolling = true\n        if (this.scrollTimeout) {\n            clearTimeout(this.scrollTimeout)\n        }\n\n        this.scrollTimeout = setTimeout(() => { this.scrolling = false }, 150)\n    }\n\n    private calculateDirection(start: Coordinates, end: Coordinates): string {\n        let x = Math.abs(start.x - end.x)\n        let y = Math.abs(start.y - end.y)\n\n        if (x > y) {\n            if (x > this.minThreshold && x < this.maxThreshold) {\n                if (start.x > end.x) {\n                    return 'left'\n                }\n                return 'right'\n            }\n        } else {\n            if (y > this.minThreshold && y < this.maxThreshold) {\n                if (start.y > end.y) {\n                    return 'up'\n                }\n                return 'down'\n            }\n        }\n\n        return ''\n    }\n\n    private fireFinishEvents(direction: string, duration: number, event: any): void {\n        if (duration > this.minDurationThreshold && duration < this.maxDurationThreshold) {\n            switch (direction) {\n                case 'up':\n                    if (this.props.swipedUp) this.props.swipedUp(event)\n                    break\n                case 'right':\n                    if (this.props.swipedRight) this.props.swipedRight(event)\n                    break\n                case 'down':\n                    if (this.props.swipedDown) this.props.swipedDown(event)\n                    break\n                case 'left':\n                    if (this.props.swipedLeft) this.props.swipedLeft(event)\n                    break\n            }\n        }\n    }\n\n    private fireRunningEvents(direction: string, event: any): void {\n        switch (direction) {\n            case 'up':\n                if (this.props.swipingUp) this.props.swipingUp(event)\n                break\n            case 'right':\n                if (this.props.swipingRight) this.props.swipingRight(event)\n                break\n            case 'down':\n                if (this.props.swipingDown) this.props.swipingDown(event)\n                break\n            case 'left':\n                if (this.props.swipingLeft) this.props.swipingLeft(event)\n                break\n        }\n    }\n\n    public render() {\n        return (\n            <div\n                onScroll={this.onScroll}\n                onTouchStart={this.onStart}\n                onTouchMove={this.onMove}\n                onTouchEnd={this.onEnd}\n                onMouseDown={this.onStart}\n                onMouseMove={this.onMove}\n                onMouseUp={this.onEnd}\n                className={this.props.className}\n            >\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { Dispatch } from \"redux\";\nimport { UI } from \"../actions/UIActions\";\nimport User from \"../entities/User\";\nimport { RouterProps } from \"react-router\";\nimport Config from \"../Config\";\n\nexport class _Header extends Component<{ open: boolean, user: User, onClick: () => {} } & RouterProps, {}> {\n    public render() {\n        let className = 'navibar-open'\n        if (!this.props.open) {\n            className = 'navibar-collapsed'\n        }\n\n        if (this.props.user) {\n            return (\n                <div id=\"header\">\n                    <div id=\"header-title\" className={className}>\n                        <div id=\"user\">\n                            {this.props.user.displayName}\n                        </div>\n                    </div>\n                    <div id=\"header-bars\" onClick={this.props.onClick}>\n                        <span>\n                            <FontAwesomeIcon icon=\"bars\" />\n                        </span>\n                    </div>\n                </div>\n            )\n        }\n\n        return (\n            <div></div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open: state.ui.navibar_open,\n        user: state.data.user.data\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        onClick: () => {\n            dispatch(UI.toggleNavibar())\n        }\n    }\n}\n\n//@ts-ignore\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(_Header)","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { NavLink } from \"react-router-dom\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport { UI } from \"../actions/UIActions\";\nimport { connect } from \"react-redux\";\nimport { AnyAction } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport CurrentDevice from 'current-device'\nimport { withRouter } from 'react-router-dom'\n\nexport interface NavibarElementProps {\n    level?: number,\n    leftIcon?: IconProp,\n    rightIcon?: IconProp,\n    to?: string,\n    text: string,\n    navibar_open?: boolean,\n    onMouseUp?: (event: React.MouseEvent<HTMLElement>) => void,\n    onClose?: () => void,\n    toggleNavibar?: () => void\n}\n\nexport class _NavibarElement extends Component<NavibarElementProps> {\n    private level: number\n\n    constructor(props: NavibarElementProps) {\n        super(props)\n\n        this.onMouseUp = this.onMouseUp.bind(this)\n        this.level = this.props.level || 0\n    }\n\n    private onMouseUp(event: React.MouseEvent<HTMLElement>) {\n        if (this.level === 0 && this.props.onClose) this.props.onClose()\n        if (this.props.onMouseUp) this.props.onMouseUp(event)\n        if (CurrentDevice.mobile() && this.props.toggleNavibar && this.props.to) this.props.toggleNavibar()\n    }\n\n    private renderLinkElement(to: string, content: Array<JSX.Element>, onMouseUp: (event: React.MouseEvent<HTMLElement>) => void) {\n        if (to.match(/^(http|https):\\/\\//)) {\n            return (\n                <a href={to} className=\"navibar-element\" onMouseUp={onMouseUp} >\n                    {content}\n                </a>\n            )\n        } else {\n            return (\n                <NavLink exact to={to} className=\"navibar-element\" activeClassName=\"navibar-element-active\" onMouseUp={onMouseUp} >\n                    {content}\n                </ NavLink>\n            )\n        }\n    }\n\n    public render() {\n        let leftIcon\n        let rightIcon: JSX.Element = <p></p>\n\n        if (this.props.leftIcon) leftIcon = <FontAwesomeIcon icon={this.props.leftIcon} className=\"navibar-element-icon\" />\n        if (this.props.rightIcon) rightIcon = <FontAwesomeIcon icon={this.props.rightIcon} className=\"navibar-element-icon navibar-element-icon-right float-right\" />\n\n        if (this.props.to) {\n            return this.renderLinkElement(this.props.to, [\n                <li>\n                    {leftIcon}\n                    <p className=\"navibar-element-text\">{this.props.text}</p>\n                    {rightIcon}\n                </li>\n            ], this.onMouseUp)\n        } else {\n            return (\n                <li className=\"navibar-element\" onMouseUp={this.onMouseUp}>\n                    {leftIcon}\n                    <p className=\"navibar-element-text\">{this.props.text}</p>\n                    {rightIcon}\n                </li>\n            )\n        }\n    }\n}\n\n\nconst mapStateToProps = (state: State) => {\n    return {\n        navibar_open: state.ui.navibar_open\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        onClose: () => {\n            dispatch(UI.collapseNavibarLevel())\n        },\n        toggleNavibar: () => {\n            dispatch(UI.toggleNavibar())\n        }\n    }\n}\n\n//@ts-ignore\nexport const NavibarElement = withRouter(connect(mapStateToProps, mapDispatchToProps)(_NavibarElement))","import { NavibarElement } from \"./NavibarElement\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport React, { Component, Children, cloneElement, ReactElement } from \"react\";\nimport { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { UI } from \"../actions/UIActions\";\n\nexport interface NavibarLevelHeaderProps {\n    leftIcon?: IconProp,\n    text: string,\n    id: string,\n    level: number,\n    open_level: string,\n    onOpen: (id: string) => void,\n    onClose: () => void\n}\n\nexport default class _NavibarLevelHeader extends Component<NavibarLevelHeaderProps> {\n\n    constructor(props: NavibarLevelHeaderProps) {\n        super(props)\n        this.onClick = this.onClick.bind(this)\n    }\n\n    private onClick(event: React.MouseEvent<HTMLElement>) {\n        if (this.props.open_level === this.props.id) {\n            this.props.onClose()\n        } else {\n            this.props.onOpen(this.props.id)\n        }\n    }\n\n    public render() {\n        let openClass = ''\n        let rightIcon: IconProp = 'angle-up'\n\n        if (this.props.id !== this.props.open_level) {\n            openClass = ' level-collapsed'\n            rightIcon = 'angle-down'\n        }\n\n        return (\n            <div>\n                <NavibarElement leftIcon={this.props.leftIcon} rightIcon={rightIcon} text={this.props.text} onMouseUp={this.onClick} />\n                <div key={\"levelContainer-\" + this.props.id} className={\"level-container\" + \" level-\" + this.props.level.toString() + openClass}>\n                    {\n                        Children.map(this.props.children, child => {\n                            return cloneElement(child as ReactElement<any>, { level: this.props.level })\n                        })\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open_level: state.ui.navibar_level\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        onOpen: (id: string) => {\n            dispatch(UI.openNavibarLevel(id))\n        },\n        onClose: () => {\n            dispatch(UI.collapseNavibarLevel())\n        },\n    }\n}\n\n\n//@ts-ignore\nexport const NavibarLevelHeader = connect(mapStateToProps, mapDispatchToProps)(_NavibarLevelHeader)","import React, { Component } from \"react\";\nimport { NavibarElement } from \"./NavibarElement\";\nimport { connect } from \"react-redux\";\nimport { State } from '../reducers/IndexReducer'\nimport { NavibarLevelHeader } from \"./NavibarLevelHeader\";\nimport { AuthRoles } from \"../interfaces/AuthRoles\";\nimport User from \"../entities/User\";\nimport Config from \"../Config\";\n\nexport class _Navibar extends Component<{ open: boolean, user?: User }> {\n    public renderElement(element: JSX.Element, roles?: Array<AuthRoles>) {\n        if (roles) {\n            for (let role of roles) {\n                if (this.props.user && (this.props.user.roles.includes(role) || this.props.user.roles.includes(AuthRoles.ADMIN))) {\n                    return element\n                }\n            }\n        } else {\n            return element\n        }\n    }\n\n    public render() {\n        let className = 'navibar-open'\n        if (!this.props.open) {\n            className = 'navibar-collapsed'\n        }\n\n        if (this.props.user) {\n            return (\n                <div id=\"navibar\" className={className}>\n                    <ol>\n                        {this.renderElement(<NavibarElement to=\"/dashboard\" text=\"Dashboard\" leftIcon=\"tachometer-alt\" />, [AuthRoles.AUTHENTICATED])}\n                        {this.renderElement(<NavibarElement to=\"/members\" text=\"Mitglieder\" leftIcon=\"users\" />, [AuthRoles.MEMBERS_READ])}\n                        {this.renderElement(<NavibarElement to=\"/mailing-lists\" text=\"Verteiler\" leftIcon=\"mail-bulk\" />, [AuthRoles.MEMBERS_READ])}\n                        {this.renderElement(\n                            <NavibarLevelHeader text=\"Aufgebot\" leftIcon=\"address-book\" id=\"draft\" level={1}>\n                                <NavibarElement to=\"/draft/collection-points\" leftIcon=\"map-marker-alt\" text=\"Abholpunkte\" />\n                            </NavibarLevelHeader>\n                            , [AuthRoles.DRAFT_READ, AuthRoles.DRAFT_CREATE]\n                        )}\n                        {this.renderElement(<NavibarElement to=\"/orders\" text=\"Aufträge\" leftIcon=\"file-alt\" />, [AuthRoles.ORDERS_READ])}\n                        {this.renderElement(\n                            <NavibarLevelHeader text=\"Verrechnungsrapporte\" leftIcon=\"file-signature\" id=\"billingreports\" level={1}>\n                                {this.renderElement(<NavibarElement to=\"/billing-reports/add\" leftIcon=\"plus\" text=\"Erstellen\" />, [AuthRoles.BILLINGREPORTS_CREATE])}\n                                <NavibarElement to=\"/billing-reports\" leftIcon=\"list\" text=\"Alle\" />\n                            </NavibarLevelHeader>\n                            , [AuthRoles.BILLINGREPORTS_READ, AuthRoles.BILLINGREPORTS_CREATE]\n                        )}\n                        {this.renderElement(\n                            <NavibarLevelHeader text=\"Entschädigungen\" leftIcon=\"dollar-sign\" id=\"compensations\" level={1}>\n                                {this.renderElement(<NavibarElement to=\"/compensations/add\" leftIcon=\"plus\" text=\"Erstellen\" />, [AuthRoles.COMPENSATIONS_CREATE])}\n                                <NavibarElement to=\"/compensations\" leftIcon=\"list\" text=\"Alle\" />\n                            </NavibarLevelHeader>\n                            , [AuthRoles.COMPENSATIONS_READ]\n                        )}\n                        {this.renderElement(<NavibarElement to=\"/users\" text=\"Benutzer\" leftIcon=\"user\" />, [AuthRoles.ADMIN])}\n                        <NavibarElement to=\"https://vkazu.sharepoint.com/Reglemente\" text=\"Reglemente\" leftIcon=\"external-link-alt\"/>\n                        <NavibarElement to={`${Config.apiEndpoint}/api/logout`} text=\"Abmelden\" leftIcon=\"power-off\" />\n                    </ol>\n                </div>\n            )\n        }\n\n        return (\n            <div></div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open: state.ui.navibar_open,\n        user: state.data.user.data\n    }\n}\n\nexport const Navibar = connect(mapStateToProps, {}, null, { pure: false })(_Navibar)","import React, { Component } from \"react\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport { UI } from \"../actions/UIActions\";\nimport Swipe from \"./Swipe\";\nimport { Header } from \"./Header\";\nimport { Navibar } from \"./Navibar\";\n\nexport interface PageProps {\n    title: string,\n    open: boolean,\n    openNavibar?: () => void,\n    closeNavibar?: () => void\n}\n\nexport class _Page extends Component<PageProps> {\n    constructor(props: PageProps) {\n        super(props)\n\n        this.swipedRight = this.swipedRight.bind(this)\n        this.swipedLeft = this.swipedLeft.bind(this)\n    }\n\n    public swipedRight() {\n        if (this.props.openNavibar) this.props.openNavibar()\n    }\n\n    public swipedLeft() {\n        if (this.props.closeNavibar) this.props.closeNavibar()\n    }\n\n    public render() {\n        let className = 'navibar-open'\n        if (!this.props.open) {\n            className = 'navibar-collapsed'\n        }\n\n        return (\n            <div className=\"body\">\n                <Header />\n                <Navibar />\n                <Swipe className={className + ' content'} mouseMove={true} swipedRight={this.swipedRight} swipedLeft={this.swipedLeft}>\n                    <div className=\"content-top\">\n                        <h1 className=\"page-title\">{this.props.title}</h1>\n                    </div>\n                    <div className=\"content-body container-fluid\">\n                        {this.props.children}\n                    </div>\n                </Swipe>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open: state.ui.navibar_open\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        closeNavibar: () => {\n            dispatch(UI.closeNavibar())\n        },\n        openNavibar: () => {\n            dispatch(UI.openNavibar())\n        }\n    }\n}\n\nexport const Page = connect(mapStateToProps, mapDispatchToProps)(_Page)","import React, { Component } from \"react\";\n\nexport default class Row extends Component<{ className?: string }> {\n    public render() {\n        return (\n            <div className={\"row \" + this.props.className}>\n                {this.props.children}\n            </div>\n        )\n    }\n}","//@ts-ignore\nimport StepWizard from 'react-step-wizard';\nimport React, { Component } from 'react';\nimport { Page } from '../components/Page';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { Data } from '../actions/DataActions';\nimport { connect } from 'react-redux';\nimport { DataInterface } from '../reducers/DataReducer';\nimport WizardNav from '../components/WizardNav';\nimport AddBillingReportStep1 from './AddBillingReportSteps/AddBillingReportStep1';\nimport AddBillingReportStep2 from './AddBillingReportSteps/AddBillingReportStep2';\nimport AddBillingReportStep3 from './AddBillingReportSteps/AddBillingReportStep3';\nimport AddBillingReportStep4 from './AddBillingReportSteps/AddBillingReportStep4';\nimport StringIndexed from '../interfaces/StringIndexed';\nimport { BillingReportCompensationEntry, CreateBillingReport } from '../interfaces/BillingReport';\nimport { History } from \"history\";\nimport Loading from '../components/Loading';\nimport User from '../entities/User';\nimport Order from '../entities/Order';\nimport Contact from '../entities/Contact';\n\nexport interface AddBillingReportProps {\n    user: User,\n    openOrders: DataInterface<Order>,\n    members: DataInterface<Contact>,\n    loading: boolean,\n    fetchOpenOrders: Function,\n    fetchMembers: Function,\n    save: (data: CreateBillingReport) => void,\n    history: History\n}\n\ninterface AddBillingReportState {\n    order: Order,\n    date: Date,\n    vks: StringIndexed<BillingReportCompensationEntry>,\n    els: Array<Contact>,\n    drivers: Array<Contact>,\n    food: boolean,\n    remarks: string,\n    [index: string]: any\n}\n\nexport class _AddBillingReport extends Component<AddBillingReportProps, AddBillingReportState> {\n    constructor(props: AddBillingReportProps) {\n        super(props)\n\n        this.onNext = this.onNext.bind(this)\n        this.save = this.save.bind(this)\n\n        setImmediate(() => {\n            this.props.fetchOpenOrders()\n            this.props.fetchMembers()\n        })\n\n        // init it with forced nulls\n        //@ts-ignore\n        this.state = { els: [], drivers: [] }\n    }\n\n    private onNext(data: StringIndexed<any>): void {\n        let state: AddBillingReportState = this.state\n        for (let i in data) {\n            state[i] = data[i]\n        }\n        this.setState(state)\n    }\n\n    private save(): boolean {\n        let compensationEntries: StringIndexed<BillingReportCompensationEntry<number>> = {}\n\n        for (let i in this.state.vks) {\n            //@ts-ignore\n            compensationEntries[i] = this.state.vks[i]\n            compensationEntries[i].member = this.state.vks[i].member.id\n        }\n\n        this.props.save({\n            orderId: this.state.order.id,\n            date: this.state.date,\n            compensationEntries: this.state.vks,\n            els: this.state.els,\n            drivers: this.state.drivers,\n            food: this.state.food,\n            remarks: this.state.remarks,\n            creatorId: this.props.user.id\n        })\n\n        this.props.history.push('/billing-reports')\n\n        return true\n    }\n\n    public render() {\n        if (this.props.loading) {\n            return (\n                <Page title=\"Verrechnungsrapport erfassen\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Verrechnungsrapport erfassen\">\n                <Row>\n                    <Column className=\"col\">\n                        <Panel title=\"\">\n                            <StepWizard nav={<WizardNav />}>\n                                <AddBillingReportStep1 openOrders={this.props.openOrders} onNext={this.onNext} />\n                                <AddBillingReportStep2 onNext={this.onNext} />\n                                <AddBillingReportStep3 onNext={this.onNext} />\n                                <AddBillingReportStep4\n                                    onNext={this.save}\n                                    order={this.state.order}\n                                    date={this.state.date}\n                                    vks={this.state.vks}\n                                    els={this.state.els.map(el =>  el.firstname + ' ' + el.lastname )}\n                                    drivers={this.state.drivers.map(driver => driver.firstname + ' ' + driver.lastname )}\n                                    food={this.state.food}\n                                    remarks={this.state.remarks}\n                                />\n                            </StepWizard>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user.data,\n        openOrders: state.data.openOrders,\n        members: state.data.members,\n        loading: state.data.openOrders.loading ||\n            state.data.members.loading ||\n            state.data.user.loading ||\n            !state.data.openOrders.ids ||\n            !state.data.members.ids ||\n            Object.keys(state.data.user.data as User).length < 0\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchOpenOrders: () => {\n            dispatch(Data.fetchOpenOrders())\n        },\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        save: (data: CreateBillingReport) => {\n            dispatch(Data.addBillingReport(data))\n        }\n    }\n}\n\n//@ts-ignore\nexport const AddBillingReport = connect(mapStateToProps, mapDispatchToProps)(_AddBillingReport)","import React, { Component } from \"react\";\n\nexport interface WizardNavProps {\n    isActive?: boolean,\n    currentStep?: number,\n    totalSteps?: number,\n    fistStep?: () => void,\n    lastStep?: () => void,\n    nextStep?: () => void,\n    previousStep?: () => void,\n    gotoStep?: (step: number) => void\n}\n\nexport default class WizardNav extends Component<WizardNavProps> {\n    private renderSteps() {\n        let steps = []\n        let totalSteps = this.props.totalSteps || 0\n\n        for (let i = 1; i <= totalSteps; i++) {\n            let classes = 'dot'\n            if (i == this.props.currentStep) {\n                classes += ' active'\n            }\n            steps.push(<span key={i} className={classes}>•</span>)\n        }\n\n        return steps\n    }\n\n    public render() {\n        return (\n            <div key=\"WizardNav\" id=\"WizardNav\" className=\"d-flex justify-content-center\">\n                {this.renderSteps()}\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { DataInterface } from \"../../reducers/DataReducer\";\nimport WizardStep from \"../../components/WizardStep\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport Order from \"../../entities/Order\";\n\nexport interface Step1Props {\n    onNext: (data: StringIndexed<any>) => void,\n    openOrders: DataInterface<Order>\n}\n\nexport default class AddBillingReportStep1 extends Component<Step1Props, { order: string, date: string }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: Step1Props) {\n        super(props)\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.validate = this.validate.bind(this)\n\n        this.state = {\n            order: '',\n            date: ''\n        }\n    }\n\n    private renderOptions() {\n        let options = [<option key=\"none\" value=\"\">Bitte Wählen</option>]\n        for (let i of this.props.openOrders.ids) {\n            let order = this.props.openOrders.byId[i]\n            // only show the contact if the contact is not a privat person (identified that companies doesn't have any firstname)\n            if (!order.contact.firstname) {\n                options.push(<option key={order.documentNr} value={order.id}>{`${order.title} (${order.contact.lastname})`}</option>)\n            } else {\n                options.push(<option key={order.documentNr} value={order.id}>{`${order.title}`}</option>)\n            }\n        }\n\n        return options\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private validate(): boolean {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                this.props.onNext({\n                    order: this.props.openOrders.byId[parseInt(this.state.order)],\n                    date: new Date(this.state.date)\n                })\n            }\n            return valid\n        }\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Details\" onNextStep={this.validate} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form}>\n                    <h5>Einsatz</h5>\n                    <select className='form-control' name=\"order\" id=\"order\" onChange={this.onInputChange} value={this.state.order} required={true}>\n                        {this.renderOptions()}\n                    </select>\n                    <br></br>\n                    <h5>Datum</h5>\n                    <input type=\"Date\" name=\"date\" id=\"date\" className='form-control' value={this.state.date} onChange={this.onInputChange} required={true}></input>\n                </form>\n            </WizardStep>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport WizardStep from \"../../components/WizardStep\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport { DataInterface } from \"../../reducers/DataReducer\";\nimport Contact from \"../../entities/Contact\";\nimport { ValueType } from \"react-select/lib/types\";\nimport Select from 'react-select';\nimport Checkbox from \"../../components/Checkbox\";\nimport { MemberSelect } from \"../../components/MemberSelect\";\n\nexport interface AddBillingReportStep3Props {\n    onNext: (data: StringIndexed<any>) => void\n}\n\nexport default class AddBillingReportStep3 extends Component<AddBillingReportStep3Props, { els: Array<Contact>, drivers: Array<Contact>, food: boolean, remarks: string }> {\n    private onELChange: (opt: Array<Contact>) => void\n    private onDriversChange: (opt: Array<Contact>) => void\n    private formEl?: HTMLFormElement\n    private elSelect?: Select<{}>\n    private driversSelect?: Select<{}>\n\n    constructor(props: AddBillingReportStep3Props) {\n        super(props)\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onNext = this.onNext.bind(this)\n        this.onELChange = this.onSelectChange('els')\n        this.onDriversChange = this.onSelectChange('drivers')\n\n        this.state = {\n            els: [],\n            drivers: [],\n            food: false,\n            remarks: ''\n        }\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? (target as HTMLInputElement).checked : target.value;\n        const id = target.id;\n        //@ts-ignore\n        this.setState({\n            [id]: value\n        });\n    }\n\n    private onSelectChange(stateName: string) {\n        return (opt: Array<Contact>) => {\n            if (opt) {\n                //@ts-ignore\n                this.setState({\n                    [stateName]: opt\n                })\n            } else {\n                //@ts-ignore\n                this.setState({\n                    [stateName]: []\n                })\n            }\n        }\n    }\n\n    private onNext(): boolean {\n        if (this.elSelect && this.driversSelect) {\n            let valid = true\n            if (this.state.els.length <= 0) valid = false\n            if (this.state.drivers.length <= 0) valid = false\n\n            if (valid) {\n                this.props.onNext(this.state)\n                return true\n            }\n        }\n\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Weiteres\" onNextStep={this.onNext} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form} className=\"was-validated\">\n                    <h5>ELs</h5>\n                    <MemberSelect\n                        ref={(select: any) => this.elSelect = select}\n                        onChange={this.onELChange}\n                        isMulti={true}\n                    />\n                    <br></br>\n                    <h5>Fahrer</h5>\n                    <MemberSelect\n                        ref={(select: any) => this.driversSelect = select}\n                        onChange={this.onDriversChange}\n                        isMulti={true}\n                    />\n                    <br></br>\n                    <h5>Diverses</h5>\n                    <Checkbox id='food' checked={this.state.food} onChange={this.onInputChange} label=\"Verpflegung\" />\n                    <br></br>\n                    <h5>Bemerkungen</h5>\n                    <small className=\"text-muted\">Bei mehreren EL bitte die Schichtzeiten hier eingeben</small>\n                    <textarea id=\"remarks\" value={this.state.remarks} onChange={this.onInputChange} className='form-control'></textarea>\n                </form>\n            </WizardStep>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport WizardStep from \"../../components/WizardStep\";\nimport Table from \"../../components/Table\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport { BillingReportCompensationEntry } from \"../../interfaces/BillingReport\";\nimport Order from \"../../entities/Order\";\n\nexport default class AddBillingReportStep4 extends Component<{ onNext: () => boolean, order: Order, date: Date, vks: StringIndexed<BillingReportCompensationEntry>, els: Array<string>, drivers: Array<string>, food: boolean, remarks: string }> {\n    public render() {\n        return (\n            <WizardStep title=\"Zusammenfassung\" onNextStep={this.props.onNext} {...this.props}>\n                <h5>Einsatz</h5>\n                <p>{(this.props.order) ? this.props.order.title : ''}</p>\n\n                <h5>Datum</h5>\n                <p>{(this.props.date) ? this.props.date.toLocaleDateString() : ''}</p>\n\n                <h5>VKs</h5>\n                <Table<BillingReportCompensationEntry>\n                    columns={[\n                        { text: 'VK', keys: { 'member': ['firstname', 'lastname'] } },\n                        { text: 'Von', keys: ['from'], format: 'toLocaleTimeString' },\n                        { text: 'Bis', keys: ['until'], format: 'toLocaleTimeString' },\n                        { text: 'Verrechnet', keys: ['charge'] },\n                        { text: 'Anzahl Stunden', keys: ['totalHours'] }\n                    ]}\n                    defaultSort={{ keys: ['from'], direction: 'asc' }}\n                    data={(this.props.vks) ? this.props.vks : {}}\n                />\n\n                <h5>ELs</h5>\n                <p>{this.props.els.join(',')}</p>\n\n                <h5>Fahrer</h5>\n                <p>{this.props.drivers.join(',')}</p>\n\n                <h5>Diverses</h5>\n                <p className=\"switch switch-sm\">\n                    <input type=\"checkbox\" className=\"switch\" id=\"food\" name=\"food\" checked={this.props.food} />\n                    <label htmlFor=\"food\">Verpflegung</label>\n                </p>\n\n                <h5>Bemerkungen</h5>\n                <p>{(this.props.remarks) ? this.props.remarks : ''}</p>\n            </WizardStep>\n        )\n    }\n}","export default class Config {\n    static apiEndpoint: string\n\n    public static loadConfig(): void {\n        if (process.env.NODE_ENV && process.env.NODE_ENV === 'development') {\n            Config.apiEndpoint = \"http://localhost:8000\"\n        } else {\n            Config.apiEndpoint = \"https://app.vkazu.ch\"\n        }\n    }\n\n    public static isModeProduction(): boolean {\n        return Config.isMode('production')\n    }\n\n    public static isModeDev(): boolean {\n        return Config.isMode('development')\n    }\n\n    private static isMode(mode: string): boolean {\n        return (process.env.NODE_ENV || 'production').toLowerCase() === mode.toLowerCase()\n    }\n}","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { faFilePdf, faExternalLinkAlt, faFileExcel, faPowerOff, faTrash, faSave, faAddressBook, faMapMarkerAlt, faDownload, faClipboard, faBars, faTachometerAlt, faUsers, faCircleNotch, faTimes, faCheck, faSortUp, faSortDown, faPencilAlt, faFileAlt, faEye, faFileSignature, faPlus, faList, faDollarSign, faUser, faAngleDown, faAngleUp, faMailBulk } from '@fortawesome/free-solid-svg-icons'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\n//@ts-ignore\nlibrary.add(fab, faFilePdf, faExternalLinkAlt, faFileExcel, faPowerOff, faTrash, faSave, faAddressBook, faMapMarkerAlt, faDownload, faClipboard, faBars, faTachometerAlt, faUsers, faCircleNotch, faTimes, faCheck, faSortUp, faSortDown, faPencilAlt, faFileAlt, faEye, faFileSignature, faPlus, faList, faDollarSign, faDollarSign, faUser, faAngleDown, faAngleUp, faMailBulk)\n","import { combineReducers, AnyAction } from \"redux\";\nimport { UIActions } from \"../actions/UIActions\";\nimport { toast } from 'react-toastify';\nimport CurrentDevice from 'current-device'\n\nexport interface UI {\n    navibar_open: boolean,\n    navibar_level: string,\n    notification: null\n}\n\n\nfunction NavibarToggle(state: boolean = !CurrentDevice.mobile(), action: AnyAction) {\n    switch (action.type) {\n        case UIActions.NAVIBAR_TOGGLE:\n            return !state\n        case UIActions.NAVIBAR_OPEN:\n            return true\n        case UIActions.NAVIBAR_CLOSE:\n            return false\n        default:\n            return state\n    }\n}\n\nfunction NavibarLevel(state: string = '', action: AnyAction) {\n    switch (action.type) {\n        case UIActions.NAVIBAR_LEVEL_OPEN:\n            return action.payload\n        case UIActions.NAVIBAR_LEVEL_COLLAPSE:\n            return ''\n        default:\n            return state\n    }\n}\n\nfunction Notify(state = null, action: AnyAction): null {\n    switch (action.type) {\n        case UIActions.NOTIFICATION_SUCCESS:\n            toast.success(action.payload, {\n                autoClose: 2000,\n                position: (CurrentDevice.mobile() ? 'bottom-center' : 'top-right')\n            })\n            return state\n        case UIActions.NOTIFICATION_ERROR:\n            toast.error(action.payload, {\n                autoClose: 2000,\n                position: (CurrentDevice.mobile() ? 'bottom-center' : 'top-right')\n            })\n            return state\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({ navibar_open: NavibarToggle, navibar_level: NavibarLevel, notification: Notify })","import { DataActions } from \"./../actions/DataActions\";\nimport { AnyAction, combineReducers } from \"redux\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\nimport { UIActions } from \"../actions/UIActions\";\nimport User from \"../entities/User\";\nimport Contact from \"../entities/Contact\";\nimport ContactGroup from \"../entities/ContactGroup\";\nimport Order from \"../entities/Order\";\nimport BillingReport from \"../entities/BillingReport\";\nimport Compensation from \"../entities/Compensation\";\nimport CollectionPoint from \"../entities/CollectionPoint\";\n\nexport interface Data {\n    users: DataInterface<User>\n    user: SingleDataInterface<User>,\n    contacts: DataInterface<Contact>\n    members: DataInterface<Contact>\n    ranks: DataInterface<ContactGroup>\n    orders: DataInterface<Order>,\n    openOrders: DataInterface<Order>,\n    billingReports: DataInterface<BillingReport>,\n    compensationEntries: DataInterface<Compensation>,\n    mailingLists: StringIndexed<Array<string>>,\n    collectionPoints: DataInterface<CollectionPoint>\n}\n\nexport interface SingleDataInterface<T> {\n    loading: boolean,\n    data?: T\n}\n\nexport interface DataInterface<T> {\n    loading: boolean,\n    byId: StringIndexed<T>,\n    ids: Array<number>,\n    sort: { keys: Array<string>, direction: 'asc' | 'desc' }\n}\n\nfunction UserReducer(state: SingleDataInterface<User> = { loading: false, data: undefined }, action: AnyAction): SingleDataInterface<User> {\n    switch (action.type) {\n        case DataActions.FETCH_USER:\n            return Object.assign({}, state, { loading: true })\n        case DataActions.GOT_USER:\n            if (Object.keys(action.payload).length > 0) {\n                return { loading: false, data: action.payload }\n            } else {\n                return { loading: false, data: undefined }\n            }\n        default:\n            return state\n    }\n}\n\nfunction Users(state: DataInterface<User> = { loading: false, byId: {}, ids: [], sort: { keys: ['displayName'], direction: 'asc' } }, action: AnyAction): DataInterface<User> {\n    let byId: StringIndexed<User> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_USERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_USERS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let contact of action.payload) {\n                byId[contact.id] = contact\n                ids.push(contact.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Ranks(state: DataInterface<ContactGroup> = { loading: false, byId: {}, ids: [], sort: { keys: ['name'], direction: 'asc' } }, action: AnyAction): DataInterface<ContactGroup> {\n    let byId: StringIndexed<ContactGroup> = {}\n    let ids = []\n    switch (action.type) {\n        case DataActions.FETCH_RANKS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_RANKS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let rank of action.payload) {\n                byId[rank.id] = rank\n                ids.push(rank.id)\n            }\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Contacts(state: DataInterface<Contact> = { loading: false, byId: {}, ids: [], sort: { keys: ['firstname', 'lastname'], direction: 'asc' } }, action: AnyAction): DataInterface<Contact> {\n    let byId: StringIndexed<Contact> = {}\n    let ids = []\n    switch (action.type) {\n        case DataActions.FETCH_CONTACTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_CONTACTS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let contact of action.payload) {\n                byId[contact.id] = contact\n                ids.push(contact.id)\n            }\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Members(state: DataInterface<Contact> = { loading: false, byId: {}, ids: [], sort: { keys: ['firstname', 'lastname'], direction: 'asc' } }, action: AnyAction): DataInterface<Contact> {\n    let byId: StringIndexed<Contact> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_MEMBERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_MEMBERS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let contact of action.payload) {\n                byId[contact.id] = contact\n                ids.push(contact.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Orders(state: DataInterface<Order> = { loading: false, byId: {}, ids: [], sort: { keys: ['documentNr'], direction: 'desc' } }, action: AnyAction): DataInterface<Order> {\n    let byId: StringIndexed<Order> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_ORDERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_ORDERS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let order of action.payload) {\n                byId[order.id] = order\n                ids.push(order.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction OpenOrders(state: DataInterface<Order> = { loading: false, byId: {}, ids: [], sort: { keys: ['title'], direction: 'desc' } }, action: AnyAction): DataInterface<Order> {\n    let byId: StringIndexed<Order> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_OPEN_ORDERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_OPEN_ORDERS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let order of action.payload) {\n                byId[order.id] = order\n                ids.push(order.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\n\nfunction BillingReports(state: DataInterface<BillingReport> = { loading: false, byId: {}, ids: [], sort: { keys: ['orderDate'], direction: 'desc' } }, action: AnyAction): DataInterface<BillingReport> {\n    let byId: StringIndexed<BillingReport> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_BILLING_REPORTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_BILLING_REPORTS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let report of action.payload) {\n                byId[report.id] = report\n                ids.push(report.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        case DataActions.APPROVE_BILLING_REPORT:\n            byId = Object.assign({}, state.byId, Object.assign({}, state.byId[action.payload], { status: 'approved' }))\n            return Object.assign({}, state, { byId: byId })\n        default:\n            return state\n    }\n}\n\nfunction CompensationEntries(state: DataInterface<Compensation> = { loading: false, byId: {}, ids: [], sort: { keys: ['date'], direction: 'desc' } }, action: AnyAction): DataInterface<Compensation> {\n    let byId: StringIndexed<Compensation> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_COMPENSATION_ENTRIES:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_COMPENSATION_ENTRIES:\n            if (Object.keys(action.payload).length < 0) return state\n            for (let entry of action.payload) {\n                byId[entry.id] = entry\n                ids.push(entry.id)\n\n                if (!entry.hasOwnProperty('description')) {\n                    if (entry.hasOwnProperty('billingReport') && entry.billingReport.hasOwnProperty('order')) {\n                        // only show the contact if the contact is not a privat person (identified that companies doesn't have any firstname)\n                        if (entry.billingReport.order.hasOwnProperty('contact') && !entry.billingReport.order.contact.hasOwnProperty('firstname')) {\n                            byId[entry.id] = Object.assign(byId[entry.id], { description: `${entry.billingReport.order.title} (${entry.billingReport.order.contact.lastname})` })\n                        } else {\n                            byId[entry.id] = Object.assign(byId[entry.id], { description: `${entry.billingReport.order.title}` })\n                        }\n                    }\n                }\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        case DataActions.APPROVE_COMPENSATION_ENTRY:\n            byId = Object.assign({}, state.byId, Object.assign({}, state.byId[action.payload], { status: 'approved' }))\n            return Object.assign({}, state, { byId: byId })\n        default:\n            return state\n    }\n}\n\nfunction CollectionPoints(state: DataInterface<Compensation> = { loading: false, byId: {}, ids: [], sort: { keys: ['city'], direction: 'desc' } }, action: AnyAction): DataInterface<Compensation> {\n    let byId: StringIndexed<Compensation> = {}\n    let ids: Array<number> = []\n    switch (action.type) {\n        case DataActions.FETCH_COLLECTION_POINTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_COLLECTION_POINTS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let entry of action.payload) {\n                byId[entry.id] = entry\n                ids.push(entry.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction MailingLists(state: StringIndexed<Array<string>> = {}, action: AnyAction): StringIndexed<Array<string>> {\n    switch (action.type) {\n        case DataActions.GOT_MEMBERS:\n            let mailingLists = { all: ([] as Array<string>), drivers: ([] as Array<string>), vks: ([] as Array<string>), squad: ([] as Array<string>), vst: ([] as Array<string>), con: ([] as Array<string>) }\n\n            for (let member of (action.payload as Array<Contact>)) {\n                mailingLists.all.push(member.mail)\n                if (member.mailSecond) mailingLists.all.push(member.mailSecond)\n\n                // Drivers\n                if (member.contactGroups.find(group => group.bexioId === 9)) {\n                    mailingLists.drivers.push(member.mail)\n                    if (member.mailSecond) mailingLists.drivers.push(member.mailSecond)\n                }\n\n                // VKs\n                if (member.contactGroups.find(group =>\n                    group.bexioId === 17 ||\n                    group.bexioId === 13 ||\n                    group.bexioId === 11 ||\n                    group.bexioId === 12 ||\n                    group.bexioId === 28 ||\n                    group.bexioId === 29 ||\n                    group.bexioId === 15 ||\n                    group.bexioId === 27 ||\n                    group.bexioId === 26 ||\n                    group.bexioId === 10 ||\n                    group.bexioId === 14\n                )) {\n                    mailingLists.vks.push(member.mail)\n                    if (member.mailSecond) mailingLists.vks.push(member.mailSecond)\n                }\n\n                // Squad\n                if (member.contactGroups.find(group =>\n                    group.bexioId === 13 ||\n                    group.bexioId === 12 ||\n                    group.bexioId === 28 ||\n                    group.bexioId === 29 ||\n                    group.bexioId === 15 ||\n                    group.bexioId === 14\n                )) {\n                    mailingLists.squad.push(member.mail)\n                    if (member.mailSecond) mailingLists.squad.push(member.mailSecond)\n                }\n\n                // VST\n                if (member.contactGroups.find(group => group.bexioId === 16)) {\n                    mailingLists.vst.push(member.mail)\n                    if (member.mailSecond) mailingLists.vst.push(member.mailSecond)\n                }\n\n                // Condor\n                if (member.contactGroups.find(group => group.bexioId === 22)) {\n                    mailingLists.con.push(member.mail)\n                    if (member.mailSecond) mailingLists.con.push(member.mailSecond)\n                }\n            }\n            return mailingLists\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({ collectionPoints: CollectionPoints, user: UserReducer, users: Users, contacts: Contacts, members: Members, ranks: Ranks, orders: Orders, openOrders: OpenOrders, billingReports: BillingReports, compensationEntries: CompensationEntries, mailingLists: MailingLists })\n","import { combineReducers, Reducer } from \"redux\";\nimport UIReducer, { UI } from \"./UIReducer\";\nimport DataReducer, { Data } from \"./DataReducer\";\n\nexport interface State {\n    ui: UI,\n    data: Data\n}\n\nexport default combineReducers({ ui: UIReducer, data: DataReducer })","\nimport React, { Component } from \"react\";\nimport { Page } from \"../Page\";\n\nexport class Error403 extends Component {\n    public render() {\n        return (\n            <Page title=\"\">\n                <div className=\"gandalf\">\n                    <div className=\"fireball\"></div>\n                    <div className=\"skirt\"></div>\n                    <div className=\"sleeves\"></div>\n                    <div className=\"shoulders\">\n                        <div className=\"hand left\"></div>\n                        <div className=\"hand right\"></div>\n                    </div>\n                    <div className=\"head\">\n                        <div className=\"hair\"></div>\n                        <div className=\"beard\"></div>\n                    </div>\n                </div>\n                <div className=\"message\">\n                    <h1>403 - You Shall Not Pass</h1>\n                    <p>Uh oh, Gandalf is blocking the way!<br />Maybe you have a typo in the url? Or you meant to go to a different location? Like...Hobbiton?</p>\n                </div>\n            </Page>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { State } from '../reducers/IndexReducer';\nimport { AuthRoles } from '../interfaces/AuthRoles';\nimport User from '../entities/User';\nimport { RouteProps } from 'react-router';\nimport { Dispatch } from 'redux';\nimport { UI } from '../actions/UIActions';\nimport { Error403 } from './Errors/403';\n\nexport interface SecureRouteProps {\n    user?: User,\n    showError?: (message: string) => void\n    exact: boolean,\n    path: string,\n    roles: Array<AuthRoles>\n    component: any\n}\n\nexport default class _SecureRoute extends Component<RouteProps & SecureRouteProps> {\n    public render() {\n        for (let role of this.props.roles) {\n            if (this.props.user && (this.props.user.roles.includes(role) || this.props.user.roles.includes(AuthRoles.ADMIN))) {\n                return (\n                    <Route exact={this.props.exact} path={this.props.path} component={this.props.component} />\n                )\n            }\n        }\n\n        if (this.props.user && this.props.showError) {\n            this.props.showError('Not Authorized!')\n            return <Route exact={this.props.exact} path={this.props.path} component={Error403} />\n        }\n\n        return (\n            <Route exact={this.props.exact} path={this.props.path} component={() => {\n                return (<Redirect push to={{\n                    pathname: \"/login\",\n                    state: {\n                        prevLocation: (this.props.location || { pathname: '' }).pathname\n                    },\n                }} />)\n            }} />\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        showError: (message: string) => {\n            dispatch(UI.showError(message))\n        }\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user.data\n    }\n}\n\nexport const SecureRoute = connect(mapStateToProps, mapDispatchToProps)(_SecureRoute)","import React, { Component } from \"react\";\nimport { Page } from '../components/Page'\nimport Panel from \"../components/Panel\";\nimport Column from \"../components/Column\";\nimport Row from \"../components/Row\";\nimport { Link } from \"react-router-dom\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { connect } from 'react-redux'\nimport { Data } from \"../actions/DataActions\";\nimport Loading from \"../components/Loading\";\nimport User from \"../entities/User\";\n\nexport class _Dashboard extends Component<{ user: User, loading: boolean, fetchUser: Function }> {\n\n    public componentDidMount() {\n        this.props.fetchUser()\n    }\n\n    public renderShortcuts() {\n        let shortcuts = [<Link to=\"/billing-reports/add/\" className=\"btn btn-block btn-outline-primary\">Verrechnungsrapport erstellen</Link>]\n        if (this.props.user.bexioContact) {\n            shortcuts.push(<Link to=\"/me\" className=\"btn btn-block btn-outline-primary\">Mein Profil</Link>)\n        }\n        return shortcuts\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.user) {\n            return (\n                <Page title=\"Dashboard\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Dashboard\">\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Shortcuts\">\n                            {this.renderShortcuts()}\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        loading: state.data.user.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchUser: () => {\n            dispatch(Data.fetchUser())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const Dashboard = connect(mapStateToProps, mapDispatchToProps)(_Dashboard)","import { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataList, DataListProps } from \"../components/DataList\";\nimport Action from \"../components/Action\";\nimport React, { Component } from \"react\";\nimport Contact from \"../entities/Contact\";\nimport Xlsx from 'xlsx'\n\ninterface MembersProps extends DataListProps<Contact> {\n}\n\nexport class _Members extends Component<MembersProps> {\n    constructor(props: MembersProps) {\n        super(props)\n\n        this.excelExport = this.excelExport.bind(this)\n    }\n\n    private excelExport(event: React.MouseEvent<HTMLButtonElement>) {\n        let membersAsArray = []\n        for (let i in this.props.data.byId) {\n            let member = this.props.data.byId[i]\n            let germanizedMember = {\n                Vorname: member.firstname,\n                Nachname: member.lastname,\n                Rang: (member.rank || ''),\n                Funktionen: (member.functions || []).join(','),\n                Geburtstag: member.birthday,\n                Adresse: `${member.address}, ${member.postcode} ${member.city}`,\n                Abholpunkt: '',\n                'E-Mail': member.mail,\n                'E-Mail 2': member.mailSecond,\n                Festnetz: member.phoneFixed,\n                Mobile: member.phoneMobile\n            }\n\n            if (member.collectionPoint) germanizedMember.Abholpunkt = `(${member.collectionPoint.name}) ${member.collectionPoint.address}, ${member.collectionPoint.postcode} ${member.collectionPoint.city}`\n\n            membersAsArray.push(germanizedMember)\n        }\n        let sheet = Xlsx.utils.json_to_sheet(membersAsArray)\n        let book = Xlsx.utils.book_new()\n        Xlsx.utils.book_append_sheet(book, sheet, 'Mitglieder')\n        Xlsx.writeFile(book, 'Mitglieder.xlsx')\n    }\n\n    public render() {\n        return (\n            <DataList<Contact>\n                {...this.props}\n                pdfExport='/members/pdf'\n                panelActions={[\n                    <Action icon=\"file-excel\" onClick={this.excelExport} />\n                ]}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.members,\n        title: 'Mitglieder',\n        viewLocation: '/contact/',\n        tableColumns: [\n            { text: 'Name', keys: ['firstname', 'lastname'], sortable: true, searchable: true },\n            { text: 'Grad', keys: ['rank'], sortable: true, searchable: true },\n            { text: 'Funktionen', keys: ['functions'], sortable: true, searchable: true },\n            { text: 'Addresse', keys: ['address', 'postcode', 'city'], link: true, linkPrefix: 'https://www.google.com/maps/search/', sortable: true, searchable: true },\n            { text: 'Abholpunkt', keys: { collectionPoint: ['address', 'postcode', 'city'] }, link: true, linkPrefix: 'https://www.google.com/maps/search/', sortable: true, searchable: true },\n            { text: 'Festnetz', keys: ['phoneFixed'], link: true, linkPrefix: 'tel:', sortable: true, searchable: true },\n            { text: 'Festnetz 2', keys: ['phoneFixedSecond'], link: true, linkPrefix: 'tel:', sortable: true, searchable: true },\n            { text: 'Mobile', keys: ['phoneMobile'], link: true, linkPrefix: 'tel:', sortable: true, searchable: true },\n            { text: 'E-Mail', keys: ['mail'], link: true, linkPrefix: 'mailto:', sortable: true, searchable: true },\n            { text: 'E-Mail 2', keys: ['mailSecond'], link: true, linkPrefix: 'mailto:', sortable: true, searchable: true },\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchMembers())\n        }\n    }\n}\n\n\nexport const Members = connect(mapStateToProps, mapDispatchToProps)(_Members)","import React, { Component } from \"react\";\nimport Row from \"./Row\";\nimport Column from \"./Column\";\nimport Checkbox from \"./Checkbox\";\n\nexport default class FormEntry extends Component<{ id: string, title: string, editable?: boolean, value?: any, type?: string, onChange?: (event: React.ChangeEvent<HTMLSelectElement | HTMLInputElement | HTMLTextAreaElement>) => void }> {\n    public renderChildren() {\n        if (typeof this.props.value !== 'undefined') {\n            if (this.props.type === 'checkbox') {\n                let onChange = this.props.onChange || (() => { })\n\n                // little hack to disable the checkbox\n                if (!this.props.editable) onChange = () => { return false }\n\n                return <Checkbox id={this.props.id} checked={this.props.value} onChange={onChange} label='' />\n            } else if (this.props.type === 'textarea') {\n                return <textarea id={this.props.id} name={this.props.id} value={this.props.value} onChange={this.props.onChange} className={'form-entry form-control' + ((!this.props.editable) ? '-plaintext' : '')} readOnly={!this.props.editable} />\n            }\n\n            let value = this.props.value\n            if (this.props.type === 'date') {\n                let date = this.props.value\n                if (typeof this.props.value === 'string') date = new Date(this.props.value)\n\n                value = `${date.getUTCFullYear()}-${('0' + date.getUTCMonth()).slice(-2)}-${('0' + date.getUTCDate()).slice(-2)}`\n            }\n\n            return <input id={this.props.id} name={this.props.id} type={(this.props.type) ? this.props.type : 'text'} value={value} onChange={this.props.onChange} className={'form-entry form-control' + ((!this.props.editable) ? '-plaintext' : '')} readOnly={!this.props.editable} />\n        }\n\n        return this.props.children\n    }\n\n    public render() {\n        return (\n            <Row>\n                <Column className=\"col-6\">\n                    {this.props.title}\n                </Column>\n                <Column className=\"col-6\">\n                    {this.renderChildren()}\n                </Column>\n            </Row>\n        )\n    }\n}","import User from \"./User\";\n\nexport default abstract class Base {\n    public id: number\n\n    public updatedAt: Date\n}","import Base from \"./Base\";\n\nexport default class CollectionPoint extends Base {\n    public name: string\n    public address: string\n    public postcode: string\n    public city: string\n}","import React, { Component } from \"react\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport Select from 'react-select'\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport { ValueType } from \"react-select/lib/types\";\nimport { connect } from 'react-redux';\nimport CollectionPoint from \"../entities/CollectionPoint\";\n\ninterface CollectionPointSelectProps {\n    defaultValue?: Array<CollectionPoint>,\n    isMulti?: boolean\n    onChange: Function,\n    collectionPoints: DataInterface<CollectionPoint>,\n    loading: boolean,\n    ref?: Function,\n    fetchCollectionPoints: Function\n}\n\nexport class _CollectionPointSelect extends Component<CollectionPointSelectProps, { value?: Array<{ label: string, value: string }> }> {\n    constructor(props: CollectionPointSelectProps) {\n        super(props)\n\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let collectionPoint of this.props.defaultValue) {\n                if (Object.keys(collectionPoint).length > 0) {\n                    valueProps.push({\n                        value: collectionPoint.id.toString(),\n                        label: `(${collectionPoint.name}) ${collectionPoint.address}, ${collectionPoint.postcode} ${collectionPoint.city}`,\n                    })\n                }\n            }\n\n            this.state = {\n                value: valueProps\n            }\n        } else {\n            this.state = {}\n        }\n    }\n\n    public componentWillReceiveProps(nextProps: CollectionPointSelectProps) {\n        if (nextProps.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let collectionPoint of nextProps.defaultValue) {\n                if (Object.keys(collectionPoint).length > 0) {\n                    valueProps.push({\n                        value: collectionPoint.id.toString(),\n                        label: `(${collectionPoint.name}) ${collectionPoint.address}, ${collectionPoint.postcode} ${collectionPoint.city}`,\n                    })\n                }\n            }\n\n            this.setState({\n                value: valueProps\n            })\n        }\n    }\n\n    public componentWillMount() {\n        if (this.props.collectionPoints.ids.length < 1) {\n            this.props.fetchCollectionPoints()\n        }\n    }\n\n    private prepareOptions() {\n        let options = []\n        if (Object.keys(this.props.collectionPoints.byId).length > 0) {\n            for (let i in this.props.collectionPoints.byId) {\n                let collectionPoint = this.props.collectionPoints.byId[i]\n                options.push({\n                    label: `(${collectionPoint.name}) ${collectionPoint.address}, ${collectionPoint.postcode} ${collectionPoint.city}`,\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onChange(opt: ValueType<{ label: string, value: string }>) {\n        let ops: Array<{ label: string, value: string }> = [opt as { label: string, value: string }]\n        if (this.props.isMulti) {\n            ops = opt as Array<{ label: string, value: string }>\n        }\n\n        this.setState({\n            value: ops\n        })\n\n        let collectionPoints = []\n        for (let o of ops) {\n            collectionPoints.push(this.props.collectionPoints.byId[o.value])\n        }\n\n        if (this.props.onChange) {\n            if (this.props.isMulti) {\n                this.props.onChange(collectionPoints)\n            } else {\n                this.props.onChange(collectionPoints[0])\n            }\n        }\n    }\n\n    private prepareValue() {\n        if (this.props.isMulti) {\n            return this.state.value || []\n        }\n\n        return (this.state.value || [])[0]\n    }\n\n    public render() {\n        if (!this.props.loading) {\n            return (<Select\n                ref={(select: any) => { if (this.props.ref) this.props.ref(select) }}\n                isClearable={true}\n                options={this.prepareOptions()}\n                backspaceRemovesValue={true}\n                hideSelectedOptions={true}\n                openMenuOnFocus={true}\n                isMulti={this.props.isMulti || false}\n                onChange={this.onChange.bind(this)}\n                value={this.prepareValue()}\n            />)\n        }\n\n        return null\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        collectionPoints: state.data.collectionPoints,\n        loading: state.data.collectionPoints.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchCollectionPoints: () => {\n            dispatch(Data.fetchCollectionPoints())\n        }\n    }\n}\n\n//@ts-ignore\nexport const CollectionPointSelect = connect(mapStateToProps, mapDispatchToProps)(_CollectionPointSelect)","import React, { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport FormEntry from \"../components/FormEntry\";\nimport Loading from \"../components/Loading\";\nimport * as ContactEntity from \"../entities/Contact\";\nimport ContactGroup from \"../entities/ContactGroup\";\nimport Action from \"../components/Action\";\nimport CollectionPoint from \"../entities/CollectionPoint\";\nimport { CollectionPointSelect } from \"../components/CollectionPointSelect\";\nimport { EditMember } from \"../interfaces/Member\";\nimport User from \"../entities/User\";\nimport { AuthRoles } from \"../interfaces/AuthRoles\";\nimport Compensation from \"../entities/Compensation\";\nimport Axios from \"axios\";\nimport Config from \"../Config\";\nimport Table from \"../components/Table\";\nimport { RouteComponentProps } from \"react-router\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Button from \"react-bootstrap/Button\";\n\nexport interface ContactProps extends RouteComponentProps<{ id: string }> {\n    user: User,\n    contact: ContactEntity.default,\n    loading: boolean,\n    loadContacts: () => void,\n    editMember: (data: EditMember) => void\n}\n\nexport interface ContactState {\n    editable: boolean,\n    collectionPoint: CollectionPoint,\n    entryDate?: string,\n    exitDate?: string,\n    bankName?: string,\n    iban?: string,\n    accountHolder?: string,\n    compensations: Array<Compensation>,\n    openCompensationsSum: number,\n    compensationsLoaded: boolean\n}\n\nexport default class _Contact extends Component<ContactProps, ContactState> {\n    private groups: Array<ContactGroup>\n\n    constructor(props: ContactProps) {\n        super(props)\n        this.groups = []\n\n        if (!this.props.contact && !this.props.loading) {\n            this.props.loadContacts()\n        }\n\n        this.loadCompensations = this.loadCompensations.bind(this)\n        this.compensationView = this.compensationView.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n        this.onAbort = this.onAbort.bind(this)\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.renderCollectionPoint = this.renderCollectionPoint.bind(this)\n        this.renderPanelActions = this.renderPanelActions.bind(this)\n\n        const contact = this.props.contact || {}\n\n        this.state = {\n            editable: false,\n            collectionPoint: contact.collectionPoint || new CollectionPoint(),\n            entryDate: (contact.entryDate) ? contact.entryDate.toLocaleDateString() : '',\n            exitDate: (contact.exitDate) ? contact.exitDate.toLocaleDateString() : '',\n            bankName: contact.bankName || '',\n            iban: contact.iban || '',\n            accountHolder: contact.accountHolder || '',\n            compensations: [],\n            openCompensationsSum: 0,\n            compensationsLoaded: false\n        }\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLSelectElement | HTMLInputElement | HTMLTextAreaElement>) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private async loadCompensations() {\n        if (this.props.user && this.props.user.roles.indexOf(AuthRoles.COMPENSATIONS_READ)) {\n            let openCompensationsSum = 0\n            let data = []\n            for (let rec of Data.deepParser((await Axios.get<Array<Compensation>>(Config.apiEndpoint + `/api/compensations/${this.props.contact.id}`, { withCredentials: true })).data)) {\n                if (rec.hasOwnProperty('billingReport') && rec.billingReport.hasOwnProperty('order')) {\n                    // only show the contact if the contact is not a privat person (identified that companies doesn't have any firstname)\n                    if (rec.billingReport.order.hasOwnProperty('contact') && !rec.billingReport.order.contact.hasOwnProperty('firstname')) {\n                        rec.description = `${rec.billingReport.order.title} (${rec.billingReport.order.contact.lastname})`\n                    } else {\n                        rec.description = `${rec.billingReport.order.title}`\n                    }\n                }\n                data.push(rec)\n\n                if (!rec.paied) openCompensationsSum += parseFloat(rec.amount)\n            }\n\n            this.setState({\n                compensations: data,\n                openCompensationsSum: openCompensationsSum,\n                compensationsLoaded: true\n            })\n        }\n    }\n\n    public componentWillReceiveProps(nextProps: ContactProps) {\n        if (nextProps.contact) {\n            this.setState({\n                collectionPoint: nextProps.contact.collectionPoint || new CollectionPoint(),\n                entryDate: (nextProps.contact.entryDate) ? nextProps.contact.entryDate.toLocaleDateString() : '',\n                exitDate: (nextProps.contact.exitDate) ? nextProps.contact.exitDate.toLocaleDateString() : '',\n                bankName: nextProps.contact.bankName || '',\n                iban: nextProps.contact.iban || '',\n                accountHolder: nextProps.contact.accountHolder || '',\n            })\n        }\n    }\n\n    public compensationView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/compensation/' + id)\n            } else {\n                this.props.history.push('/compensation/' + id)\n            }\n        }\n    }\n\n    private onSave() {\n        this.setState({ editable: false })\n\n        if (this.props.contact.contactGroups.find(group => group.bexioId === 7)) {\n            this.props.editMember({\n                id: this.props.contact.id,\n                collectionPointId: this.state.collectionPoint.id,\n                entryDate: (this.state.entryDate) ? new Date(this.state.entryDate) : undefined,\n                exitDate: (this.state.exitDate) ? new Date(this.state.exitDate) : undefined,\n                bankName: this.state.bankName,\n                iban: this.state.iban,\n                accountHolder: this.state.accountHolder\n            })\n        }\n    }\n\n    public onAbort(event: React.MouseEvent<HTMLElement>) {\n        this.setState({\n            editable: false,\n            collectionPoint: this.props.contact.collectionPoint || new CollectionPoint(),\n            entryDate: (this.props.contact.entryDate) ? this.props.contact.entryDate.toLocaleDateString() : '',\n            exitDate: (this.props.contact.exitDate) ? this.props.contact.exitDate.toLocaleDateString() : '',\n            bankName: this.props.contact.bankName || '',\n            iban: this.props.contact.iban || '',\n            accountHolder: this.props.contact.accountHolder || ''\n        })\n    }\n\n    private onSelectChange(state: string): (opts: CollectionPoint) => void {\n        return (opts: CollectionPoint) => {\n            //@ts-ignore\n            this.setState({ [state]: opts })\n        }\n    }\n\n    private renderCollectionPoint() {\n        if (this.state.editable) {\n            return <CollectionPointSelect multi={false} onChange={this.onSelectChange('collectionPoint')} defaultValue={[this.state.collectionPoint] || undefined} />\n        }\n        if (this.state.collectionPoint &&\n            this.state.collectionPoint.hasOwnProperty('address') &&\n            this.state.collectionPoint.hasOwnProperty('postcode') &&\n            this.state.collectionPoint.hasOwnProperty('city')) {\n            return <a\n                href={`https://www.google.com/maps/search/${this.state.collectionPoint.address}, ${this.state.collectionPoint.postcode} ${this.state.collectionPoint.city}`}\n                target='_blank'>\n                {`${this.state.collectionPoint.address}, ${this.state.collectionPoint.postcode} ${this.state.collectionPoint.city}`}\n            </a>\n        }\n\n        return null\n    }\n\n    private renderPanelActions() {\n        if (this.state.editable) {\n            return [\n                <Action icon=\"save\" onClick={this.onSave} />,\n                <Action icon=\"times\" onClick={this.onAbort} />\n            ]\n        }\n\n        return [<Action icon=\"pencil-alt\" onClick={() => { this.setState({ editable: true }) }} />]\n    }\n\n    public renderPanelCompensations() {\n        if (!this.props.user.roles.indexOf(AuthRoles.COMPENSATIONS_READ)) return null\n\n        if (!this.state.compensationsLoaded) {\n            this.loadCompensations()\n            return <Panel title=\"Entschädigungen\"><Loading /></Panel>\n        }\n\n        return (\n            <Panel title={`Entschädigungen (Offen: ${this.state.openCompensationsSum}.-)`} scrollable={true}>\n                <Table<Compensation>\n                    columns={[\n                        { text: 'Datum', keys: ['date'], sortable: true },\n                        { text: 'Beschreibung', keys: ['description'], sortable: true },\n                        { text: 'Betrag', keys: ['amount'], prefix: 'CHF ', sortable: true },\n                        { text: 'Genehmigt', keys: ['approved'], sortable: true },\n                        { text: 'Ausbezahlt', keys: ['paied'], sortable: true },\n                        {\n                            text: 'Actions', keys: ['_id'], content: <Button variant=\"success\" className=\"view\" onMouseUp={this.compensationView}><FontAwesomeIcon icon=\"eye\" /></Button>\n                        }\n                    ]}\n                    defaultSort={{\n                        keys: ['date'],\n                        direction: 'desc'\n                    }}\n                    data={this.state.compensations}\n                />\n            </Panel>\n        )\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.contact) {\n            return (\n                <Page title=\"Kontakt\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        this.groups = this.props.contact.contactGroups as Array<ContactGroup>\n\n        let address = this.props.contact.address + ', ' + this.props.contact.postcode + ' ' + this.props.contact.city\n\n        return (\n            <Page title={this.props.contact.firstname + ' ' + this.props.contact.lastname}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Persönliche Informationen\" actions={this.renderPanelActions()}>\n                            <div className=\"container-fluid\">\n                                <FormEntry id=\"firstname\" title=\"Vorname\" >{this.props.contact.firstname}</FormEntry>\n                                <FormEntry id=\"lastname\" title=\"Nachname\" >{this.props.contact.lastname}</FormEntry>\n                                <FormEntry id=\"rank\" title=\"Rang\">{this.props.contact.rank}</FormEntry>\n                                <FormEntry id=\"birthday\" title=\"Geburtstag\">{new Date(this.props.contact.birthday).toLocaleDateString()}</FormEntry>\n                                <FormEntry id=\"address\" title=\"Adresse\"><a href={'https://www.google.com/maps/search/' + address} target='_blank'>{address}</a></FormEntry>\n                                <FormEntry id=\"collectionPoint\" title=\"Abholpunkt\">\n                                    {this.renderCollectionPoint()}\n                                </FormEntry>\n                                <FormEntry id=\"phoneFixed\" title=\"Festnetz\"><a href={'tel:' + this.props.contact.phoneFixed}>{this.props.contact.phoneFixed}</a></FormEntry>\n                                <FormEntry id=\"phoneFixedSecond\" title=\"Festnetz 2\"><a href={'tel:' + this.props.contact.phoneFixedSecond}>{this.props.contact.phoneFixedSecond}</a></FormEntry>\n                                <FormEntry id=\"phoneMobile\" title=\"Mobile\"><a href={'tel:' + this.props.contact.phoneMobile}>{this.props.contact.phoneMobile}</a></FormEntry>\n                                <FormEntry id=\"mail\" title=\"E-Mail\"><a href={'mailto:' + this.props.contact.mail}>{this.props.contact.mail}</a></FormEntry>\n                                <FormEntry id=\"mailSecond\" title=\"E-Mail 2\"><a href={'mailto:' + this.props.contact.mailSecond}>{this.props.contact.mailSecond}</a></FormEntry>\n                                <FormEntry id=\"groups\" title=\"Gruppen\">\n                                    {(this.groups) ? this.groups.map((group: ContactGroup) => {\n                                        return <span className=\"badge badge-primary\">{group.name}</span>\n                                    }) : ''}\n                                </FormEntry>\n                                <FormEntry id=\"entryDate\" title=\"Eintrittsdatum\" type=\"date\" editable={this.state.editable} value={this.state.entryDate} onChange={this.onInputChange} />\n                                <FormEntry id=\"exitDate\" title=\"Austrittsdatum\" type=\"date\" editable={this.state.editable} value={this.state.exitDate} onChange={this.onInputChange} />\n                                <FormEntry id=\"remarks\" title=\"Bemerkungen\" >{this.props.contact.remarks}</FormEntry>\n                            </div>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Finanzen\">\n                            <div className=\"container-fluid\">\n                                <FormEntry id=\"bankName\" title=\"Bank\" value={this.state.bankName} editable={this.state.editable} onChange={this.onInputChange} />\n                                <FormEntry id=\"iban\" title=\"IBAN\" value={this.state.iban} editable={this.state.editable} onChange={this.onInputChange} />\n                                <FormEntry id=\"accountHolder\" title=\"Kontoinhaber\" value={this.state.accountHolder} editable={this.state.editable} onChange={this.onInputChange} />\n                            </div>\n                        </Panel>\n                        <Panel title=\"Actions\">\n                            <a target=\"_blank\" href={\"https://office.bexio.com/index.php/kontakt/show/id/\" + this.props.contact.bexioId} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>\n                            <a target=\"_blank\" href={\"https://vkazu.sharepoint.com/leitung/Personalakten?viewpath=/leitung/Personalakten&id=/leitung/Personalakten/\" + this.props.contact.firstname + \" \" + this.props.contact.lastname} className=\"btn btn-block btn-outline-primary\">Personalakte öffnen</a>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        {this.renderPanelCompensations()}\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        contact: state.data.contacts.byId[props.match.params.id] || state.data.members.byId[props.match.params.id],\n        loading: state.data.contacts.loading || state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        loadContacts: () => {\n            dispatch(Data.fetchContacts())\n        },\n        editMember: (data: EditMember) => {\n            dispatch(Data.editMember(data))\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const Contact = connect(mapStateToProps, mapDispatchToProps)(_Contact)","import { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\n\n\nimport { DataList } from '../components/DataList'\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.orders,\n        viewLocation: '/order/',\n        title: 'Aufträge',\n        tableColumns: [\n            { text: 'Auftragsnummer', keys: ['documentNr'], sortable: true, searchable: true },\n            { text: 'Titel', keys: ['title'], sortable: true, searchable: true },\n            { text: 'Kunde', keys: { 'contact': ['firstname', 'lastname'] }, sortable: true, searchable: true },\n            { text: 'Total', keys: ['total'], sortable: true, prefix: 'CHF ', searchable: true },\n            { text: 'Auftragsdaten', keys: ['execDates']}\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchOrders())\n        }\n    }\n}\n\nexport const Orders = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport FormEntry from \"../components/FormEntry\";\nimport * as OrderEntity from \"../entities/Order\";\nimport Position from \"../entities/Position\";\nimport Loading from \"../components/Loading\";\n\nexport interface OrderProps {\n    order: OrderEntity.default,\n    loading: boolean,\n    loadOrders: Function,\n}\n\nexport default class _Order extends Component<OrderProps> {\n    constructor(props: OrderProps) {\n        super(props)\n\n        if (!this.props.order && !this.props.loading) {\n            this.props.loadOrders()\n        }\n    }\n\n    private renderPositions() {\n        let positionsRendered = []\n        for (let position of (this.props.order.positions as Position[])) {\n            positionsRendered.push(\n                <Row className=\"position\">\n                    <Column className=\"col-1\">\n                        {position.pos}\n                    </Column>\n                    <Column>\n                        <div dangerouslySetInnerHTML={{ __html: position.text || '' }}></div>\n                    </Column>\n                    {(position.positionTotal) ? <Column className=\"col-2\">CHF {position.positionTotal}</Column> : ''}\n                </Row>\n            )\n        }\n\n        return positionsRendered;\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.order) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        if (this.props.order.execDates instanceof Date) {\n            this.props.order.execDates = [this.props.order.execDates]\n        }\n\n        return (\n            <Page title={this.props.order.title}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <div className=\"container-fluid\">\n                                <FormEntry id=\"title\" title=\"Titel\" >{this.props.order.title}</FormEntry>\n                                <FormEntry id=\"customer\" title=\"Kunde\">{`${this.props.order.contact.firstname} ${this.props.order.contact.lastname}`}</FormEntry>\n                                <FormEntry id=\"documentNr\" title=\"Auftragsnummer\" >{this.props.order.documentNr}</FormEntry>\n                                <FormEntry id=\"deliveryAddress\" title=\"Lieferadresse\">{this.props.order.deliveryAddress}</FormEntry>\n                                <FormEntry id=\"executionDates\" title=\"Auftragsdaten\">\n                                    {(this.props.order.execDates) ? this.props.order.execDates.map((date: Date) => {\n                                        return <span className=\"badge badge-secondary\">{date.toLocaleDateString()}</span>\n                                    }) : ''}\n                                </FormEntry>\n                            </div>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            <a target=\"_blank\" href={`https://office.bexio.com/index.php/kb_order/show/id/${this.props.order.bexioId}`} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column className=\"col\">\n                        <Panel title=\"Positionen\">\n                            <div className=\"container-fluid\">\n                                {this.renderPositions()}\n                                <Row className=\"position\">\n                                    <Column className=\"col-1\">\n                                    </Column>\n                                    <Column>\n                                        <strong>Total</strong>\n                                    </Column>\n                                    <Column className=\"col-2\">\n                                        CHF {this.props.order.total}\n                                    </Column>\n                                </Row>\n                            </div>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        order: state.data.orders.byId[props.match.params.id],\n        loading: state.data.orders.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        loadOrders: () => {\n            dispatch(Data.fetchOrders())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const Order = connect(mapStateToProps, mapDispatchToProps)(_Order)","import { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataList } from \"../components/DataList\";\n\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.billingReports,\n        title: 'Verrechnungsrapporte',\n        viewLocation: '/billing-report/',\n        tableColumns: [\n            { text: 'Datum', keys: ['date'], sortable: true },\n            { text: 'Auftrag Nr', keys: { 'order': ['documentNr'] }, sortable: true, searchable: true },\n            { text: 'Auftrag Titel', keys: { 'order': ['title'] }, sortable: true, searchable: true },\n            { text: 'Ersteller', keys: { 'creator': ['displayName'] }, sortable: true, searchable: true },\n            { text: 'Status', keys: ['state'], sortable: true }\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchBillingReports())\n        }\n    }\n}\n\n//@ts-ignore\nexport const BillingReports = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from 'react'\nimport { Modal as BootstrapModal, Button } from 'react-bootstrap'\n\nexport interface ModalProps {\n    show: boolean,\n    onHide?: () => void\n    header: JSX.Element,\n    body: JSX.Element,\n    footer: JSX.Element\n}\n\nexport default class Modal extends Component<ModalProps> {\n    constructor(props: ModalProps) {\n        super(props)\n\n        this.handleClose = this.handleClose.bind(this)\n    }\n\n    private handleClose() {\n        if (this.props.onHide) {\n            this.props.onHide()\n        }\n    }\n\n    public render() {\n        return (\n            <BootstrapModal show={this.props.show} onHide={this.handleClose} dialogClassName=\"modal-lg\">\n                <BootstrapModal.Header closeButton>\n                    {this.props.header}\n                </BootstrapModal.Header>\n                <BootstrapModal.Body>\n                    {this.props.body}\n                </BootstrapModal.Body>\n                <BootstrapModal.Footer>\n                    {this.props.footer}\n                </BootstrapModal.Footer>\n            </BootstrapModal>\n        )\n    }\n}","import { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataList, DataListProps } from \"../components/DataList\";\nimport React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Compensation from \"../entities/Compensation\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport Modal from \"../components/Modal\";\nimport { Button, ButtonGroup } from \"react-bootstrap\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\n\ninterface CompensationsProps extends DataListProps<Compensation> {\n    delete: (id: number) => void\n}\n\nexport class _Compensations extends Component<CompensationsProps & RouteComponentProps, { modalShow: boolean, toDeleteCompensation?: Compensation }> {\n    constructor(props: CompensationsProps & RouteComponentProps) {\n        super(props)\n\n        this.deleteCompensation = this.deleteCompensation.bind(this)\n        this.deleteCompensationConfirmed = this.deleteCompensationConfirmed.bind(this)\n        this.showModal = this.showModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n\n        this.state = { modalShow: false }\n    }\n\n    private deleteCompensation(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n            if (id) {\n                this.setState({\n                    toDeleteCompensation: this.props.data.byId[id],\n                    modalShow: true\n                })\n            }\n        }\n    }\n\n    private deleteCompensationConfirmed() {\n        if (this.state.toDeleteCompensation) {\n            this.props.delete(this.state.toDeleteCompensation.id)\n            this.setState({\n                toDeleteCompensation: undefined,\n                modalShow: false\n            })\n        }\n    }\n\n    private showModal() {\n        this.setState({\n            modalShow: true\n        })\n    }\n\n    private hideModal() {\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private renderModal() {\n        if (this.state.toDeleteCompensation) {\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>{(this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname + ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString()}</h3>}\n                    body={\n                        <span>\n                            {\n                                'Willst du die Entschädigung von ' +\n                                (this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname +\n                                ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString() + ' mit einem Betrag von CHF' +\n                                (this.state.toDeleteCompensation as Compensation).amount + ' wirklich löschen?'\n                            }\n                        </span>\n                    }\n                    footer={\n                        <ButtonGroup>\n                            <Button variant=\"danger\" onClick={this.deleteCompensationConfirmed}>Löschen</Button>\n                            <Button variant=\"secondary\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>\n                    }\n\n                />\n            )\n        }\n\n        return null\n    }\n\n    public render() {\n        return (\n            <DataList<Compensation>\n                title='Entschädigungen'\n                viewLocation='/compensation/'\n                rowActions={[\n                    <button className=\"btn btn-danger delete\" onMouseUp={this.deleteCompensation}><FontAwesomeIcon icon=\"trash\" /></button>\n                ]}\n                tableColumns={[\n                    { text: 'Mitglied', keys: { 'member': ['firstname', 'lastname'] }, sortable: true, searchable: true },\n                    { text: 'Datum', keys: ['date'], sortable: true },\n                    { text: 'Betrag', keys: ['amount'], sortable: true, prefix: 'CHF ' },\n                    { text: 'Beschreibung', keys: ['description'], sortable: false, searchable: true },\n                    { text: 'Ersteller', keys: { 'creator': ['displayName'] }, sortable: true },\n                    { text: 'Genehmigt', keys: ['approved'], sortable: true },\n                    { text: 'Ausbezahlt', keys: ['paied'], sortable: true }\n                ]}\n                data={this.props.data}\n                fetchData={this.props.fetchData}\n                history={this.props.history}\n            >\n                {this.renderModal()}\n            </DataList>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.compensationEntries,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchCompensationEntries())\n        },\n        delete: (id: number) => {\n            dispatch(Data.deleteCompensationEntry(id))\n        }\n    }\n}\n\n//@ts-ignore\nexport const Compensations = connect(mapStateToProps, mapDispatchToProps)(_Compensations)","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { State } from '../reducers/IndexReducer';\nimport { History, Location } from \"history\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { SingleDataInterface } from \"../reducers/DataReducer\";\nimport Loading from \"../components/Loading\";\nimport { UI } from \"../actions/UIActions\";\nimport Config from \"../Config\";\nimport User from \"../entities/User\";\n\nexport interface LoginProps {\n    user: SingleDataInterface<User>,\n    history: History,\n    location: Location,\n    fetchUser: Function,\n    showError: (message?: string) => void,\n    showSuccess: (message?: string) => void\n}\n\nexport class _Login extends Component<LoginProps, { loaded: boolean }> {\n    constructor(props: LoginProps) {\n        super(props)\n        this.state = {\n            loaded: false\n        }\n    }\n\n    public async componentDidMount() {\n        await this.props.fetchUser()\n        this.setState({\n            loaded: true\n        })\n    }\n\n    public render() {\n        if (this.props.user.data) {\n            this.props.showSuccess('Willkommen zurück')\n            console.log(this.props.location)\n            if (this.props.location.state && this.props.location.state.prevLocation) {\n                this.props.history.push(this.props.location.state.prevLocation)\n            } else {\n                this.props.history.push('/dashboard')\n            }\n            return null\n        } else if (this.props.user.loading || !this.state.loaded) {\n            return (<Loading fullscreen={true} />)\n        } else {\n            if (this.props.location.state && !this.props.location.state.errorShown) {\n                this.props.showError('Sorry.... zuerst einloggen!')\n                this.props.history.replace(this.props.location.pathname, Object.assign({}, this.props.location.state, { errorShown: true }))\n            }\n\n            return (\n                <div id=\"login\">\n                    <h2>Login</h2>\n                    <div className=\"form-group\">\n                        <input type=\"text\" name=\"username\" placeholder=\"Username\" className=\"form-control\" />\n                        <input type=\"password\" name=\"password\" placeholder=\"Password\" className=\"form-control\" />\n                        <button className=\"btn btn-primary btn-block\">Login</button>\n                    </div>\n                    oder\n                < div className=\"form-group\" >\n                        <a className=\"btn btn-secondary btn-block\" href={Config.apiEndpoint + \"/api/auth/outlook\"}>\n                            <FontAwesomeIcon icon={['fab', 'microsoft']} style={{ marginRight: '5px' }}></FontAwesomeIcon>\n                            VK-Login\n                        </a>\n                    </div >\n                </div >\n            )\n        }\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchUser: () => {\n            return dispatch(Data.fetchUser())\n        },\n        showError: (message = \"Ooppss...! Versuche es später erneut\") => {\n            dispatch(UI.showError(message))\n        },\n        showSuccess: (message = 'Yeeppiii') => {\n            dispatch(UI.showSuccess(message))\n        }\n    }\n}\n\nexport const Login = connect(mapStateToProps, mapDispatchToProps)(_Login)","import { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\n\n\nimport { DataList } from '../components/DataList'\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.users,\n        viewLocation: '/user/',\n        title: 'Benutzer',\n        tableColumns: [\n            { text: 'Name', keys: ['displayName'], sortable: true, searchable: true },\n            { text: 'Rechte', keys: ['roles'], sortable: true, searchable: true }\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchUsers())\n        }\n    }\n}\n\nexport const Users = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from 'react'\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { connect } from 'react-redux'\nimport { Data } from '../actions/DataActions';\nimport { Page } from '../components/Page';\nimport Loading from '../components/Loading';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport FormEntry from '../components/FormEntry';\nimport { Link } from 'react-router-dom';\nimport Table from '../components/Table';\nimport * as UserEntity from '../entities/User';\nimport Contact from '../entities/Contact';\n\nexport interface UserProps {\n    user: UserEntity.default,\n    loading: boolean,\n    fetchUsers: Function,\n}\n\nexport class _User extends Component<UserProps> {\n    constructor(props: UserProps) {\n        super(props)\n        this.props.fetchUsers()\n    }\n\n    public renderBexioPart() {\n        if (!this.props.user.bexioContact) {\n            return (<span>Kein Link gefunden....</span>)\n        }\n\n        let contact = this.props.user.bexioContact as Contact\n        return (\n            <div>\n                <FormEntry id=\"bexioId\" title=\"ID\">{contact.bexioId}</FormEntry>\n                <FormEntry id=\"firstname\" title=\"Vorname\">{contact.firstname}</FormEntry>\n                <FormEntry id=\"lastname\" title=\"Nachname\">{contact.lastname}</FormEntry>\n                <Link to={\"/contact/\" + contact.id} className=\"btn btn-block btn-outline-primary\">Kontakt öffnen</Link>\n                <a target=\"_blank\" href={\"https://office.bexio.com/index.php/kontakt/show/id/\" + contact.bexioId} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>\n            </div>\n        )\n    }\n\n    public renderRolePart() {\n        let roles: Array<{ role: string, id: string }> = []\n\n        for (let i in this.props.user.roles) {\n            roles.push({ role: this.props.user.roles[i], id: i })\n        }\n\n        return (\n            <Table<{ role: string, id: string }>\n                columns={[\n                    { text: 'Role', keys: ['role'] }\n                ]}\n                data={roles}\n            />\n        )\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.user) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        return (\n            <Page title={this.props.user.displayName}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Allgemeine Informationen\">\n                            <FormEntry id=\"displayName\" title=\"Name\">{this.props.user.displayName}</FormEntry>\n                        </Panel>\n                        <Panel title=\"Rechte\">\n                            {this.renderRolePart()}\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Bexio Informationen\">\n                            {this.renderBexioPart()}\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    if (props.location.pathname === '/me') {\n        return {\n            user: state.data.user.data,\n            loading: state.data.user.loading\n        }\n    }\n\n    return {\n        user: state.data.users.byId[props.match.params.id],\n        loading: state.data.users.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    if (props.location.pathname === '/me') {\n        return {\n            fetchUsers: () => {\n                dispatch(Data.fetchUser())\n            }\n        }\n    }\n\n    return {\n        fetchUsers: () => {\n            dispatch(Data.fetchUsers())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const User = connect(mapStateToProps, mapDispatchToProps)(_User)","import React, { Component } from \"react\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport Select from 'react-select'\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport { ValueType } from \"react-select/lib/types\";\nimport { connect } from 'react-redux';\nimport Order from \"../entities/Order\";\n\ninterface OrderSelectProps {\n    defaultValue?: Array<Order>,\n    isMulti?: boolean\n    onChange: Function,\n    orders: DataInterface<Order>,\n    loading: boolean,\n    ref?: Function,\n    fetchOrders: Function\n}\n\nexport class _OrderSelect extends Component<OrderSelectProps, { value?: Array<{ label: string, value: string }> }> {\n    constructor(props: OrderSelectProps) {\n        super(props)\n\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let order of this.props.defaultValue) {\n                valueProps.push({\n                    value: order.id.toString(),\n                    label: order.title\n                })\n            }\n\n            this.state = {\n                value: valueProps\n            }\n        } else {\n            this.state = {}\n        }\n    }\n\n    public componentWillReceiveProps(nextProps: OrderSelectProps) {\n        if (nextProps.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let order of nextProps.defaultValue) {\n                if (order.hasOwnProperty('id')) {\n                    valueProps.push({\n                        value: order.id.toString(),\n                        label: order.title\n                    })\n                }\n            }\n\n            this.setState({\n                value: valueProps\n            })\n        }\n    }\n\n    public componentWillMount() {\n        if (this.props.orders.ids.length < 1) {\n            this.props.fetchOrders()\n        }\n    }\n\n    private prepareOptions() {\n        let options = []\n        if (Object.keys(this.props.orders.byId).length > 0) {\n            for (let i in this.props.orders.byId) {\n                let order = this.props.orders.byId[i]\n                options.push({\n                    label: order.title,\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onChange(opt: ValueType<{ label: string, value: string }>) {\n        let ops: Array<{ label: string, value: string }> = [opt as { label: string, value: string }]\n        if (this.props.isMulti) {\n            ops = opt as Array<{ label: string, value: string }>\n        }\n\n        this.setState({\n            value: ops\n        })\n\n        let orders = []\n        for (let o of ops) {\n            orders.push(this.props.orders.byId[o.value])\n        }\n        if (this.props.onChange) {\n            if (this.props.isMulti) {\n                this.props.onChange(orders)\n            } else {\n                this.props.onChange(orders[0])\n            }\n        }\n    }\n\n    private prepareValue() {\n        if (this.props.isMulti) {\n            return this.state.value || []\n        }\n\n        return (this.state.value || [])[0]\n    }\n\n    public render() {\n        if (!this.props.loading) {\n            return (<Select\n                ref={(select: any) => { if (this.props.ref) this.props.ref(select) }}\n                isClearable={true}\n                options={this.prepareOptions()}\n                backspaceRemovesValue={true}\n                hideSelectedOptions={true}\n                openMenuOnFocus={true}\n                isMulti={this.props.isMulti || false}\n                onChange={this.onChange.bind(this)}\n                value={this.prepareValue()}\n            />)\n        }\n\n        return null\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        orders: state.data.orders,\n        loading: state.data.orders.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchOrders: () => {\n            dispatch(Data.fetchOrders())\n        }\n    }\n}\n\n//@ts-ignore\nexport const OrderSelect = connect(mapStateToProps, mapDispatchToProps)(_OrderSelect)","import React, { Component } from 'react'\nimport { Page } from '../components/Page';\nimport Panel from '../components/Panel';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport FormEntry from '../components/FormEntry';\nimport { connect } from 'react-redux';\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { Data } from '../actions/DataActions';\nimport { AnyAction } from 'redux';\nimport Loading from '../components/Loading';\nimport Table from '../components/Table';\nimport StringIndexed from '../interfaces/StringIndexed';\nimport { History } from 'history'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { DataInterface } from '../reducers/DataReducer';\nimport { RouteComponentProps } from 'react-router-dom';\nimport * as BillingReportEntity from '../entities/BillingReport';\nimport OrderCompensation from '../entities/OrderCompensation';\nimport Order from '../entities/Order';\nimport User from '../entities/User';\nimport { AuthRoles } from '../interfaces/AuthRoles';\nimport Action from '../components/Action';\nimport Contact from '../entities/Contact';\nimport { OrderSelect } from '../components/OrderSelect';\nimport { MemberSelect } from '../components/MemberSelect';\nimport { EditBillingReport, BillingReportCompensationEntry } from '../interfaces/BillingReport';\nimport Compensation from '../entities/Compensation';\nimport Modal from '../components/Modal';\nimport { ButtonGroup, Button } from 'react-bootstrap';\nimport AddBillingReportStep2 from './AddBillingReportSteps/AddBillingReportStep2';\n\nexport interface BillingReportProps extends RouteComponentProps<{ id: string }> {\n    billingReports: DataInterface<BillingReportEntity.default>,\n    orders: DataInterface<Order>,\n    loading: boolean,\n    fetchBillingReports: Function,\n    fetchOrders: Function,\n    history: History,\n    user: User,\n    approve: (id: string) => void,\n    decline: (id: string) => void,\n    edit: (data: EditBillingReport) => void,\n    deleteCompensation: (id: number) => void,\n    addCompensationEntries: (data: { billingReportId: number, entries: Array<BillingReportCompensationEntry> }) => void\n}\n\ninterface BillingReportState {\n    informationEdit: boolean\n    order: Order\n    date: Date\n    els: Array<Contact>\n    drivers: Array<Contact>\n    food: boolean\n    remarks: string,\n    toDeleteCompensation?: Compensation,\n    modalShow: boolean\n}\n\nexport class _BillingReport extends Component<BillingReportProps, BillingReportState> {\n    private billingReport: BillingReportEntity.default;\n\n    constructor(props: BillingReportProps) {\n        super(props)\n\n        this.approve = this.approve.bind(this)\n        this.decline = this.decline.bind(this)\n        this.elementView = this.elementView.bind(this)\n\n        this.billingReport = this.props.billingReports.byId[parseInt(this.props.match.params.id)]\n        this.onInformationEdit = this.onInformationEdit.bind(this)\n        this.onAbort = this.onAbort.bind(this)\n        this.onInformationSave = this.onInformationSave.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n\n        this.getCompensationActions = this.getCompensationActions.bind(this)\n        this.deleteCompensation = this.deleteCompensation.bind(this)\n        this.deleteCompensationConfirmed = this.deleteCompensationConfirmed.bind(this)\n        this.addCompensations = this.addCompensations.bind(this)\n\n        this.showModal = this.showModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n\n        if (this.billingReport) {\n            this.state = {\n                informationEdit: false,\n                order: (this.billingReport.order as Order),\n                date: this.billingReport.date,\n                els: this.billingReport.els,\n                drivers: this.billingReport.drivers,\n                food: this.billingReport.food,\n                remarks: this.billingReport.remarks,\n                modalShow: false\n            }\n        }\n    }\n\n    public componentWillReceiveProps(nextProps: BillingReportProps) {\n        this.billingReport = nextProps.billingReports.byId[parseInt(nextProps.match.params.id)]\n\n        if (this.billingReport) {\n            this.setState({\n                order: (this.billingReport.order as Order),\n                date: this.billingReport.date,\n                els: this.billingReport.els,\n                drivers: this.billingReport.drivers,\n                food: this.billingReport.food,\n                remarks: this.billingReport.remarks\n            })\n        }\n    }\n\n    public componentWillMount() {\n        this.props.fetchBillingReports()\n        this.props.fetchOrders()\n    }\n\n    public approve(): void {\n        this.props.approve(this.billingReport.id.toString())\n    }\n\n    public decline(): void {\n        this.props.decline(this.billingReport.id.toString())\n    }\n\n    public onInformationEdit(event: React.MouseEvent<HTMLElement>) {\n        this.setState({\n            informationEdit: true\n        })\n    }\n\n    public onAbort(event: React.MouseEvent<HTMLElement>) {\n        this.setState({\n            informationEdit: false,\n            order: (this.billingReport.order as Order),\n            date: this.billingReport.date,\n            els: this.billingReport.els,\n            drivers: this.billingReport.drivers,\n            food: this.billingReport.food,\n            remarks: this.billingReport.remarks\n        })\n    }\n\n    public onInformationSave(event: React.MouseEvent<HTMLElement>) {\n        this.props.edit({\n            id: this.billingReport.id.toString(),\n            date: this.state.date,\n            drivers: this.state.drivers,\n            els: this.state.els,\n            food: this.state.food,\n            orderId: this.state.order.id,\n            remarks: this.state.remarks\n        })\n\n        this.setState({\n            informationEdit: false\n        })\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLSelectElement | HTMLInputElement | HTMLTextAreaElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? (target as HTMLInputElement).checked : target.value;\n        const id = target.id;\n\n        let dateValue\n        if (target.type === 'date' && typeof value === 'string') {\n            dateValue = new Date(value)\n        }\n\n        //@ts-ignore\n        this.setState({\n            [id]: dateValue || value\n        });\n    }\n\n    public onSelectChange(state: string): (opts: Array<Contact> | Order) => void {\n        return (opts: Array<Contact> | Order) => {\n            //@ts-ignore\n            this.setState({ [state]: opts })\n        }\n    }\n\n    public elementView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/compensation/' + id)\n            } else {\n                this.props.history.push('/compensation/' + id)\n            }\n        }\n    }\n\n    private deleteCompensation(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n            if (id) {\n                this.setState({\n                    toDeleteCompensation: this.billingReport.compensations.find((compensation: Compensation) => compensation.id === parseInt(id || '')),\n                    modalShow: true\n                })\n            }\n        }\n    }\n\n    private deleteCompensationConfirmed() {\n        if (this.state.toDeleteCompensation) {\n            this.props.deleteCompensation(this.state.toDeleteCompensation.id)\n            this.setState({\n                toDeleteCompensation: undefined,\n                modalShow: false\n            })\n            this.props.fetchBillingReports()\n        }\n    }\n\n    private addCompensations(data: StringIndexed<any>) {\n        let compensationEntries: Array<BillingReportCompensationEntry> = []\n        for (let i in data.vks) {\n            compensationEntries.push(data.vks[i])\n        }\n\n        this.props.addCompensationEntries({\n            billingReportId: this.billingReport.id,\n            entries: compensationEntries\n        })\n\n        this.hideModal()\n    }\n\n    private showModal() {\n        this.setState({\n            modalShow: true\n        })\n    }\n\n    private hideModal(): boolean {\n        this.setState({\n            modalShow: false\n        })\n\n        return true\n    }\n\n    public prepareCompensationsForTable() {\n        let compensations: StringIndexed<OrderCompensation> = {}\n        for (let compensation of (this.billingReport.compensations as Array<OrderCompensation>)) {\n            compensations[compensation.id] = compensation\n        }\n        return compensations\n    }\n\n    public renderActions() {\n        let actions = []\n        if (this.billingReport.state === 'pending' && (\n            this.props.user.roles.includes(AuthRoles.BILLINGREPORTS_APPROVE) ||\n            this.props.user.roles.includes(AuthRoles.ADMIN))) {\n            actions.push(\n                <button id=\"approve\" className=\"btn btn-block btn-outline-success\" onClick={this.approve}>Genehmigen</button>\n            )\n            //TODO: Disabled because of workflow missing for declined reports\n            /* actions.push(\n                <button id=\"decline\" className=\"btn btn-block btn-outline-danger\" onClick={this.decline}>Ablehnen</button>\n            ) */\n        }\n\n        return actions\n    }\n\n    public renderOrder() {\n        if (this.state.informationEdit) {\n            return <OrderSelect defaultValue={[this.state.order]} onChange={this.onSelectChange('order')} />\n        }\n\n        return (this.state.order as Order).title\n    }\n\n    public renderEls() {\n        if (this.state.informationEdit) {\n            return <MemberSelect defaultValue={this.state.els} isMulti={true} onChange={this.onSelectChange('els')} />\n        }\n\n        return this.state.els.map(el => el.firstname + ' ' + el.lastname).join(',')\n    }\n\n    public renderDrivers() {\n        if (this.state.informationEdit) {\n            return <MemberSelect defaultValue={this.state.drivers} isMulti={true} onChange={this.onSelectChange('drivers')} />\n        }\n\n        return this.state.drivers.map(driver => driver.firstname + ' ' + driver.lastname).join(',')\n    }\n\n    public renderInformations() {\n        let statusBadgeClass = 'badge-success'\n        if (this.billingReport.state === 'pending') statusBadgeClass = 'badge-warning'\n        if (this.billingReport.state === 'declined') statusBadgeClass = 'badge-danger'\n\n        let panelActions = []\n        if (this.props.user.roles.includes(AuthRoles.ADMIN) ||\n            this.props.user.roles.includes(AuthRoles.BILLINGREPORTS_EDIT) ||\n            (this.billingReport.state === 'pending' && this.billingReport.creator.id === this.props.user.id)) {\n            if (!this.state.informationEdit) {\n                panelActions.push(<Action icon=\"pencil-alt\" onClick={this.onInformationEdit} />)\n            } else {\n                panelActions.push(<Action icon=\"save\" onClick={this.onInformationSave} />)\n                panelActions.push(<Action icon=\"times\" onClick={this.onAbort} />)\n            }\n        }\n\n        return (\n            <Panel title=\"Informationen\" actions={panelActions} className={(this.state.informationEdit) ? 'editable' : ''}>\n                <FormEntry id=\"orderTitle\" title=\"Auftrag\">\n                    {this.renderOrder()}\n                </FormEntry>\n                <FormEntry id=\"date\" title=\"Datum\" value={this.state.date.toISOString().split('T')[0]} type='date' editable={this.state.informationEdit} onChange={this.onInputChange}></FormEntry>\n                <FormEntry id=\"creator\" title=\"Ersteller\">{(this.billingReport.creator as User).displayName}</FormEntry>\n                <FormEntry id=\"state\" title=\"Status\"><div className={\"badge \" + statusBadgeClass}>{this.billingReport.state}</div></FormEntry>\n                <FormEntry id=\"els\" title=\"ELs\">\n                    {this.renderEls()}\n                </FormEntry>\n                <FormEntry id=\"drivers\" title=\"Fahrer\">\n                    {this.renderDrivers()}\n                </FormEntry>\n                <FormEntry id=\"food\" title=\"Verpflegung\" value={this.state.food} type='checkbox' editable={this.state.informationEdit} onChange={this.onInputChange}></FormEntry>\n                <FormEntry id=\"remarks\" title=\"Bemerkungen\" value={this.state.remarks} type='textarea' editable={this.state.informationEdit} onChange={this.onInputChange}></FormEntry>\n            </Panel>\n        )\n    }\n\n    public renderCompensationDeletionModal() {\n        if (this.state.toDeleteCompensation) {\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>{(this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname + ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString()}</h3>}\n                    body={\n                        <span>\n                            {\n                                'Willst du die Entschädigung von ' +\n                                (this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname +\n                                ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString() + ' mit einem Betrag von CHF' +\n                                (this.state.toDeleteCompensation as Compensation).amount + ' wirklich löschen?'\n                            }\n                        </span>\n                    }\n                    footer={\n                        <ButtonGroup>\n                            <Button variant=\"danger\" onClick={this.deleteCompensationConfirmed}>Löschen</Button>\n                            <Button variant=\"secondary\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>\n                    }\n\n                />\n            )\n        }\n\n        return null\n    }\n\n    public renderCompensationsAddModal() {\n        if (!this.state.toDeleteCompensation) {\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>Entschädigungen hinzufügen</h3>}\n                    body={\n                        <AddBillingReportStep2 onNext={this.addCompensations} onPrevious={this.hideModal} />\n                    }\n                    footer={<div></div>}\n\n                />\n            )\n        }\n        return null\n    }\n\n    public getCompensationActions() {\n        let actions = [<Button variant=\"success\" className=\"view\" onMouseUp={this.elementView}><FontAwesomeIcon icon=\"eye\" /></Button>]\n        if (this.props.user.roles.includes(AuthRoles.ADMIN) ||\n            this.props.user.roles.includes(AuthRoles.BILLINGREPORTS_EDIT) ||\n            (this.billingReport.state === 'pending' && this.billingReport.creator.id === this.props.user.id)) {\n            actions.push(<Button variant=\"danger\" className=\"delete\" onMouseUp={this.deleteCompensation}><FontAwesomeIcon icon=\"trash\" /></Button>)\n        }\n        return actions\n    }\n\n    public render() {\n        if (this.props.loading || !this.billingReport || !this.state) {\n            return (<Page title=\"Verrechnungsrapport\"><Loading /></Page>)\n        }\n\n        return (\n            <Page title=\"Verrechnungsrapport\">\n                {this.renderCompensationDeletionModal()}\n                {this.renderCompensationsAddModal()}\n                <Row>\n                    <Column className=\"col-md-6\">\n                        {this.renderInformations()}\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            {this.renderActions()}\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column>\n                        <Panel title=\"VKs\" actions={[<Action icon=\"plus\" onClick={this.showModal} />]}>\n                            <Table<OrderCompensation>\n                                columns={[\n                                    { text: 'Name', keys: { 'member': ['firstname', 'lastname'] }, sortable: true },\n                                    { text: 'Von', keys: ['from'], format: 'toLocaleTimeString', sortable: true },\n                                    { text: 'Bis', keys: ['until'], format: 'toLocaleTimeString', sortable: true },\n                                    { text: 'Verrechnen', keys: ['charge'], sortable: true },\n                                    { text: 'Betrag', keys: ['amount'], prefix: 'CHF ', sortable: true },\n                                    { text: 'Ausbezahlt', keys: ['paied'], sortable: true },\n                                    {\n                                        text: 'Actions', keys: ['_id'], content: <ButtonGroup>{this.getCompensationActions()}</ButtonGroup>\n                                    }\n                                ]}\n                                defaultSort={{ keys: ['from'], direction: 'asc' }}\n                                data={this.prepareCompensationsForTable()}\n                            ></Table>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        billingReports: state.data.billingReports,\n        user: state.data.user.data,\n        orders: state.data.orders,\n        loading: state.data.billingReports.loading || state.data.user.loading || state.data.orders.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchBillingReports: () => {\n            dispatch(Data.fetchBillingReports())\n        },\n        fetchOrders: () => {\n            dispatch(Data.fetchOrders())\n        },\n        approve: (id: string) => {\n            dispatch(Data.approveBillingReport(id))\n        },\n        decline: (id: string) => {\n            dispatch(Data.declineBillingReport(id))\n        },\n        edit: (data: EditBillingReport) => {\n            dispatch(Data.editBillingReport(data))\n        },\n        deleteCompensation: (id: number) => {\n            dispatch(Data.deleteCompensationEntry(id)).then(() => {\n                dispatch(Data.fetchBillingReports())\n            })\n        },\n        addCompensationEntries: (data: { billingReportId: number, entries: Array<BillingReportCompensationEntry> }) => {\n            dispatch(Data.addCompensationEntriesForBillingReport(data)).then(() => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n}\n\n//@ts-ignore\nexport const BillingReport = connect(mapStateToProps, mapDispatchToProps)(_BillingReport)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { ThunkDispatch } from 'redux-thunk';\nimport { State } from '../reducers/IndexReducer';\nimport { AnyAction } from 'redux';\nimport { Data } from '../actions/DataActions';\nimport { DataInterface } from '../reducers/DataReducer';\nimport Loading from '../components/Loading';\nimport { Page } from '../components/Page';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport Select from 'react-select';\nimport { ValueType } from 'react-select/lib/types';\nimport { CompensationEntry } from '../interfaces/CompensationEntry';\nimport { History } from \"history\";\nimport Contact from '../entities/Contact';\n\nexport class _AddCompensation extends Component<{ history: History, members: DataInterface<Contact>, loading: boolean, fetchMembers: Function, save: Function }, { member: string, date: string, description: string, amount?: number }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: { history: History, members: DataInterface<Contact>, loading: boolean, fetchMembers: Function, save: Function }) {\n        super(props)\n\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n\n        this.state = {\n            member: '',\n            date: '',\n            description: ''\n        }\n    }\n\n    public componentDidMount() {\n        this.props.fetchMembers()\n    }\n\n    private validate(): boolean {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            return valid\n        }\n        return false\n    }\n\n    private onSelectChange(opt: ValueType<{ label: string, value: string }>) {\n        if (opt) {\n            this.setState({\n                member: (opt as { label: string, value: string }).value\n            })\n        } else {\n            this.setState({\n                member: ''\n            })\n        }\n    }\n\n    private prepareMembers() {\n        let options = []\n        if (Object.keys(this.props.members.byId).length > 0) {\n            for (let i in this.props.members.byId) {\n                let member = this.props.members.byId[i]\n                options.push({\n                    label: (member.firstname + ' ' + member.lastname),\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private onSave(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (this.formEl) {\n            if (this.validate()) {\n                this.props.save({\n                    member: this.state.member,\n                    date: new Date(this.state.date),\n                    description: this.state.description,\n                    amount: this.state.amount\n                })\n                this.props.history.push('/compensations')\n            }\n        }\n    }\n\n    public render() {\n        if (this.props.loading || this.props.members.ids.length < 1) {\n            return (\n                <Page title=\"Entschädigung hinzufügen\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Entschädigung hinzufügen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form id=\"addCompensation\" ref={(ref: HTMLFormElement) => { this.formEl = ref }}>\n                                <h5>Mitglied</h5>\n                                <Select\n                                    isClearable={true}\n                                    onChange={this.onSelectChange}\n                                    options={this.prepareMembers()}\n                                    backspaceRemovesValue={true}\n                                    hideSelectedOptions={true}\n                                    openMenuOnFocus={true}\n                                />\n                                <br></br>\n\n                                <h5>Datum</h5>\n                                <input name=\"date\" type=\"date\" className=\"form-control\" value={this.state.date} onChange={this.onInputChange} required={true} />\n                                <br></br>\n\n                                <h5>Beschreibung</h5>\n                                <input name=\"description\" type=\"text\" className=\"form-control\" value={this.state.description} onChange={this.onInputChange} required={true} />\n                                <br></br>\n\n                                <h5>Betrag</h5>\n                                <div className=\"input-group mb-2\">\n                                    <div className=\"input-group-prepend\">\n                                        <div className=\"input-group-text\">CHF</div>\n                                    </div>\n                                    <input type=\"number\" step=\"0.05\" className=\"form-control\" name=\"amount\" value={this.state.amount} onChange={this.onInputChange} placeholder=\"0.00\" required={true} />\n                                </div>\n                                <br></br>\n\n                                <button className=\"btn btn-primary btn-block\" onClick={this.onSave}>Speichern</button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        members: state.data.members,\n        loading: state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        save: (data: CompensationEntry) => {\n            dispatch(Data.addCompensationEntry(data))\n        }\n    }\n}\n\nexport const AddCompensation = connect(mapStateToProps, mapDispatchToProps)(_AddCompensation)","\nimport Contact from \"./Contact\";\nimport Payout from \"./Payout\";\nimport User from \"./User\";\nimport Base from \"./Base\";\nimport OrderCompensation from \"./OrderCompensation\";\nimport CustomCompensation from \"./CustomCompensation\";\n\n\nexport default class Compensation extends Base {\n\n    public member: Contact\n\n\n    public creator: User\n\n\n    public amount: number\n\n\n    public date: Date\n\n\n    public approved: boolean\n\n\n\n    public approvedBy?: User\n\n\n    public paied: boolean\n\n\n    public valutaDate?: Date\n\n\n    public payout?: Payout\n\n\n\n    public updatedBy: User\n\n    constructor(member: Contact, creator: User, amount: number, date: Date, approved: boolean = false, paied: boolean = false, valutaDate?: Date, payout?: Payout) {\n        super()\n        this.member = member\n        this.creator = creator\n        this.amount = amount\n        this.date = date\n        this.approved = approved\n        this.paied = paied\n        this.valutaDate = valutaDate\n        this.payout = payout\n    }\n\n    public static isOrderBased(compensation: Compensation): compensation is OrderCompensation {\n        return (\n            (<OrderCompensation>compensation).billingReport !== undefined &&\n            (<OrderCompensation>compensation).billingReport !== null\n        )\n    }\n\n    public static isCustom(compensation: Compensation): compensation is CustomCompensation {\n        return (\n            (<CustomCompensation>compensation).description !== undefined &&\n            (<CustomCompensation>compensation).description !== null\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { Page } from \"../Page\";\n\nexport class Error404 extends Component {\n    public render() {\n        return (\n            <Page title=\"\">\n                <div id=\"page-404\">\n                    <img src=\"/404.png\" />\n                </div>\n            </Page>\n        )\n    }\n}","import { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport * as CompensationEntity from \"../entities/Compensation\";\nimport { RouteComponentProps, RouteProps } from \"react-router\";\nimport * as React from \"react\";\nimport { Page } from \"../components/Page\";\nimport Loading from \"../components/Loading\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport FormEntry from \"../components/FormEntry\";\nimport { Link } from \"react-router-dom\";\nimport { Error404 } from \"../components/Errors/404\";\n\ninterface CompensationProps extends RouteComponentProps<{ id: string }> {\n    compensation: CompensationEntity.default,\n    compensationIds: Array<number>,\n    loading: boolean,\n    fetchCompensations: Function,\n    approve: Function\n}\n\nexport class _Compensation extends Component<CompensationProps> {\n\n    constructor(props: CompensationProps) {\n        super(props)\n\n        this.approve = this.approve.bind(this)\n        this.renderBillingReport = this.renderBillingReport.bind(this)\n        this.renderActions = this.renderActions.bind(this)\n\n        this.props.fetchCompensations()\n    }\n\n    private approve() {\n        this.props.approve(this.props.compensation.id)\n    }\n\n    private renderActions() {\n        if (!this.props.compensation.approved) {\n            return <button id=\"approve\" className=\"btn btn-block btn-outline-success\" onClick={this.approve}>Genehmigen</button>\n        }\n    }\n\n    private renderBillingReport() {\n        if (CompensationEntity.default.isOrderBased(this.props.compensation)) {\n            let statusBadgeClass = 'badge-success'\n            if (this.props.compensation.billingReport.state === 'pending') {\n                statusBadgeClass = 'badge-warning'\n            }\n\n            return (\n                <Column className=\"col-md-6\">\n                    <Panel title=\"Verrechnungsrapport\">\n                        <FormEntry id=\"orderNr\" title=\"Auftragsnummer\">{this.props.compensation.billingReport.order.documentNr}</FormEntry>\n                        <FormEntry id=\"orderNr\" title=\"Auftrag\">{this.props.compensation.billingReport.order.title}</FormEntry>\n                        <FormEntry id=\"state\" title=\"Verrechnungsrapportstatus\"><div className={\"badge \" + statusBadgeClass}>{this.props.compensation.billingReport.state}</div></FormEntry>\n                        <FormEntry id=\"from\" title=\"Von\">{this.props.compensation.from.toLocaleTimeString()}</FormEntry>\n                        <FormEntry id=\"until\" title=\"Bis\">{this.props.compensation.until.toLocaleTimeString()}</FormEntry>\n                        <FormEntry id=\"charge\" title=\"Verrechnen\">{(this.props.compensation.charge) ? '✓' : '⨯'}</FormEntry>\n                        <Link to={\"/order/\" + this.props.compensation.billingReport.order.id} className=\"btn btn-outline-primary btn-block\">Auftrag</Link>\n                        <Link to={\"/billing-report/\" + this.props.compensation.billingReport.id} className=\"btn btn-outline-primary btn-block\">Verrechnungsrapport</Link>\n                    </Panel>\n                </Column>\n            )\n        }\n    }\n\n    public render() {\n        if (!this.props.loading && !this.props.compensation && this.props.compensationIds.length > 0) {\n            return <Error404 />\n        }\n\n        if (this.props.loading || !this.props.compensation) {\n            return (<Page title=\"Entschädigung\"><Loading /></Page>)\n        }\n\n        let statusBadgeClass = 'badge-success'\n        if (!this.props.compensation.approved) {\n            statusBadgeClass = 'badge-warning'\n        }\n\n        return (\n            <Page title=\"Entschädigung\">\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <FormEntry id=\"member\" title=\"Mitglied\">{this.props.compensation.member.firstname} {this.props.compensation.member.lastname}</FormEntry>\n                            <FormEntry id=\"date\" title=\"Datum\">{this.props.compensation.date.toLocaleDateString()}</FormEntry>\n                            <FormEntry id=\"amount\" title=\"Betrag\">CHF {this.props.compensation.amount}</FormEntry>\n                            {\n                                CompensationEntity.default.isCustom(this.props.compensation) &&\n                                <FormEntry id=\"description\" title=\"Beschreibung\">{this.props.compensation.description}</FormEntry>\n                            }\n                            <FormEntry id=\"state\" title=\"Status\"><div className={\"badge \" + statusBadgeClass}>{(this.props.compensation.approved) ? 'Bewilligt' : 'Ausstehend'}</div></FormEntry>\n                            <FormEntry id=\"creator\" title=\"Ersteller\">{this.props.compensation.creator.displayName}</FormEntry>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            {this.renderActions()}\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    {this.renderBillingReport()}\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Auszahlung\">\n                            <FormEntry id=\"paied\" title=\"Ausbezahlt\">{(this.props.compensation.paied) ? '✓' : '⨯'}</FormEntry>\n                            <FormEntry id=\"valutaDate\" title=\"Valuta Datum\">{(this.props.compensation.valutaDate) ? this.props.compensation.valutaDate.toLocaleDateString() : ''}</FormEntry>\n                            {() => {\n                                if (this.props.compensation.payout) {\n                                    return <Link to={\"/payout/\" + this.props.compensation.payout.id} className=\"btn btn-outline-primary btn-block\">Auszahlung</Link>\n                                }\n                            }}\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: RouteComponentProps<{ id: string }>) => {\n    return {\n        compensation: state.data.compensationEntries.byId[props.match.params.id],\n        compensationIds: state.data.compensationEntries.ids,\n        loading: state.data.compensationEntries.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchCompensations: () => {\n            dispatch(Data.fetchCompensationEntries())\n        },\n        approve: (id: number) => {\n            dispatch(Data.approveCompensationEntry(id))\n        },\n    }\n}\n\nexport const Compensation = connect(mapStateToProps, mapDispatchToProps)(_Compensation)","import React, { Component } from \"react\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Page } from \"../components/Page\";\nimport Column from \"../components/Column\";\nimport Row from \"../components/Row\";\nimport Panel from \"../components/Panel\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\nimport Loading from \"../components/Loading\";\n\nexport class _MailingLists extends Component<{ fetchMembers: Function, mailingLists: StringIndexed<Array<string>> }> {\n\n    constructor(props: { fetchMembers: Function, mailingLists: StringIndexed<Array<string>> }) {\n        super(props)\n\n        this.props.fetchMembers()\n    }\n\n    public render() {\n        if (Object.keys(this.props.mailingLists).length < 1) {\n            return (<Page title=\"Verteiler\"><Loading /></Page>)\n        }\n        console.log(this.props.mailingLists)\n        return (\n            <Page title=\"Verteiler\">\n                <Row>\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Mitglieder\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.all.join(';')}></input>\n                                {/* <div className=\"input-group-prepend\">\n                                    <div className=\"input-group-text\" id=\"btnGroupAddon\"><FontAwesomeIcon icon=\"clipboard\" /></div>\n                                </div> */}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"VKs (ohne Fahrer und Condor)\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.vks.join(';')}></input>\n                                {/* <div className=\"input-group-prepend\">\n                                    <div className=\"input-group-text\" id=\"btnGroupAddon\"><FontAwesomeIcon icon=\"clipboard\" /></div>\n                                </div> */}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Kader\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.squad.join(';')}></input>\n                              {/* <div className=\"input-group-prepend\">\n                                    <div className=\"input-group-text\" id=\"btnGroupAddon\"><FontAwesomeIcon icon=\"clipboard\" /></div>\n                                </div> */}\n                            </div>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Fahrer\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.drivers.join(';')}></input>\n                             {/* <div className=\"input-group-prepend\">\n                                    <div className=\"input-group-text\" id=\"btnGroupAddon\"><FontAwesomeIcon icon=\"clipboard\" /></div>\n                                </div> */}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Vorstand\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.vst.join(';')}></input>\n                               {/* <div className=\"input-group-prepend\">\n                                    <div className=\"input-group-text\" id=\"btnGroupAddon\"><FontAwesomeIcon icon=\"clipboard\" /></div>\n                                </div> */}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Condor\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.con.join(';')}></input>\n                               {/* <div className=\"input-group-prepend\">\n                                    <div className=\"input-group-text\" id=\"btnGroupAddon\"><FontAwesomeIcon icon=\"clipboard\" /></div>\n                                </div> */}\n                            </div>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = function (state: State) {\n    return {\n        mailingLists: state.data.mailingLists\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        }\n    }\n}\n\nexport const MailingLists = connect(mapStateToProps, mapDispatchToProps)(_MailingLists)","import { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataList } from \"../components/DataList\";\nimport Action from \"../components/Action\";\nimport React from \"react\";\n\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.collectionPoints,\n        title: 'Abholpunkte',\n        panelActions: [<Action icon=\"plus\" to=\"/draft/collection-points/add\" />],\n        viewLocation: '/collection-point/',\n        tableColumns: [\n            { text: 'Name', keys: ['name'], sortable: true, searchable: true },\n            { text: 'Abholpunkt', keys: ['address', 'postcode', 'city'], link: true, linkPrefix: 'https://www.google.com/maps/search/', sortable: true, searchable: true },\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchCollectionPoints())\n        }\n    }\n}\n\n\nexport const CollectionPoints = connect(mapStateToProps, mapDispatchToProps)(DataList)","import { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport React from \"react\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport { PutCollectionPoints } from \"../interfaces/CollectionPoints\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps } from \"react-router\";\n\nexport class _AddCollectionPoint extends Component<{ save: Function } & RouteComponentProps, PutCollectionPoints> {\n    private formEl: HTMLFormElement\n\n    constructor(props: { save: Function } & RouteComponentProps) {\n        super(props)\n\n        this.state = {\n            name: '',\n            address: '',\n            postcode: '',\n            city: ''\n        }\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.save = this.save.bind(this)\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private save(event: React.MouseEvent<HTMLButtonElement>): boolean {\n        event.preventDefault()\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                this.props.save({\n                    name: this.state.name,\n                    postcode: this.state.postcode,\n                    address: this.state.address,\n                    city: this.state.city\n                })\n                this.props.history.push('/draft/collection-points')\n            }\n            return valid\n        }\n        return false\n    }\n\n    public render() {\n        return (\n            <Page title=\"Abholpunkt Hinzufügen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form ref={(ref: HTMLFormElement) => this.formEl = ref}>\n                                <h5>Name</h5>\n                                <input type=\"text\" name=\"name\" id=\"name\" className='form-control' value={this.state.name} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <h5>Addresse</h5>\n                                <input type=\"text\" name=\"address\" id=\"address\" className='form-control' value={this.state.address} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <h5>PLZ</h5>\n                                <input type=\"text\" minLength={4} maxLength={4} name=\"postcode\" id=\"postcode\" className='form-control' value={this.state.postcode} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <h5>Ort</h5>\n                                <input type=\"text\" name=\"city\" id=\"city\" className='form-control' value={this.state.city} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <button className=\"btn btn-primary btn-block\" onClick={this.save}>Speichern</button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapDisptachToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        save: (data: PutCollectionPoints) => {\n            dispatch(Data.addCollectionPoint(data))\n        }\n    }\n}\n\nexport const AddCollectionPoint = connect(() => { }, mapDisptachToProps)(_AddCollectionPoint)","import React, { Component } from \"react\";\nimport { PageTemplateProps } from \"@progress/kendo-react-pdf\";\n\nexport interface DefaultPDFTemplateProps {\n    title: string\n}\n\nexport default class DefaultPDFTemplate extends Component<DefaultPDFTemplateProps & Partial<PageTemplateProps>> {\n    public render() {\n        return (\n            <div className=\"template\">\n                <div className=\"header-left\">\n                    <img src=\"/logo.png\" height=\"60mm\"/>\n                </div>\n                <div className=\"header-center\">\n                    <p className=\"title\">{this.props.title}</p>\n                </div>\n                <div className=\"footer-left\">\n                    {new Date().toLocaleDateString()}\n                </div>\n                <div className=\"footer-right\">\n                    Seite {this.props.pageNum} von {this.props.totalPages}\n                </div>\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport Contact from \"../../entities/Contact\";\nimport { Data } from \"../../actions/DataActions\";\nimport { connect } from \"react-redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { DataInterface } from \"../../reducers/DataReducer\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport Table from \"../../components/Table\";\nimport Loading from \"../../components/Loading\";\nimport { PDFExport, PageTemplateProps } from '@progress/kendo-react-pdf';\nimport { RouteComponentProps } from \"react-router-dom\";\nimport DefaultPDFTemplate from \"../../components/Pdfs/DefaultPDFTemplate\";\n\nexport class _Memberlist extends Component<{ data: DataInterface<Contact>, fetchData: Function } & RouteComponentProps> {\n    private pdfExport: PDFExport\n\n    constructor(props: { data: DataInterface<Contact>, fetchData: Function } & RouteComponentProps) {\n        super(props)\n        if (this.props.data.ids.length === 0) this.props.fetchData()\n    }\n\n    public componentDidMount() {\n        if (this.props.data.ids.length > 0) {\n            this.pdfExport.save(() => {\n                this.props.history.push('/members')\n            })\n        }\n    }\n\n    public componentDidUpdate() {\n        if (this.props.data.ids.length > 0) {\n            this.pdfExport.save(() => {\n                this.props.history.push('/members')\n            })\n        }\n    }\n\n    public render() {\n        if (this.props.data.ids.length === 0) return <Loading fullscreen={true} />\n\n        let dataById: StringIndexed<any> = {}\n        for (let id of this.props.data.ids) {\n            dataById['_' + id] = this.props.data.byId[id]\n        }\n\n        return (\n            <div>\n                <Loading fullscreen={true} />\n                <PDFExport\n                    ref={(ref: PDFExport) => this.pdfExport = ref}\n                    author=\"The same cool dude who created this\"\n                    creator=\"Mathias Scherer\"\n                    producer=\"VK-Tool\"\n                    title={`Mitgliederliste ${new Date().toLocaleDateString()}`}\n                    paperSize=\"A4\"\n                    repeatHeaders={true}\n                    landscape={true}\n                    date={new Date()}\n                    fileName={`Mitgliederliste-${new Date().toLocaleDateString()}`}\n                    scale={0.5}\n                    margin=\"2cm\"\n                    pageTemplate={(props: PageTemplateProps) => <DefaultPDFTemplate title=\"Mitgliederliste\" {...props} />}\n                >\n                    <Table<Contact>\n                        className=\"pdf-content landscape memberlist-pdf\"\n                        data={dataById}\n                        columns={\n                            [\n                                { text: 'Name', keys: ['firstname', 'lastname'], searchable: true },\n                                { text: 'Grad', keys: ['rank'], sortable: true, searchable: true },\n                                { text: 'Funktionen', keys: ['functions'], sortable: true, searchable: true },\n                                { text: 'Addresse', keys: ['address', 'postcode', 'city'], link: true, linkPrefix: 'https://www.google.com/maps/search/', searchable: true },\n                                { text: 'Abholpunkt', keys: { collectionPoint: ['address', 'postcode', 'city'] }, link: true, linkPrefix: 'https://www.google.com/maps/search/', searchable: true },\n                                { text: 'Festnetz', keys: ['phoneFixed'], link: true, linkPrefix: 'tel:', searchable: true },\n                                { text: 'Mobile', keys: ['phoneMobile'], link: true, linkPrefix: 'tel:', searchable: true },\n                                { text: 'E-Mail', keys: ['mail'], link: true, linkPrefix: 'mailto:', searchable: true }\n                            ]}\n                        defaultSort={(this.props.location.state || { sort: this.props.data.sort }).sort}\n                        searchString={(this.props.location.state || { searchString: '' }).searchString}\n                    />\n                </PDFExport>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.members\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchMembers())\n        }\n    }\n}\n\n\nexport const Memberlist = connect(mapStateToProps, mapDispatchToProps)(_Memberlist) ","import React, { Component, SyntheticEvent } from \"react\";\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./Store\";\nimport { Store, AnyAction } from \"redux\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { Header } from \"./components/Header\";\nimport { Navibar } from \"./components/Navibar\";\nimport { ToastContainer } from 'react-toastify';\nimport { AuthRoles } from \"./interfaces/AuthRoles\";\nimport { SecureRoute } from \"./components/SecureRoute\";\nimport Config from './Config'\n\n// styles\nimport './styles/index.scss'\nimport 'react-toastify/dist/ReactToastify.css'\n\n// views\nimport { Dashboard } from \"./views/Dashboard\";\nimport { Members } from \"./views/Members\";\nimport { Contact } from \"./views/Contact\";\nimport { Orders } from \"./views/Orders\";\nimport { Order } from \"./views/Order\";\nimport { BillingReports } from \"./views/BillingReports\";\nimport { Compensations } from \"./views/Compensations\";\nimport { AddBillingReport } from \"./views/AddBillingReport\";\nimport { Login } from \"./views/Login\";\nimport { Users } from \"./views/Users\";\nimport { User } from \"./views/User\";\nimport { BillingReport } from \"./views/BillingReport\";\nimport { AddCompensation } from \"./views/AddCompensation\";\nimport { Compensation } from \"./views/Compensation\";\nimport { Error404 } from \"./components/Errors/404\";\nimport { MailingLists } from \"./views/MailingLists\";\nimport { CollectionPoints } from \"./views/CollectionPoints\";\nimport { AddCollectionPoint } from \"./views/AddCollectionPoint\";\nimport { Memberlist } from \"./views/Pdfs/Memberlist\";\n\nexport default class Root extends Component<{}, {}> {\n    private store: Store<any, AnyAction>\n\n    constructor(props: {}, state: {}) {\n        super(props, state)\n        Config.loadConfig()\n        this.store = configureStore()\n        this.store.getState()\n    }\n\n    render() {\n        return (\n            <Provider store={this.store}>\n                <div className=\"body\">\n                    <ToastContainer\n                        position=\"top-center\"\n                        autoClose={5000}\n                        hideProgressBar={false}\n                        newestOnTop={true}\n                        closeOnClick\n                        rtl={false}\n                        draggable={true}\n                        pauseOnHover={true}\n                    />\n                    <BrowserRouter>\n                        <Switch>\n                            <Route exact path=\"/\" component={() => { return (<Redirect to=\"/login\" />) }} />\n                            <Route exact path=\"/login\" component={Login} />\n                            <Route exact path=\"/login?source=:source\" component={Login} />\n                            <SecureRoute exact path=\"/dashboard\" roles={[AuthRoles.AUTHENTICATED]} component={Dashboard} />\n                            <SecureRoute exact path=\"/me\" roles={[AuthRoles.AUTHENTICATED]} component={User} />\n                            <SecureRoute exact path=\"/members\" roles={[AuthRoles.MEMBERS_READ]} component={Members} />\n                            <SecureRoute exact path=\"/members/pdf\" roles={[AuthRoles.MEMBERS_READ]} component={Memberlist} />\n                            <SecureRoute exact path=\"/mailing-lists\" roles={[AuthRoles.MEMBERS_READ]} component={MailingLists} />\n                            <SecureRoute exact path=\"/draft/collection-points\" roles={[AuthRoles.DRAFT_READ]} component={CollectionPoints} />\n                            <SecureRoute exact path=\"/draft/collection-points/add\" roles={[AuthRoles.DRAFT_EDIT, AuthRoles.DRAFT_CREATE]} component={AddCollectionPoint} />\n                            <SecureRoute exact path=\"/contact/:id\" roles={[AuthRoles.CONTACTS_READ, AuthRoles.MEMBERS_READ]} component={Contact} />\n                            <SecureRoute exact path=\"/orders\" roles={[AuthRoles.ORDERS_READ]} component={Orders} />\n                            <SecureRoute exact path=\"/order/:id\" roles={[AuthRoles.ORDERS_READ]} component={Order} />\n                            <SecureRoute exact path=\"/billing-reports\" roles={[AuthRoles.BILLINGREPORTS_READ, AuthRoles.BILLINGREPORTS_CREATE]} component={BillingReports} />\n                            <SecureRoute exact path=\"/billing-reports/add\" roles={[AuthRoles.BILLINGREPORTS_CREATE]} component={AddBillingReport} />\n                            <SecureRoute exact path=\"/billing-report/:id\" roles={[AuthRoles.BILLINGREPORTS_CREATE, AuthRoles.BILLINGREPORTS_READ]} component={BillingReport} />\n                            <SecureRoute exact path=\"/compensations\" roles={[AuthRoles.COMPENSATIONS_READ]} component={Compensations} />\n                            <SecureRoute exact path=\"/compensations/add\" roles={[AuthRoles.COMPENSATIONS_CREATE]} component={AddCompensation} />\n                            <SecureRoute exact path=\"/compensation/:id\" roles={[AuthRoles.COMPENSATIONS_READ]} component={Compensation} />\n                            <SecureRoute exact path=\"/users\" roles={[AuthRoles.ADMIN]} component={Users} />\n                            <SecureRoute exact path=\"/user/:id\" roles={[AuthRoles.ADMIN]} component={User} />\n                            <Route path=\"/*\" component={Error404} />\n                        </Switch>\n                    </BrowserRouter>\n                </div>\n            </Provider>\n        )\n    }\n}","import { createStore, applyMiddleware } from \"redux\";\nimport IndexReducer from \"./reducers/IndexReducer\";\nimport thunkMiddleware from 'redux-thunk'\n\nexport default function configureStore() {\n    return createStore(IndexReducer, applyMiddleware(thunkMiddleware))\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and contacts)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import './fontawesome_init'\n\nimport React from 'react';\nimport ReactDOM, { render } from 'react-dom';\nimport Root from './Root';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <Root />\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { Component } from 'react'\n\nexport default class Loading extends Component<{ fullscreen?: boolean }> {\n    public render() {\n        return (\n            <div className={\"loading-animation \" + ((this.props.fullscreen) ? 'fullscreen' : '')}>\n                <div className=\"sk-folding-cube\">\n                    <div className=\"sk-cube1 sk-cube\"></div>\n                    <div className=\"sk-cube2 sk-cube\"></div>\n                    <div className=\"sk-cube4 sk-cube\"></div>\n                    <div className=\"sk-cube3 sk-cube\"></div>\n                </div>\n                {this.props.children}\n            </div>\n        )\n    }\n}","import { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport { Link } from \"react-router-dom\";\n\nexport interface ActionProps {\n    icon: IconProp,\n    to?: string,\n    onClick?: (event: React.MouseEvent<HTMLButtonElement>) => void,\n    state?: any\n}\n\nexport default class Action extends Component<ActionProps> {\n    constructor(props: ActionProps) {\n        super(props)\n\n        this.onClick = this.onClick.bind(this)\n    }\n\n    private onClick(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (this.props.onClick) this.props.onClick(event)\n    }\n\n    public render() {\n        if (this.props.to) {\n            return (\n                <Link to={{\n                    pathname: this.props.to,\n                    state: this.props.state || {}\n                }}\n                    className=\"action-button btn btn-outline-dark\"\n                >\n                    <FontAwesomeIcon icon={this.props.icon} />\n                </Link>\n            )\n        }\n\n        return (\n            <button onClick={this.onClick} className=\"action-button btn btn-outline-dark\">\n                <FontAwesomeIcon icon={this.props.icon} />\n            </button>\n        )\n    }\n}","import React, { Component, MouseEvent } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\n\nexport interface TableColumn {\n    text: string\n    keys: Array<string> | { [index: string]: Array<string> }\n    content?: JSX.Element\n    link?: boolean\n    linkPrefix?: string,\n    sortable?: boolean,\n    searchable?: boolean,\n    prefix?: string\n    suffix?: string\n    format?: string\n    className?: string\n}\n\ninterface TableProps<T> {\n    columns: Array<TableColumn>,\n    data: StringIndexed<T> | Array<T>,\n    onSort?: (event: MouseEvent<HTMLTableHeaderCellElement>, clickedKeys: Array<string> | StringIndexed<any>, sortDirection: 'asc' | 'desc') => void,\n    defaultSort?: { keys: Array<string> | StringIndexed<any>, direction: 'asc' | 'desc' },\n    searchString?: string,\n    ref?: Function,\n    className?: string\n}\n\ninterface TableState<T> {\n    sortKey: string,\n    sortDirection: 'asc' | 'desc',\n    searchableKeys: Array<string | { [index: string]: Array<string> }>\n}\n\nexport default class Table<T extends { id: string | number }> extends Component<TableProps<T>, TableState<T>> {\n    constructor(props: TableProps<T>) {\n        super(props)\n        this.sortClick = this.sortClick.bind(this)\n        this.search = this.search.bind(this)\n        this.ref = this.ref.bind(this)\n\n        if (this.props.defaultSort) {\n            this.state = {\n                sortKey: this.props.defaultSort.keys.join('-'),\n                sortDirection: this.props.defaultSort.direction,\n                searchableKeys: this.genSearchKeys(this.props.columns)\n            }\n        } else {\n            this.state = {\n                sortKey: '',\n                sortDirection: 'asc',\n                searchableKeys: this.genSearchKeys(this.props.columns)\n            }\n        }\n    }\n\n    public componentWillReceiveProps(nextProps: TableProps<T>) {\n        if (nextProps !== this.props) {\n            this.setState({\n                searchableKeys: this.genSearchKeys(nextProps.columns)\n            })\n        }\n    }\n\n    private ref(table: HTMLTableElement) {\n        if (this.props.ref) this.props.ref(table)\n    }\n\n    private sort(sortKey: string, direction: 'asc' | 'desc', data?: StringIndexed<T> | Array<T>): StringIndexed<T> | Array<T> {\n        let keys = this.genSortKeys(sortKey)\n        let prepared = []\n        data = data || this.props.data\n        for (let a in data) {\n            //@ts-ignore\n            let element = data[a]\n            let sortValues = []\n            for (let i in keys) {\n                //@ts-ignore\n                let key = keys[i]\n                if (key instanceof Array) {\n                    for (let b of key) {\n                        if (element[i]) {\n                            if (b.indexOf('phone') > -1) {\n                                //@ts-ignore\n                                sortValues.push(element[i][b].replace(' ', ''))\n                            } else if (element[key] instanceof Date) {\n                                sortValues.push(element[key].getTime())\n                            } else {\n                                //@ts-ignore\n                                sortValues.push(element[i][b])\n                            }\n                        }\n                    }\n                } else {\n                    if (key.indexOf('phone') > -1) {\n                        //@ts-ignore\n                        sortValues.push(element[key].replace(' ', ''))\n                    } else if (element[key] instanceof Date) {\n                        sortValues.push(element[key].getTime())\n                    } else {\n                        //@ts-ignore\n                        sortValues.push(element[key])\n                    }\n                }\n\n            }\n            prepared.push({ id: a, value: sortValues.join(' ').toLowerCase() })\n        }\n\n        prepared.sort((a, b) => {\n            let aValue, bValue\n            aValue = parseFloat(a.value)\n            bValue = parseFloat(b.value)\n            if (isNaN(aValue) || isNaN(bValue)) {\n                aValue = a.value\n                bValue = b.value\n            }\n\n            if (aValue < bValue)\n                return (direction === 'asc') ? -1 : 1;\n            if (aValue > bValue)\n                return (direction === 'asc') ? 1 : -1;\n            return 0;\n        })\n\n        let sorted = {}\n        for (let id of prepared) {\n            //@ts-ignore\n            sorted[`_${id.id}`] = this.props.data[id.id]\n        }\n\n        return sorted\n    }\n\n    private genSortKeys(key: string): Array<string> | StringIndexed<any> {\n        let keys = [key]\n        if (key.indexOf('_') > -1) keys = key.split('_')\n\n        let finalKeys: StringIndexed<any> | Array<string> = {}\n        for (let key of keys) {\n            if (key) {\n                if (key.indexOf('.') > -1) {\n                    (finalKeys as StringIndexed<any>)[key.split('.')[0]] = key.split('.')[1].split('-')\n                } else {\n                    (finalKeys as Array<string>) = key.split('-')\n                }\n            }\n        }\n\n        return finalKeys\n    }\n\n    private sortClick(event: MouseEvent<HTMLTableHeaderCellElement>) {\n        let dataKey = (event.target as HTMLElement).dataset.key as string\n        let direction: 'asc' | 'desc' = 'asc';\n\n        if (this.state.sortKey === dataKey) {\n            if (this.state.sortDirection === 'asc') {\n                direction = 'desc'\n            } else {\n                direction = 'asc'\n            }\n        }\n\n        if (this.props.onSort) this.props.onSort(event, this.genSortKeys(dataKey), direction)\n\n        this.setState({\n            sortDirection: direction,\n            sortKey: dataKey\n        })\n    }\n\n    private genSearchKeys(columns: Array<TableColumn>): Array<string | { [index: string]: Array<string> }> {\n        let searchKeys: Array<string | { [index: string]: Array<string> }> = []\n        for (let column of columns) {\n            if (column.searchable) {\n                if (column.keys instanceof Array) {\n                    searchKeys = searchKeys.concat(column.keys)\n                } else {\n                    searchKeys.push(column.keys)\n                }\n            }\n        }\n\n        return searchKeys\n    }\n\n    private search(searchString: string, data?: StringIndexed<T> | Array<T>): StringIndexed<T> | Array<T> {\n        let result: StringIndexed<T> | Array<T> = {}\n        data = data || this.props.data\n\n        if (searchString && this.state.searchableKeys.length > 0) {\n            for (let a in data) {\n                //@ts-ignore\n                let record = data[a]\n                let searchableString = ''\n                for (let key of this.state.searchableKeys) {\n\n                    if (key instanceof Object) {\n                        for (let f in key) {\n                            for (let k of key[f]) {\n                                if (record[f] && record[f][k]) {\n                                    if (k.indexOf('phone') > -1) {\n                                        //@ts-ignore\n                                        searchableString += record[f][k].toString().replace(' ', '') + ' '\n                                    }\n                                    //@ts-ignore\n                                    searchableString += record[f][k].toString() + ' '\n                                }\n                            }\n                        }\n                    } else if (typeof key === 'string') {\n                        if (key.indexOf('phone') > -1) {\n                            //@ts-ignore\n                            searchableString += record[key].toString().replace(' ', '') + ' '\n                        }\n                        //@ts-ignore\n                        searchableString += record[key].toString() + ' '\n                    }\n                }\n\n                if (searchableString.toLowerCase().indexOf(searchString.toLowerCase()) > -1) {\n                    //@ts-ignore\n                    result[a] = record\n                }\n            }\n\n            return result\n        }\n\n        return data\n    }\n\n    private renderRows() {\n        let rows = []\n        let data = this.props.data\n        data = this.sort(this.state.sortKey, this.state.sortDirection, data)\n        data = this.search(this.props.searchString || '', data)\n\n        for (let id in data) {\n            //@ts-ignore\n            let dataEntry = data[id]\n            let row = []\n\n            for (let column of this.props.columns) {\n                if (column.content) {\n                    row.push(<td>{column.content || ''}</td>)\n                } else {\n                    let content: Array<string> = []\n                    if (column.keys instanceof Array) {\n                        content = column.keys.map((key) => {\n                            //@ts-ignore\n                            if (dataEntry[key] instanceof Date) {\n                                if (column.format) {\n                                    //@ts-ignore\n                                    return dataEntry[key][column.format]()\n                                } else {\n                                    //@ts-ignore\n                                    return dataEntry[key].toLocaleDateString()\n                                }\n                                //@ts-ignore\n                            } else if (typeof dataEntry[key] === 'boolean') {\n                                //@ts-ignore\n                                if (dataEntry[key]) {\n                                    return '✓'\n                                }\n                                return '⨯'\n                                //@ts-ignore\n                            } else if (dataEntry[key] instanceof Array) {\n                                //@ts-ignore\n                                return dataEntry[key].map((entry: any) => {\n                                    if (entry instanceof Date) {\n                                        if (column.format) {\n                                            //@ts-ignore\n                                            return entry[column.format]()\n                                        } else {\n                                            return entry.toLocaleDateString()\n                                        }\n                                    } else if (typeof entry === 'boolean') {\n                                        if (entry) {\n                                            return '✓'\n                                        }\n                                        return '⨯'\n                                    }\n\n                                    return entry\n                                })\n                            }\n\n                            //@ts-ignore\n                            return dataEntry[key]\n                        })\n                    } else {\n                        for (let k in column.keys) {\n                            content = content.concat(column.keys[k].map((key) => {\n                                //@ts-ignore\n                                if (dataEntry.hasOwnProperty(k) && dataEntry[k]) {\n                                    //@ts-ignore\n                                    if (dataEntry[k][key] instanceof Date) {\n                                        if (column.format) {\n                                            //@ts-ignore\n                                            return dataEntry[k][key][column.format]()\n                                        } else {\n                                            //@ts-ignore\n                                            return dataEntry[k][key].toLocaleDateString()\n                                        }\n                                        //@ts-ignore\n                                    } else if (typeof dataEntry[k][key] === 'boolean') {\n                                        //@ts-ignore\n                                        if (dataEntry[k][key]) {\n                                            return '✓'\n                                        }\n                                        return '⨯'\n                                    }\n                                    //@ts-ignore\n                                    return dataEntry[k][key]\n                                }\n                                return ''\n                            }))\n                        }\n                    }\n\n                    if (column.link) {\n                        row.push(<td className={column.className || ''} key={dataEntry.id + (content.join(' ') || Math.random().toString())}><a key={dataEntry.id + [...(content || [Math.random().toString()]), 'a'].join(' ')} href={((column.linkPrefix) ? column.linkPrefix : '') + content.join(' ')} target=\"_blank\">{((column.prefix) ? column.prefix : '') + content.join(' ') + ((column.suffix) ? column.suffix : '')}</a></td>)\n                    } else {\n                        row.push(<td className={column.className || ''} key={dataEntry.id + (content.join(' ') || Math.random().toString())}>{((column.prefix) ? column.prefix : '') + content.join(' ') + ((column.suffix) ? column.suffix : '')}</td>)\n                    }\n                }\n            }\n            rows.push(<tr key={dataEntry.id} data-key={dataEntry.id}>{row}</tr>)\n        }\n\n        return rows\n    }\n\n    public render() {\n        return (\n            <div className=\"table-responsive\">\n                <table className={`table table-striped ${this.props.className || ''}`} ref={this.ref}>\n                    <thead key=\"table-head\">\n                        <tr>\n                            {this.props.columns.map((column) => {\n                                let columnKey = ''\n                                if (column.keys instanceof Array) {\n                                    columnKey = column.keys.join('-')\n                                } else {\n                                    for (let k in column.keys) {\n                                        columnKey += '_' + k + '.' + column.keys[k].join('-')\n                                    }\n                                }\n                                let sortIndicator;\n                                if (columnKey === this.state.sortKey) {\n                                    if (this.state.sortDirection === 'asc') {\n                                        sortIndicator = <FontAwesomeIcon icon=\"sort-down\" className=\"float-right\" />\n                                    } else {\n                                        sortIndicator = <FontAwesomeIcon icon=\"sort-up\" className=\"float-right\" />\n                                    }\n                                }\n                                if (column.sortable) {\n                                    return <th key={columnKey} data-key={columnKey} scope=\"col\" onClick={this.sortClick} style={{ cursor: 'pointer' }}>{column.text}{sortIndicator}</th>\n                                }\n                                return <th key={columnKey} data-key={columnKey} scope=\"col\">{column.text}</th>\n                            })}\n                        </tr>\n                    </thead>\n                    <tbody key=\"table-body\">\n                        {this.renderRows()}\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport Table, { TableColumn } from \"../components/Table\";\nimport { History } from \"history\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Loading from \"./Loading\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\nimport Action from \"./Action\";\n\nexport interface DataListProps<T> {\n    data: DataInterface<T>,\n    fetchData: Function,\n    onSearch?: Function,\n    title: string,\n    viewLocation: string,\n    tableColumns: Array<TableColumn>\n    history: History\n    panelActions?: Array<any>\n    rowActions?: Array<any>,\n    pdfExport?: string,\n}\n\nexport interface DataListState {\n    searchString: string,\n    sort: {\n        keys: Array<string> | StringIndexed<string>,\n        direction: 'asc' | 'desc'\n    }\n}\n\nexport class DataList<T extends { id: string | number }> extends Component<DataListProps<T>, DataListState> {\n    constructor(props: DataListProps<T>) {\n        super(props)\n\n        if (!this.props.data.loading) {\n            setImmediate(() => { this.props.fetchData() })\n        }\n\n        this.elementView = this.elementView.bind(this)\n        this.textSearch = this.textSearch.bind(this)\n        this.onSort = this.onSort.bind(this)\n\n        this.state = {\n            searchString: '',\n            sort: {\n                keys: this.props.data.sort.keys,\n                direction: this.props.data.sort.direction\n            }\n        }\n    }\n\n    public elementView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + this.props.viewLocation + id)\n            } else {\n                this.props.history.push(this.props.viewLocation + id)\n            }\n        }\n    }\n\n    public shouldComponentUpdate(nextProps: DataListProps<T>, nextState: DataListState): boolean {\n        if (this.props !== nextProps) return true\n        if (this.state.searchString !== nextState.searchString) return true\n\n        // don't rerender on sort change, because this is just to keep track of the state below\n        return false\n    }\n\n    private onSort(event: React.MouseEvent<HTMLTableHeaderCellElement>, keys: Array<string> | StringIndexed<string>, direction: 'asc' | 'desc'): void {\n        this.setState({\n            sort: {\n                keys: keys,\n                direction: direction\n            }\n        })\n    }\n\n    private textSearch(event: React.ChangeEvent<HTMLInputElement>) {\n        if (this.props.onSearch) this.props.onSearch(event.target.value)\n        this.setState({\n            searchString: event.target.value\n        })\n    }\n\n    private renderTable() {\n        if (this.props.data.loading) {\n            return (\n                <Loading />\n            )\n        }\n\n        let dataById: StringIndexed<any> = {}\n        for (let id of this.props.data.ids) {\n            dataById['_' + id] = this.props.data.byId[id]\n        }\n\n        return (\n            <Table<T>\n                columns={this.props.tableColumns.concat([\n                    {\n                        text: 'Actions', keys: ['id'], content:\n                            <div className=\"btn-group\">\n                                <button className=\"btn btn-success view\" onMouseUp={this.elementView}><FontAwesomeIcon icon=\"eye\" /></button>\n                                {this.props.rowActions}\n                            </div>\n                    }\n                ])}\n                data={dataById}\n                defaultSort={this.state.sort}\n                searchString={this.state.searchString}\n                onSort={this.onSort}\n            />\n        )\n    }\n\n    public render() {\n        let actions = []\n        if (this.props.pdfExport) actions.push(<Action to={this.props.pdfExport} state={this.state} icon='file-pdf' />)\n        actions = actions.concat(this.props.panelActions || [])\n\n        return (\n            <Page title={this.props.title}>\n                <Row>\n                    <Column>\n                        <Panel\n                            actions={actions}\n                            title={\n                                <input id=\"search\" value={this.state.searchString} placeholder=\"Search...\" className=\"float-right form-control form-control-sm\" onChange={(event) => this.textSearch(event)} />\n                            }>\n                            {this.renderTable()}\n                        </Panel>\n                    </Column>\n                </Row>\n                {this.props.children}\n            </Page>\n        )\n    }\n}","import React, { Component } from \"react\";\n\nexport interface WizardStepProps {\n    title: string,\n    isActive?: boolean,\n    currentStep?: number,\n    totalSteps?: number,\n    fistStep?: () => void,\n    lastStep?: () => void,\n    nextStep?: () => void,\n    previousStep?: () => void,\n    gotoStep?: (step: number) => void,\n    onNextStep?: () => boolean,\n    onPreviousStep?: () => boolean,\n    validator?: () => boolean\n}\n\nexport default class WizardStep extends Component<WizardStepProps> {\n    constructor(props: WizardStepProps) {\n        super(props)\n        this.previousStep = this.previousStep.bind(this)\n        this.nextStep = this.nextStep.bind(this)\n        this.renderBackButton = this.renderBackButton.bind(this)\n    }\n\n    public nextStep() {\n        let valid = true\n        if (this.props.onNextStep) {\n            valid = this.props.onNextStep()\n        }\n\n        if (valid) {\n            if (this.props.nextStep) {\n                this.props.nextStep()\n            }\n        }\n    }\n\n    public previousStep() {\n        if (this.props.onPreviousStep) {\n            this.props.onPreviousStep()\n        }\n\n        if (this.props.previousStep) {\n            this.props.previousStep()\n        }\n    }\n\n    private renderBackButton() {\n        if ((this.props.currentStep || 0) > 1) return <button className=\"btn btn-secondary\" onClick={this.previousStep}>Zurück</button>\n        return <div></div>\n    }\n\n    public render() {\n        let nextButtonText = 'Weiter'\n        let nextButtonClasses = 'btn btn-primary'\n        if (this.props.currentStep === this.props.totalSteps) {\n            nextButtonText = 'Speichern'\n            nextButtonClasses = 'btn btn-success'\n        }\n\n        return (\n            <div>\n                <div className=\"wizard-step-header\">\n                    <h4>{this.props.title}</h4>\n                </div>\n                <div className=\"wizard-step-body\">\n                    {this.props.children}\n                </div>\n                <div className=\"d-flex justify-content-between wizard-step-footer\">\n                    {this.renderBackButton()}\n                    <button className={nextButtonClasses} onClick={this.nextStep}>{nextButtonText}</button>\n                </div>\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport Select from 'react-select'\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport { ValueType } from \"react-select/lib/types\";\nimport { connect } from 'react-redux';\nimport Contact from \"../entities/Contact\";\n\ninterface MemberSelectProps {\n    defaultValue?: Array<Contact>,\n    isMulti?: boolean\n    onChange: Function,\n    members: DataInterface<Contact>,\n    loading: boolean,\n    ref?: Function,\n    fetchMembers: Function\n}\n\nexport class _MemberSelect extends Component<MemberSelectProps, { value?: Array<{ label: string, value: string }> }> {\n    constructor(props: MemberSelectProps) {\n        super(props)\n\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let member of this.props.defaultValue) {\n                valueProps.push({\n                    value: member.id.toString(),\n                    label: member.firstname + ' ' + member.lastname\n                })\n            }\n\n            this.state = {\n                value: valueProps\n            }\n        } else {\n            this.state = {}\n        }\n    }\n\n    public componentWillReceiveProps(nextProps: MemberSelectProps) {\n        if (nextProps.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let member of nextProps.defaultValue) {\n                valueProps.push({\n                    value: member.id.toString(),\n                    label: member.firstname + ' ' + member.lastname\n                })\n            }\n\n            this.setState({\n                value: valueProps\n            })\n        }\n    }\n\n    public componentWillMount() {\n        if (this.props.members.ids.length < 1) {\n            this.props.fetchMembers()\n        }\n    }\n\n    private prepareOptions() {\n        let options = []\n        if (Object.keys(this.props.members.byId).length > 0) {\n            for (let i in this.props.members.byId) {\n                let member = this.props.members.byId[i]\n                options.push({\n                    label: member.firstname + ' ' + member.lastname,\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onChange(opt: ValueType<{ label: string, value: string }>) {\n        let ops: Array<{ label: string, value: string }> = [opt as { label: string, value: string }]\n        if (this.props.isMulti) {\n            ops = opt as Array<{ label: string, value: string }>\n        }\n\n        this.setState({\n            value: ops\n        })\n\n        let members = []\n        for (let o of ops) {\n            members.push(this.props.members.byId[o.value])\n        }\n\n        if (this.props.onChange) {\n            if (this.props.isMulti) {\n                this.props.onChange(members)\n            } else {\n                this.props.onChange(members[0])\n            }\n        }\n    }\n\n    private prepareValue() {\n        if (this.props.isMulti) {\n            return this.state.value || []\n        }\n\n        return (this.state.value || [])[0]\n    }\n\n    public render() {\n        if (!this.props.loading) {\n            return (<Select\n                ref={(select: any) => { if (this.props.ref) this.props.ref(select) }}\n                isClearable={true}\n                options={this.prepareOptions()}\n                backspaceRemovesValue={true}\n                hideSelectedOptions={true}\n                openMenuOnFocus={true}\n                isMulti={this.props.isMulti || false}\n                onChange={this.onChange.bind(this)}\n                value={this.prepareValue()}\n            />)\n        }\n\n        return null\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        members: state.data.members,\n        loading: state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        }\n    }\n}\n\n//@ts-ignore\nexport const MemberSelect = connect(mapStateToProps, mapDispatchToProps)(_MemberSelect)","import { Component } from \"react\";\nimport React from \"react\";\n\nexport default class Checkbox extends Component<{ id: string, checked: boolean, label: string, onChange: (event: React.ChangeEvent<HTMLInputElement>) => void }> {\n    public render() {\n        return (\n            <span className=\"switch switch-sm\">\n                <input id={this.props.id} type=\"checkbox\" className=\"switch\" checked={this.props.checked} onChange={this.props.onChange} />\n                <label htmlFor=\"food\">{this.props.label}</label>\n            </span>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport Table from \"../../components/Table\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport WizardStep from \"../../components/WizardStep\";\nimport { BillingReportCompensationEntry } from \"../../interfaces/BillingReport\";\nimport Contact from \"../../entities/Contact\";\nimport { MemberSelect } from \"../../components/MemberSelect\";\n\nexport interface Step2Props {\n    onNext: (data: StringIndexed<any>) => void,\n    onPrevious?: () => boolean\n}\n\nexport default class AddBillingReportStep2 extends Component<Step2Props, { tableEntries: StringIndexed<BillingReportCompensationEntry>, vks: Array<Contact>, from: string, until: string, charge: boolean }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: Step2Props) {\n        super(props)\n        this.onAdd = this.onAdd.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.removeTableItem = this.removeTableItem.bind(this)\n        this.validate = this.validate.bind(this)\n\n        this.state = {\n            tableEntries: {},\n            vks: [],\n            from: '',\n            until: '',\n            charge: true\n        }\n    }\n\n    private onAdd(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (this.formEl) {\n            let selection = this.state.tableEntries\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                valid = this.state.vks.length > 0\n            }\n\n            if (valid) {\n                let from = new Date(\"01/01/1970 \" + this.state.from)\n                let until = new Date(\"01/01/1970 \" + this.state.until)\n                let totalHours = (until.getTime() - from.getTime()) / 1000 / 60 / 60\n\n                if (totalHours < 0) totalHours = totalHours + 24\n\n                for (let i of this.state.vks) {\n                    selection[i.id] = {\n                        id: i.id,\n                        member: i,\n                        from: from,\n                        until: until,\n                        charge: this.state.charge,\n                        totalHours: totalHours\n                    }\n                }\n\n                this.setState({\n                    tableEntries: selection,\n                    vks: [],\n                    from: '',\n                    until: '',\n                    charge: true\n                })\n            }\n        }\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private onSelectChange(opt: Contact) {\n        if (opt) {\n            let optlet: Array<Contact> = (opt as any) as Array<Contact>\n            this.setState({\n                vks: optlet\n            })\n        }\n    }\n\n    private removeTableItem(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentElement.getAttribute('data-key')\n\n            if (id) {\n                let entries = this.state.tableEntries\n                delete entries[id]\n                this.setState({\n                    tableEntries: entries\n                })\n            }\n        }\n    }\n\n    private validate(): boolean {\n        if (Object.keys(this.state.tableEntries).length > 0) {\n            this.props.onNext({\n                vks: this.state.tableEntries\n            })\n\n            return true\n        }\n\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Einsatzzeiten\" onNextStep={this.validate} onPreviousStep={this.props.onPrevious || function () { return true }} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form}>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <h5>VKs</h5>\n                            <MemberSelect\n                                onChange={this.onSelectChange}\n                                isMulti={true}\n                                defaultValue={this.state.vks}\n                            />\n                        </div>\n                        <div className=\"col-2\">\n                            <h5>Verrechnen</h5>\n                            <span className=\"switch switch-sm\">\n                                <input type=\"checkbox\" className=\"switch\" id=\"charge\" name=\"charge\" checked={this.state.charge} onChange={this.onInputChange} />\n                                <label htmlFor=\"charge\"></label>\n                            </span>\n                        </div>\n                    </div>\n                    <br></br>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <h5>Von</h5>\n                            <input type=\"time\" name=\"from\" value={this.state.from} onChange={this.onInputChange} className='form-control' required={true} />\n                        </div>\n                        <div className=\"col\">\n                            <h5>Bis</h5>\n                            <input type=\"time\" name=\"until\" value={this.state.until} onChange={this.onInputChange} className='form-control' required={true} />\n                        </div>\n                    </div>\n                    <br></br>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <button className=\"btn btn-primary btn-block\" onClick={this.onAdd}>Hinzufügen</button>\n                        </div>\n                    </div>\n                </form>\n                <br></br>\n                <div className=\"row\">\n                    <Table<BillingReportCompensationEntry>\n                        columns={[\n                            { text: 'VK', keys: { 'member': ['firstname', 'lastname'] }, sortable: true },\n                            { text: 'Von', keys: ['from'], format: 'toLocaleTimeString', sortable: true },\n                            { text: 'Bis', keys: ['until'], format: 'toLocaleTimeString', sortable: true },\n                            { text: 'Anzahl Stunden', keys: ['totalHours'], sortable: true },\n                            { text: 'Verrechnet', keys: ['charge'], sortable: true },\n                            { text: 'Actions', keys: { 'member': ['id'] }, content: <button className=\"btn btn-danger\" onClick={this.removeTableItem}>⨯</button> }\n                        ]}\n                        defaultSort={{ keys: ['from'], direction: 'asc' }}\n                        data={this.state.tableEntries}\n                    />\n                </div>\n            </WizardStep >\n        )\n    }\n}","import { UIActions } from \"./UIActions\";\nimport { CreateBillingReport, EditBillingReport, BillingReportCompensationEntry } from \"./../interfaces/BillingReport\";\nimport { Dispatch, AnyAction } from \"redux\";\nimport { ThunkAction, ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport axios, { AxiosError, AxiosResponse } from 'axios'\nimport { CompensationEntry } from \"../interfaces/CompensationEntry\";\nimport Config from '../Config'\nimport { PutCollectionPoints } from \"../interfaces/CollectionPoints\";\nimport { EditMember } from \"../interfaces/Member\";\n\nexport const DataActions = {\n    FETCH_USER: 'fetch_user',\n    GOT_USER: 'got_user',\n\n    FETCH_MEMBERS: 'fetch_members',\n    GOT_MEMBERS: 'got_members',\n    EDIT_MEMBER: 'edit_member',\n\n    FETCH_RANKS: 'fetch_ranks',\n    GOT_RANKS: 'got_ranks',\n\n    FETCH_CONTACTS: 'fetch_contacts',\n    GOT_CONTACTS: 'got_contacts',\n\n    FETCH_ORDERS: 'fetch_orders',\n    GOT_ORDERS: 'got_orders',\n\n    FETCH_OPEN_ORDERS: 'fetch_open_orders',\n    GOT_OPEN_ORDERS: 'got_open_orders',\n\n    FETCH_BILLING_REPORTS: 'fetch_billing_reports',\n    GOT_BILLING_REPORTS: 'got_billing_reports',\n    ADD_BILLING_REPORT: 'add_billing_report',\n    APPROVE_BILLING_REPORT: 'approve_billing_report',\n    DECLINE_BILLING_REPORT: 'decline_billing_report',\n    EDIT_BILLING_REPORT: 'edit_billing_report',\n\n    FETCH_COMPENSATION_ENTRIES: 'fetch_compensation_entries',\n    GOT_COMPENSATION_ENTRIES: 'got_compensation_entries',\n    ADD_COMPENSATION_ENTRIES: 'add_compensation_entries',\n    ADD_COMPENSATION_ENTRY: 'add_compensation_entry',\n    APPROVE_COMPENSATION_ENTRY: 'approve_compensation_entry',\n    DECLINE_COMPENSATION_ENTRY: 'dcline_compensation_entry',\n\n    FETCH_USERS: 'fetch_users',\n    GOT_USERS: 'got_users',\n\n    FETCH_COLLECTION_POINTS: 'fetch_collection_points',\n    GOT_COLLECTION_POINTS: 'got_collection_points',\n    ADD_COLLECTION_POINT: 'add_collection_point'\n}\n\nexport class Data {\n    public static fetchUser(filter: Object = {}): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/me', DataActions.FETCH_USER, DataActions.GOT_USER)\n    }\n\n    public static fetchContacts(filter: Object = {}): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/contacts', DataActions.FETCH_CONTACTS, DataActions.GOT_CONTACTS)\n    }\n\n    public static fetchMembers(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/members', DataActions.FETCH_MEMBERS, DataActions.GOT_MEMBERS)\n    }\n\n    public static editMember(data: EditMember): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.EDIT_MEMBER\n            })\n\n            Data.sendToApi('post', Config.apiEndpoint + '/api/members', data, dispatch, () => {\n                dispatch(Data.fetchMembers())\n            })\n        }\n    }\n\n    public static fetchRanks(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/ranks', DataActions.FETCH_RANKS, DataActions.GOT_RANKS)\n    }\n\n    public static fetchOrders(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/orders', DataActions.FETCH_ORDERS, DataActions.GOT_ORDERS)\n    }\n\n    public static fetchOpenOrders(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/billing-reports/open', DataActions.FETCH_OPEN_ORDERS, DataActions.GOT_OPEN_ORDERS)\n    }\n\n    public static fetchBillingReports(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/billing-reports', DataActions.FETCH_BILLING_REPORTS, DataActions.GOT_BILLING_REPORTS)\n    }\n\n    public static addBillingReport(data: CreateBillingReport): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: DataActions.ADD_BILLING_REPORT\n                })\n\n                axios.put(Config.apiEndpoint + '/api/billing-reports', data, { withCredentials: true }).then((response) => {\n                    dispatch({\n                        type: UIActions.NOTIFICATION_SUCCESS,\n                        payload: 'Gespeichert!'\n                    })\n                    dispatch(this.fetchBillingReports())\n                }).catch((error) => {\n                    dispatch({\n                        type: UIActions.NOTIFICATION_ERROR,\n                        payload: 'Ooopss....! Versuche es später erneut'\n                    })\n                })\n            })\n        }\n    }\n\n    public static approveBillingReport(id: string): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.APPROVE_BILLING_REPORT,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/billing-reports/approve', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static declineBillingReport(id: string): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.DECLINE_BILLING_REPORT,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/billing-reports/decline', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static editBillingReport(data: EditBillingReport): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.EDIT_BILLING_REPORT\n            })\n\n            Data.sendToApi('post', Config.apiEndpoint + '/api/billing-reports', data, dispatch, () => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static fetchCompensationEntries(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/compensations', DataActions.FETCH_COMPENSATION_ENTRIES, DataActions.GOT_COMPENSATION_ENTRIES)\n    }\n\n    public static addCompensationEntriesForBillingReport(data: { billingReportId: number, entries: Array<BillingReportCompensationEntry> }): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.ADD_COMPENSATION_ENTRIES\n            })\n\n            return Data.sendToApi('put', Config.apiEndpoint + '/api/compensations/bulk', data, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n\n                dispatch({\n                    type: UIActions.NOTIFICATION_SUCCESS,\n                    payload: 'Gespeichert!'\n                })\n            })\n        }\n    }\n\n    public static addCompensationEntry(data: CompensationEntry): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.ADD_COMPENSATION_ENTRY\n            })\n\n            return Data.sendToApi('put', Config.apiEndpoint + '/api/compensations', data, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n            })\n        }\n    }\n\n    public static approveCompensationEntry(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.APPROVE_COMPENSATION_ENTRY,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/compensations/approve', { 'id': id }, dispatch, () => {\n                dispatch({\n                    type: UIActions.NOTIFICATION_SUCCESS,\n                    payload: 'Genehmigt!'\n                })\n\n                dispatch(Data.fetchCompensationEntries())\n            })\n        }\n    }\n\n    public static deleteCompensationEntry(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.APPROVE_COMPENSATION_ENTRY,\n                payload: id\n            })\n\n            return Data.sendToApi('delete', Config.apiEndpoint + '/api/compensations', { 'id': id }, dispatch, () => {\n                dispatch({\n                    type: UIActions.NOTIFICATION_SUCCESS,\n                    payload: 'Gelöscht!'\n                })\n\n                dispatch(Data.fetchCompensationEntries())\n            })\n        }\n    }\n\n    public static fetchUsers(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/users', DataActions.FETCH_USERS, DataActions.GOT_USERS)\n    }\n\n    public static fetchCollectionPoints(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/collection-points', DataActions.FETCH_COLLECTION_POINTS, DataActions.GOT_COLLECTION_POINTS)\n    }\n\n    public static addCollectionPoint(data: PutCollectionPoints): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: DataActions.ADD_COLLECTION_POINT\n                })\n\n                axios.put(Config.apiEndpoint + '/api/collection-points', data, { withCredentials: true }).then((response) => {\n                    dispatch({\n                        type: UIActions.NOTIFICATION_SUCCESS,\n                        payload: 'Gespeichert!'\n                    })\n                    dispatch(this.fetchCollectionPoints())\n                }).catch((error) => {\n                    dispatch({\n                        type: UIActions.NOTIFICATION_ERROR,\n                        payload: 'Ooopss....! Versuche es später erneut'\n                    })\n                })\n            })\n        }\n    }\n\n    private static fetchFromApi(route: string, fetchAction: string, gotAction: string): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: Dispatch) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: fetchAction\n                })\n\n                axios.get(route, { withCredentials: true }).then(response => {\n                    let data = Data.deepParser(response.data)\n\n                    resolve(dispatch({\n                        type: gotAction,\n                        payload: data\n                    }))\n                }).catch((error: AxiosError) => {\n                    console.log(error)\n                    if (error.response && (error.response as AxiosResponse).status === 401) {\n                        dispatch({\n                            type: UIActions.NOTIFICATION_ERROR,\n                            payload: 'Permission denied!'\n                        })\n                    } else {\n                        dispatch({\n                            type: UIActions.NOTIFICATION_ERROR,\n                            payload: 'Ooopss....! Versuche es später erneut'\n                        })\n                    }\n\n                    resolve(dispatch({\n                        type: gotAction,\n                        payload: {}\n                    }))\n                })\n            })\n\n        }\n    }\n\n    private static sendToApi(method: 'post' | 'put' | 'delete', route: string, data: any, dispatch: Dispatch, callback: () => void): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            axios({\n                method: method,\n                url: route,\n                data: data,\n                withCredentials: true\n            }).then(response => {\n                let data = Data.deepParser(response.data)\n\n                callback()\n                resolve()\n            }).catch((error: AxiosError) => {\n                console.log(error)\n                if (error.response && (error.response as AxiosResponse).status === 401) {\n                    dispatch({\n                        type: UIActions.NOTIFICATION_ERROR,\n                        payload: 'Permission denied!'\n                    })\n                } else {\n                    dispatch({\n                        type: UIActions.NOTIFICATION_ERROR,\n                        payload: 'Ooopss....! Versuche es später erneut'\n                    })\n                }\n            })\n        })\n    }\n\n    public static deepParser(data: any) {\n        if (data instanceof Array || typeof data === 'object') {\n            for (let i in data) {\n                data[i] = Data.deepParser(data[i])\n            }\n            return data\n        } else {\n            let dateRegex = /([0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T(2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9].[0-9][0-9][0-9]Z|[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]))/\n            if (dateRegex.test(data)) {\n                return new Date(data)\n            } else {\n                return data\n            }\n        }\n    }\n}"],"sourceRoot":""}