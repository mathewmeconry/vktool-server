{"version":3,"sources":["interfaces/AuthRoles.ts","components/Column.tsx","components/Panel.tsx","actions/UIActions.ts","views/AddBillingReport.tsx","components/WizardNav.tsx","views/AddBillingReportSteps/AddBillingReportStep1.tsx","views/AddBillingReportSteps/AddBillingReportStep3.tsx","views/AddBillingReportSteps/AddBillingReportStep4.tsx","components/Swipe.tsx","components/Header.tsx","components/NavibarElement.tsx","components/NavibarLevelHeader.tsx","components/Navibar.tsx","components/Page.tsx","Config.ts","components/Row.tsx","components/Button.tsx","components/Loading.tsx","components/Table.tsx","components/DataList.tsx","fontawesome_init.ts","reducers/UIReducer.ts","reducers/DataReducer.ts","reducers/IndexReducer.ts","components/Errors/403.tsx","components/SecureRoute.tsx","components/ContactCompensation.tsx","views/Dashboard.tsx","components/Action.tsx","views/Members.tsx","components/FormEntry.tsx","entities/Base.ts","entities/CollectionPoint.ts","components/CollectionPointSelect.tsx","views/Contact.tsx","views/Orders.tsx","views/Order.tsx","views/BillingReports.tsx","components/Modal.tsx","views/Compensations.tsx","views/Login.tsx","views/Users.tsx","views/User.tsx","components/OrderSelect.tsx","views/BillingReport.tsx","views/AddCompensation.tsx","entities/Compensation.ts","components/Errors/404.tsx","views/Compensation.tsx","views/MailingLists.tsx","views/CollectionPoints.tsx","views/AddCollectionPoint.tsx","views/Payouts.tsx","views/Payout.tsx","views/PayoutMember.tsx","views/AddPayout.tsx","Root.tsx","Store.ts","serviceWorker.js","index.tsx","components/WizardStep.tsx","components/MemberSelect.tsx","components/Checkbox.tsx","views/AddBillingReportSteps/AddBillingReportStep2.tsx","actions/DataActions.ts"],"names":["AuthRoles","__webpack_require__","d","__webpack_exports__","Column","props","_this","Object","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","className","indexOf","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","children","Component","Panel","header","actions","title","map","el","length","concat","scrollable","UIActions","NAVIBAR_TOGGLE","NAVIBAR_OPEN","NAVIBAR_CLOSE","NAVIBAR_LEVEL_OPEN","NAVIBAR_LEVEL_COLLAPSE","NOTIFICATION_SUCCESS","NOTIFICATION_ERROR","LOGOUT","UI","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","key","value","type","id","payload","message","_ref","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","dispatch","wrap","_context","prev","next","push","abrupt","stop","_x","apply","arguments","_AddBillingReport","_Component","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","onNext","bind","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","save","setImmediate","fetchOpenOrders","fetchMembers","state","els","drivers","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__","data","i","setState","_save","compensationEntries","vks","member","orderId","order","date","food","remarks","creatorId","user","history","loading","react__WEBPACK_IMPORTED_MODULE_9___default","_components_Page__WEBPACK_IMPORTED_MODULE_10__","_components_Loading__WEBPACK_IMPORTED_MODULE_21__","_components_Row__WEBPACK_IMPORTED_MODULE_11__","_components_Column__WEBPACK_IMPORTED_MODULE_12__","_components_Panel__WEBPACK_IMPORTED_MODULE_13__","react_step_wizard__WEBPACK_IMPORTED_MODULE_8___default","nav","_components_WizardNav__WEBPACK_IMPORTED_MODULE_16__","_AddBillingReportSteps_AddBillingReportStep1__WEBPACK_IMPORTED_MODULE_17__","openOrders","_AddBillingReportSteps_AddBillingReportStep2__WEBPACK_IMPORTED_MODULE_18__","_AddBillingReportSteps_AddBillingReportStep3__WEBPACK_IMPORTED_MODULE_19__","_AddBillingReportSteps_AddBillingReportStep4__WEBPACK_IMPORTED_MODULE_20__","firstname","lastname","driver","AddBillingReport","connect","members","ids","keys","Data","addBillingReport","WizardNav","steps","totalSteps","classes","currentStep","renderSteps","AddBillingReportStep1","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","onInputChange","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","validate","options","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","done","byId","contact","documentNr","err","return","event","target","name","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","formEl","valid","checkValidity","parseInt","Date","_this2","_components_WizardStep__WEBPACK_IMPORTED_MODULE_10__","assign","onNextStep","ref","form","onChange","required","renderOptions","AddBillingReportStep3","onELChange","onSelectChange","onDriversChange","checked","stateName","opt","elSelect","_this3","_components_MemberSelect__WEBPACK_IMPORTED_MODULE_12__","select","isMulti","driversSelect","_components_Checkbox__WEBPACK_IMPORTED_MODULE_11__","label","AddBillingReportStep4","_components_WizardStep__WEBPACK_IMPORTED_MODULE_6__","toLocaleDateString","_components_Table__WEBPACK_IMPORTED_MODULE_7__","columns","text","format","defaultSort","direction","join","htmlFor","Swipe","classCallCheck","possibleConstructorReturn","getPrototypeOf","scrolling","minThreshold","maxThreshold","minDurationThreshold","maxDurationThreshold","onStart","assertThisInitialized","onMove","onEnd","onScroll","capturing","start","x","y","clientX","mouseMove","touches","clientY","startTime","current","end","fireRunningEvents","calculateDirection","changedTouches","endTime","fireFinishEvents","getTime","scrollTimeout","clearTimeout","setTimeout","Math","abs","duration","swipedUp","swipedRight","swipedDown","swipedLeft","swipingUp","swipingRight","swipingDown","swipingLeft","react_default","onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onMouseMove","onMouseUp","_Header","inherits","createClass","open","displayName","onClick","index_es","icon","Header","ui","navibar_open","toggleNavibar","_NavibarElement","level","onClose","CurrentDevice","mobile","to","content","match","href","NavLink","exact","activeClassName","leftIcon","rightIcon","renderLinkElement","NavibarElement","withRouter","collapseNavibarLevel","_NavibarLevelHeader","open_level","onOpen","openClass","toString","Children","child","cloneElement","NavibarLevelHeader","navibar_level","openNavibarLevel","_Navibar","element","roles","role","includes","ADMIN","renderElement","AUTHENTICATED","MEMBERS_READ","DRAFT_READ","DRAFT_CREATE","ORDERS_READ","BILLINGREPORTS_CREATE","BILLINGREPORTS_READ","COMPENSATIONS_CREATE","COMPENSATIONS_READ","PAYOUTS_READ","Config","apiEndpoint","Navibar","pure","_Page","openNavibar","closeNavibar","Swipe_Swipe","Page","window","location","protocol","host","isMode","mode","process","toLowerCase","Row","Button","react__WEBPACK_IMPORTED_MODULE_8___default","react_bootstrap__WEBPACK_IMPORTED_MODULE_9__","viewBox","fill-opacity","attributeName","from","dur","repeatCount","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__","Loading","fullscreen","Table","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","sortClick","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","search","sortKey","sortDirection","searchableKeys","genSearchKeys","prevProps","table","genSortKeys","prepared","sortValues","Array","b","replace","sort","aValue","bValue","parseFloat","isNaN","sorted","_i","_prepared","split","finalKeys","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","dataKey","dataset","parentElement","onSort","searchKeys","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","column","searchable","searchString","result","record","searchableString","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","f","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","k","hasOwnProperty","rows","_loop","dataEntry","row","checkable","react__WEBPACK_IMPORTED_MODULE_7___default","style","width","_components_Checkbox__WEBPACK_IMPORTED_MODULE_9__","onCheck","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_loop2","tdKey","param","command","entry","_loop3","link","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","random","linkPrefix","prefix","suffix","_iterator6","trKey","data-key","sortIndicator","columnKey","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__","sortable","scope","cursor","renderRows","DataList","fetchData","elementView","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","textSearch","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","currentTarget","parentNode","getAttribute","button","document","origin","viewLocation","nextProps","nextState","onSearch","react__WEBPACK_IMPORTED_MODULE_6___default","_Loading__WEBPACK_IMPORTED_MODULE_13__","dataById","_components_Table__WEBPACK_IMPORTED_MODULE_11__","tableColumns","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_12__","rowActions","_components_Page__WEBPACK_IMPORTED_MODULE_7__","_components_Row__WEBPACK_IMPORTED_MODULE_8__","_components_Column__WEBPACK_IMPORTED_MODULE_9__","_components_Panel__WEBPACK_IMPORTED_MODULE_10__","panelActions","placeholder","renderTable","library","add","fab","faCheckCircle","faFileInvoiceDollar","faFileWord","faFilePdf","faExternalLinkAlt","faFileExcel","faPowerOff","faTrash","faSave","faAddressBook","faMapMarkerAlt","faDownload","faClipboard","faBars","faTachometerAlt","faUsers","faCircleNotch","faTimes","faCheck","faSortUp","faSortDown","faPencilAlt","faFileAlt","faEye","faFileSignature","faPlus","faList","faDollarSign","faUser","faAngleDown","faAngleUp","faMailBulk","combineReducers","action","notification","toast","success","autoClose","position","error","IndexReducer","UIReducer","payouts","DataActions","FETCH_PAYOUTS","GOT_PAYOUTS","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","byMember","compensations","compensation","billingReport","description","compensationsByMember","totalWithoutMinus","total","comp","amount","reduce","_iterator11","collectionPoints","FETCH_COLLECTION_POINTS","GOT_COLLECTION_POINTS","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","FETCH_USER","GOT_USER","users","FETCH_USERS","GOT_USERS","contacts","FETCH_CONTACTS","GOT_CONTACTS","FETCH_MEMBERS","GOT_MEMBERS","ranks","FETCH_RANKS","GOT_RANKS","rank","orders","FETCH_ORDERS","GOT_ORDERS","FETCH_OPEN_ORDERS","GOT_OPEN_ORDERS","billingReports","FETCH_BILLING_REPORTS","GOT_BILLING_REPORTS","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","report","APPROVE_BILLING_REPORT","status","FETCH_COMPENSATION_ENTRIES","GOT_COMPENSATION_ENTRIES","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","APPROVE_COMPENSATION_ENTRY","mailingLists","all","squad","vst","con","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","mail","mailSecond","moreMails","contactGroups","find","group","bexioId","Error403","_SecureRoute","Route","path","component","showError","Redirect","pathname","prevLocation","SecureRoute","_ContactCompensation","compensationView","openCompensationsSum","forEach","approved","getContactCompensations","filter","paied","variant","react_fontawesome_index_es","bexioContact","toFixed","ContactCompensation","fetchCompensationEntries","_Dashboard","fetchUser","shortcuts","Link","renderShortcuts","renderCompensations","Dashboard","Action","preventDefault","components_Button","_Members","excelExport","_excelExport","asyncToGenerator","regenerator_default","membersAsArray","germanizedMember","sheet","book","Nachname","Vorname","Rang","Funktionen","functions","Geburtstag","birthday","Adresse","address","postcode","city","Abholpunkt","E-Mail","E-Mail 2","Festnetz","phoneFixed","Mobile","phoneMobile","collectionPoint","Xlsx","utils","json_to_sheet","book_new","book_append_sheet","writeFile","Action_Action","memberlistPdf","Members","_memberlistPdf","_callee2","_context2","FormEntry","editable","Checkbox","readOnly","getFullYear","getMonth","slice","getDate","renderChildren","Base","CollectionPoint","_CollectionPointSelect","defaultValue","valueProps","JSON","stringify","fetchCollectionPoints","ops","o","react_select_esm","isClearable","prepareOptions","backspaceRemovesValue","hideSelectedOptions","openMenuOnFocus","prepareValue","CollectionPointSelect","_Contact","groups","loadContacts","onSave","onAbort","renderCollectionPoint","renderPanelActions","onMoreMailsChange","entryDate","exitDate","bankName","iban","accountHolder","defineProperty","index","toConsumableArray","editMember","collectionPointId","opts","multi","MEMBERS_EDIT","CONTACTS_EDIT","_callee3","_context3","isAdmin","CONTACTS_READ","_this4","params","_403_Error403","FormEntry_FormEntry","phoneFixedSecond","removeMoreMailEntry","Fragment","renderActions","Contact","fetchContacts","Orders","fetchOrders","_Order","loadOrders","positionsRendered","positions","pos","dangerouslySetInnerHTML","__html","positionTotal","execDates","deliveryAddress","renderPositions","Order","BillingReports","creator","fetchBillingReports","Modal","handleClose","onHide","esm_Modal","show","dialogClassName","closeButton","Body","body","Footer","footer","_Compensations","deleteCompensation","deleteCompensationConfirmed","showModal","hideModal","modalShow","toDeleteCompensation","delete","Modal_Modal","ButtonGroup","renderModal","Compensations","deleteCompensationEntry","_Login","mounted","loaded","_componentDidMount","_componentWillUnmount","showSuccess","errorShown","Login","Users","fetchUsers","_User","renderRolePart","renderBexioPart","User","_OrderSelect","OrderSelect","_BillingReport","approve","decline","onInformationEdit","onInformationSave","getCompensationActions","addCompensations","informationEdit","_onInformationEdit","_onAbort","_x2","_onInformationSave","edit","_x3","dateValue","_elementView","_callee4","_id","_context4","_x4","_deleteCompensation","_callee5","_id2","_context5","_x5","_deleteCompensationConfirmed","_callee6","_context6","_addCompensations","_callee7","_context7","addCompensationEntries","billingReportId","entries","_x6","_showModal","_callee8","_context8","_hideModal","_callee9","_context9","BILLINGREPORTS_APPROVE","block","MemberSelect","statusBadgeClass","BILLINGREPORTS_EDIT","renderOrder","toISOString","renderEls","renderDrivers","AddBillingReportStep2","onPrevious","renderCompensationDeletionModal","renderCompensationsAddModal","renderInformations","prepareCompensationsForTable","BillingReport","approveBillingReport","declineBillingReport","editBillingReport","_deleteCompensation2","_callee10","_context10","then","_x7","addCompensationEntriesForBillingReport","_AddCompensation","_onSave","prepareMembers","step","AddCompensation","addCompensationEntry","Compensation","payout","Error404","src","_Compensation","renderBillingReport","fetchCompensations","react","CompensationEntity","isOrderBased","toLocaleTimeString","until","charge","compensationIds","_404_Error404","isCustom","bexioBill","transferCompensation","approveCompensationEntry","_MailingLists","navigator","permissions","query","clipboard","writeText","catch","console","copy","log","addCopy","MailingLists","CollectionPoints","_AddCollectionPoint","minLength","maxLength","AddCollectionPoint","addCollectionPoint","Payouts","fetchPayouts","_Payout","showMailModal","showBexioModal","sendMails","sendToBexio","reclaim","transfer","modalType","selected","_showMailModal","_showBexioModal","_sendMails","_sendToBexio","_reclaim","_transfer","newId","records","getBankingXml","Payout","downloader","blob","filename","url","URL","createObjectURL","download","appendChild","click","removeChild","payoutId","memberIds","sendPayoutMails","reclaimPayout","_getBankingXml","sendToApi","sent","Blob","_PayoutMember","memberPdf","PayoutMember","memberId","revokeObjectURL","_memberPdf","responseType","_AddPayout","AddPayout","addPayout","Root","loadConfig","createBrowserHistory","basename","store","createStore","objectSpread","router","connectRouter","composeWithDevTools","applyMiddleware","thunkMiddleware","routerMiddleware","getState","es","lib","hideProgressBar","newestOnTop","closeOnClick","rtl","draggable","pauseOnHover","esm","Switch","MAILING_LISTS","DRAFT_EDIT","PAYOUTS_CREATE","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","Root_Root","getElementById","addEventListener","fetch","response","contentType","headers","get","ready","unregister","reload","checkValidServiceWorker","WizardStep","previousStep","nextStep","renderBackButton","onPreviousStep","_Button__WEBPACK_IMPORTED_MODULE_9__","nextButtonText","nextButtonClasses","_MemberSelect","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","react_select__WEBPACK_IMPORTED_MODULE_7__","onAdd","removeTableItem","tableEntries","selection","totalHours","round","optlet","_components_WizardStep__WEBPACK_IMPORTED_MODULE_11__","_components_Table__WEBPACK_IMPORTED_MODULE_10__","EDIT_MEMBER","ADD_BILLING_REPORT","DECLINE_BILLING_REPORT","EDIT_BILLING_REPORT","ADD_COMPENSATION_ENTRIES","ADD_COMPENSATION_ENTRY","DECLINE_COMPENSATION_ENTRY","ADD_COLLECTION_POINT","ADD_PAYOUT","SENDING_PAYOUTS_MAILS","SENT_PAYOUTS_MAILS","SENDING_PAYOUTS_BEXIO","SENT_PAYOUTS_BEXIO","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__","fetchFromApi","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_x8","_ref9","_x9","_ref10","Promise","resolve","reject","_x10","_ref11","_callee11","_context11","_x11","_ref12","_callee12","_context12","_x12","_ref13","_callee13","_context13","_x13","_ref14","_callee14","_context14","_x14","route","fetchAction","gotAction","_ref15","_callee15","_context15","getFromApi","_x15","_getFromApi","_callee16","_context16","axios","withCredentials","deepParser","t0","logout","_x16","_x17","method","callback","axiosSettings","deepParse","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","timeout","test"],"mappings":"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","file":"static/js/main.231afafc.chunk.js","sourcesContent":["export enum AuthRoles {\n    AUTHENTICATED = 'authenticated',\n\n    CONTACTS_READ = 'contacts_read',\n    CONTACTS_EDIT = 'contacts_edit',\n\n    MEMBERS_READ = 'members_read',\n    MEMBERS_EDIT = 'members_edit',\n\n    MAILING_LISTS = 'mailing_lists',\n\n    RANKS_READ = 'ranks_read',\n    RANKS_EDIT = 'ranks_edit',\n\n    ORDERS_READ = 'orders_read',\n    ORDERS_EDIT = 'orders_edit',\n\n    COMPENSATIONS_READ = 'compensations_read',\n    COMPENSATIONS_CREATE = 'compensations_create',\n    COMPENSATIONS_EDIT = 'compensations_edit',\n    COMPENSATIONS_APPROVE = 'compensations_approve',\n\n    BILLINGREPORTS_READ = 'billingreports_read',\n    BILLINGREPORTS_CREATE = 'billingreports_create',\n    BILLINGREPORTS_EDIT = 'billingreports_edit',\n    BILLINGREPORTS_APPROVE = 'billingrepors_approve',\n\n    DRAFT_READ = 'draft_read',\n    DRAFT_CREATE = 'draft_create',\n    DRAFT_EDIT = 'draft_edit',\n\n    PAYOUTS_READ = 'payouts_read',\n    PAYOUTS_CREATE = 'payouts_create',\n    PAYOUTS_SEND = 'payouts_send',\n\n    ADMIN = 'admin'\n}","import React, { Component } from \"react\";\n\nexport default class Column extends Component<{ className?: string }> {\n    private className = 'col'\n\n    constructor(props: { className?: string }) {\n        super(props)\n\n        if (this.props.className && this.props.className.indexOf('col') > -1) {\n            this.className = this.props.className\n        } else if (this.props.className) {\n            this.className += ' ' + this.props.className\n        }\n    }\n\n    public render() {\n        return (\n            <div className={this.className}>\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\n\nexport default class Panel extends Component<{ title?: string | React.ReactNode, actions?: Array<any>, className?: string, scrollable?: boolean }> {\n    public render() {\n        let header;\n        let actions = this.props.actions || []\n\n        if (this.props.title) {\n            header = <div className=\"panel-header\"><span className=\"panel-title\">{this.props.title}</span>\n                <div className=\"panel-actions\">\n                    {actions.map(el => el)}\n                </div>\n            </div>\n        } else if (this.props.actions && this.props.actions.length > 0) {\n            header = <div className=\"panel-header\">\n                <div className=\"panel-actions\">\n                    {actions.map(el => el)}\n                </div>\n            </div>\n        }\n\n        return (\n            <div className={\"panel \" + (this.props.className || '')}>\n                {header}\n                <div className={`panel-body ${(this.props.scrollable) ? 'panel-body-scrollable' : ''}`}>\n                    {this.props.children}\n                </div>\n            </div>\n        )\n    }\n}","import { ThunkAction } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction, Dispatch } from \"redux\";\nimport { push } from \"connected-react-router\";\n\nexport const UIActions = {\n    NAVIBAR_TOGGLE: 'navibar_toggle',\n    NAVIBAR_OPEN: 'navibar_open',\n    NAVIBAR_CLOSE: 'navibar_close',\n    NAVIBAR_LEVEL_OPEN: 'navibar_level_open',\n    NAVIBAR_LEVEL_COLLAPSE: 'navibar_level_collapse',\n\n    NOTIFICATION_SUCCESS: 'notification_success',\n    NOTIFICATION_ERROR: 'notification_error',\n\n    LOGOUT: 'logout'\n}\n\nexport class UI {\n    public static toggleNavibar() {\n        return {\n            type: UIActions.NAVIBAR_TOGGLE\n        }\n    }\n\n    public static openNavibar() {\n        return {\n            type: UIActions.NAVIBAR_OPEN\n        }\n    }\n\n    public static closeNavibar() {\n        return {\n            type: UIActions.NAVIBAR_CLOSE\n        }\n    }\n\n    public static openNavibarLevel(id: string) {\n        return {\n            type: UIActions.NAVIBAR_LEVEL_OPEN,\n            payload: id\n        }\n    }\n\n    public static collapseNavibarLevel() {\n        return {\n            type: UIActions.NAVIBAR_LEVEL_COLLAPSE\n        }\n    }\n\n    public static showError(message: string) {\n        return {\n            type: UIActions.NOTIFICATION_ERROR,\n            payload: message\n        }\n    }\n\n    public static showSuccess(message: string) {\n        return {\n            type: UIActions.NOTIFICATION_SUCCESS,\n            payload: message\n        }\n    }\n\n    public static logout(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: Dispatch) => {\n            dispatch(push('/login'))\n            return { type: UIActions.LOGOUT }\n        }\n    }\n}","//@ts-ignore\nimport StepWizard from 'react-step-wizard';\nimport React, { Component } from 'react';\nimport { Page } from '../components/Page';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { Data } from '../actions/DataActions';\nimport { connect } from 'react-redux';\nimport { DataInterface } from '../reducers/DataReducer';\nimport WizardNav from '../components/WizardNav';\nimport AddBillingReportStep1 from './AddBillingReportSteps/AddBillingReportStep1';\nimport AddBillingReportStep2 from './AddBillingReportSteps/AddBillingReportStep2';\nimport AddBillingReportStep3 from './AddBillingReportSteps/AddBillingReportStep3';\nimport AddBillingReportStep4 from './AddBillingReportSteps/AddBillingReportStep4';\nimport StringIndexed from '../interfaces/StringIndexed';\nimport { BillingReportCompensationEntry, CreateBillingReport } from '../interfaces/BillingReport';\nimport { History } from \"history\";\nimport Loading from '../components/Loading';\nimport User from '../entities/User';\nimport Order from '../entities/Order';\nimport Contact from '../entities/Contact';\n\nexport interface AddBillingReportProps {\n    user: User,\n    openOrders: DataInterface<Order>,\n    members: DataInterface<Contact>,\n    loading: boolean,\n    fetchOpenOrders: Function,\n    fetchMembers: Function,\n    save: (data: CreateBillingReport) => Promise<void>,\n    history: History\n}\n\ninterface AddBillingReportState {\n    order: Order,\n    date: Date,\n    vks: StringIndexed<BillingReportCompensationEntry>,\n    els: Array<Contact>,\n    drivers: Array<Contact>,\n    food: boolean,\n    remarks: string,\n    [index: string]: any\n}\n\nexport class _AddBillingReport extends Component<AddBillingReportProps, AddBillingReportState> {\n    constructor(props: AddBillingReportProps) {\n        super(props)\n\n        this.onNext = this.onNext.bind(this)\n        this.save = this.save.bind(this)\n\n        setImmediate(() => {\n            this.props.fetchOpenOrders()\n            this.props.fetchMembers()\n        })\n\n        // init it with forced nulls\n        //@ts-ignore\n        this.state = { els: [], drivers: [] }\n    }\n\n    private onNext(data: StringIndexed<any>): void {\n        let state: AddBillingReportState = this.state\n        for (let i in data) {\n            state[i] = data[i]\n        }\n        this.setState(state)\n    }\n\n    private async save(): Promise<boolean> {\n        let compensationEntries: StringIndexed<BillingReportCompensationEntry<number>> = {}\n\n        for (let i in this.state.vks) {\n            //@ts-ignore\n            compensationEntries[i] = this.state.vks[i]\n            compensationEntries[i].member = this.state.vks[i].member.id\n        }\n\n        await this.props.save({\n            orderId: this.state.order.id,\n            date: this.state.date,\n            compensationEntries: this.state.vks,\n            els: this.state.els,\n            drivers: this.state.drivers,\n            food: this.state.food,\n            remarks: this.state.remarks,\n            creatorId: this.props.user.id\n        })\n        \n        this.props.history.push('/billing-reports')\n\n        return true\n    }\n\n    public render() {\n        if (this.props.loading) {\n            return (\n                <Page title=\"Verrechnungsrapport erfassen\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Verrechnungsrapport erfassen\">\n                <Row>\n                    <Column className=\"col\">\n                        <Panel title=\"\">\n                            <StepWizard nav={<WizardNav />}>\n                                <AddBillingReportStep1 openOrders={this.props.openOrders} onNext={this.onNext} />\n                                <AddBillingReportStep2 onNext={this.onNext} />\n                                <AddBillingReportStep3 onNext={this.onNext} />\n                                <AddBillingReportStep4\n                                    onNext={this.save}\n                                    order={this.state.order}\n                                    date={this.state.date}\n                                    vks={this.state.vks}\n                                    els={this.state.els.map(el =>  el.firstname + ' ' + el.lastname )}\n                                    drivers={this.state.drivers.map(driver => driver.firstname + ' ' + driver.lastname )}\n                                    food={this.state.food}\n                                    remarks={this.state.remarks}\n                                />\n                            </StepWizard>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user.data,\n        openOrders: state.data.openOrders,\n        members: state.data.members,\n        loading: state.data.openOrders.loading ||\n            state.data.members.loading ||\n            state.data.user.loading ||\n            !state.data.openOrders.ids ||\n            !state.data.members.ids ||\n            Object.keys(state.data.user.data as User).length < 0\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchOpenOrders: () => {\n            dispatch(Data.fetchOpenOrders())\n        },\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        save: (data: CreateBillingReport) => {\n            return dispatch(Data.addBillingReport(data))\n        }\n    }\n}\n\n//@ts-ignore\nexport const AddBillingReport = connect(mapStateToProps, mapDispatchToProps)(_AddBillingReport)","import React, { Component } from \"react\";\n\nexport interface WizardNavProps {\n    isActive?: boolean,\n    currentStep?: number,\n    totalSteps?: number,\n    fistStep?: () => void,\n    lastStep?: () => void,\n    nextStep?: () => void,\n    previousStep?: () => void,\n    gotoStep?: (step: number) => void\n}\n\nexport default class WizardNav extends Component<WizardNavProps> {\n    private renderSteps() {\n        let steps = []\n        let totalSteps = this.props.totalSteps || 0\n\n        for (let i = 1; i <= totalSteps; i++) {\n            let classes = 'dot'\n            if (i == this.props.currentStep) {\n                classes += ' active'\n            }\n            steps.push(<span key={i} className={classes}></span>)\n        }\n\n        return steps\n    }\n\n    public render() {\n        return (\n            <div key=\"WizardNav\" id=\"WizardNav\" className=\"d-flex justify-content-center\">\n                {this.renderSteps()}\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { DataInterface } from \"../../reducers/DataReducer\";\nimport WizardStep from \"../../components/WizardStep\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport Order from \"../../entities/Order\";\n\nexport interface Step1Props {\n    onNext: (data: StringIndexed<any>) => void,\n    openOrders: DataInterface<Order>\n}\n\nexport default class AddBillingReportStep1 extends Component<Step1Props, { order: string, date: string }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: Step1Props) {\n        super(props)\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.validate = this.validate.bind(this)\n\n        this.state = {\n            order: '',\n            date: ''\n        }\n    }\n\n    private renderOptions() {\n        let options = [<option key=\"none\" value=\"\">Bitte Whlen</option>]\n        for (let i of this.props.openOrders.ids) {\n            let order = this.props.openOrders.byId[i]\n            // only show the contact if the contact is not a privat person (identified that companies doesn't have any firstname)\n            if (!order.contact.firstname) {\n                options.push(<option key={order.documentNr} value={order.id}>{`${order.title} (${order.contact.lastname})`}</option>)\n            } else {\n                options.push(<option key={order.documentNr} value={order.id}>{`${order.title}`}</option>)\n            }\n        }\n\n        return options\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private async validate(): Promise<boolean> {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                this.props.onNext({\n                    order: this.props.openOrders.byId[parseInt(this.state.order)],\n                    date: new Date(this.state.date)\n                })\n            }\n            return valid\n        }\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Details\" onNextStep={this.validate} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form}>\n                    <h5>Einsatz</h5>\n                    <select className='form-control' name=\"order\" id=\"order\" onChange={this.onInputChange} value={this.state.order} required={true}>\n                        {this.renderOptions()}\n                    </select>\n                    <br></br>\n                    <h5>Datum</h5>\n                    <input type=\"Date\" name=\"date\" id=\"date\" className='form-control' value={this.state.date} onChange={this.onInputChange} required={true}></input>\n                </form>\n            </WizardStep>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport WizardStep from \"../../components/WizardStep\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport { DataInterface } from \"../../reducers/DataReducer\";\nimport Contact from \"../../entities/Contact\";\nimport { ValueType } from \"react-select/lib/types\";\nimport Select from 'react-select';\nimport Checkbox from \"../../components/Checkbox\";\nimport { MemberSelect } from \"../../components/MemberSelect\";\n\nexport interface AddBillingReportStep3Props {\n    onNext: (data: StringIndexed<any>) => void\n}\n\nexport default class AddBillingReportStep3 extends Component<AddBillingReportStep3Props, { els: Array<Contact>, drivers: Array<Contact>, food: boolean, remarks: string }> {\n    private onELChange: (opt: Array<Contact>) => void\n    private onDriversChange: (opt: Array<Contact>) => void\n    private formEl?: HTMLFormElement\n    private elSelect?: Select<{}>\n    private driversSelect?: Select<{}>\n\n    constructor(props: AddBillingReportStep3Props) {\n        super(props)\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onNext = this.onNext.bind(this)\n        this.onELChange = this.onSelectChange('els')\n        this.onDriversChange = this.onSelectChange('drivers')\n\n        this.state = {\n            els: [],\n            drivers: [],\n            food: false,\n            remarks: ''\n        }\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? (target as HTMLInputElement).checked : target.value;\n        const id = target.id;\n        //@ts-ignore\n        this.setState({\n            [id]: value\n        });\n    }\n\n    private onSelectChange(stateName: string) {\n        return (opt: Array<Contact>) => {\n            if (opt) {\n                //@ts-ignore\n                this.setState({\n                    [stateName]: opt\n                })\n            } else {\n                //@ts-ignore\n                this.setState({\n                    [stateName]: []\n                })\n            }\n        }\n    }\n\n    private async onNext(): Promise<boolean> {\n        if (this.elSelect) {\n            let valid = true\n            if (this.state.els.length <= 0) valid = false\n\n            if (valid) {\n                this.props.onNext(this.state)\n                return true\n            }\n        }\n\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Weiteres\" onNextStep={this.onNext} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form} className=\"was-validated\">\n                    <h5>ELs</h5>\n                    <MemberSelect\n                        ref={(select: any) => this.elSelect = select}\n                        onChange={this.onELChange}\n                        isMulti={true}\n                        required={true}\n                    />\n                    <br></br>\n                    <h5>Fahrer</h5>\n                    <MemberSelect\n                        ref={(select: any) => this.driversSelect = select}\n                        onChange={this.onDriversChange}\n                        isMulti={true}\n                        required={false}\n                    />\n                    <br></br>\n                    <h5>Diverses</h5>\n                    <Checkbox id='food' checked={this.state.food} onChange={this.onInputChange} label=\"Verpflegung\" />\n                    <br></br>\n                    <h5>Bemerkungen</h5>\n                    <small className=\"text-muted\">Bei mehreren EL bitte die Schichtzeiten hier eingeben</small>\n                    <textarea id=\"remarks\" value={this.state.remarks} onChange={this.onInputChange} className='form-control'></textarea>\n                </form>\n            </WizardStep>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport WizardStep from \"../../components/WizardStep\";\nimport Table from \"../../components/Table\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport { BillingReportCompensationEntry } from \"../../interfaces/BillingReport\";\nimport Order from \"../../entities/Order\";\n\nexport default class AddBillingReportStep4 extends Component<{ onNext: () => Promise<boolean>, order: Order, date: Date, vks: StringIndexed<BillingReportCompensationEntry>, els: Array<string>, drivers: Array<string>, food: boolean, remarks: string }> {\n    public render() {\n        return (\n            <WizardStep title=\"Zusammenfassung\" onNextStep={this.props.onNext} {...this.props}>\n                <h5>Einsatz</h5>\n                <p>{(this.props.order) ? this.props.order.title : ''}</p>\n\n                <h5>Datum</h5>\n                <p>{(this.props.date) ? this.props.date.toLocaleDateString() : ''}</p>\n\n                <h5>VKs</h5>\n                <Table<BillingReportCompensationEntry>\n                    columns={[\n                        { text: 'VK', keys: { 'member': ['firstname', 'lastname'] } },\n                        { text: 'Von', keys: ['from'], format: 'toLocaleTimeString' },\n                        { text: 'Bis', keys: ['until'], format: 'toLocaleTimeString' },\n                        { text: 'Verrechnet', keys: ['charge'] },\n                        { text: 'Anzahl Stunden', keys: ['totalHours'] }\n                    ]}\n                    defaultSort={{ keys: ['from'], direction: 'asc' }}\n                    data={(this.props.vks) ? this.props.vks : {}}\n                />\n\n                <h5>ELs</h5>\n                <p>{this.props.els.join(',')}</p>\n\n                <h5>Fahrer</h5>\n                <p>{this.props.drivers.join(',')}</p>\n\n                <h5>Diverses</h5>\n                <p className=\"switch switch-sm\">\n                    <input type=\"checkbox\" className=\"switch\" id=\"food\" name=\"food\" checked={this.props.food} />\n                    <label htmlFor=\"food\">Verpflegung</label>\n                </p>\n\n                <h5>Bemerkungen</h5>\n                <p>{(this.props.remarks) ? this.props.remarks : ''}</p>\n            </WizardStep>\n        )\n    }\n}","import React, { Component, HTMLAttributes, SyntheticEvent, MouseEvent } from \"react\";\n\nexport interface SwipeProps extends HTMLAttributes<{}> {\n    minThreshold?: number,\n    maxThreshold?: number,\n    minDurationThreshold?: number,\n    maxDurationThreshold?: number,\n    mouseMove?: boolean,\n    swipingRight?: (event: any) => void\n    swipingLeft?: (event: any) => void\n    swipingUp?: (event: any) => void\n    swipingDown?: (event: any) => void\n    swipedRight?: (event: any) => void\n    swipedLeft?: (event: any) => void\n    swipedUp?: (event: any) => void\n    swipedDown?: (event: any) => void\n}\n\ninterface Coordinates {\n    x: number,\n    y: number\n}\n\ninterface SwipeState {\n    capturing: boolean\n    start: Coordinates,\n    startTime?: Date,\n    end?: Coordinates,\n    endTime?: Date,\n    current?: Coordinates\n}\n\nexport default class Swipe extends Component<SwipeProps, SwipeState> {\n    private scrolling: boolean = false\n    private scrollTimeout: NodeJS.Timeout\n    private minThreshold: number\n    private maxThreshold: number\n    private minDurationThreshold: number\n    private maxDurationThreshold: number\n\n    constructor(props: SwipeProps) {\n        super(props)\n\n        this.minThreshold = props.minThreshold || 10\n        this.maxThreshold = props.maxThreshold || 100\n        this.minDurationThreshold = props.minDurationThreshold || 0\n        this.maxDurationThreshold = props.maxDurationThreshold || 100\n\n        this.onStart = this.onStart.bind(this)\n        this.onMove = this.onMove.bind(this)\n        this.onEnd = this.onEnd.bind(this)\n        this.onScroll = this.onScroll.bind(this)\n\n        this.state = {\n            capturing: false,\n            start: { x: -1, y: -1 }\n        }\n    }\n\n    private onStart(event: any): void {\n        if (!this.scrolling && ((event.clientX && this.props.mouseMove) || event.touches)) {\n            let x = 0, y = 0\n            if (event.clientX) {\n                x = event.clientX\n                y = event.clientY\n            } else if (event.touches) {\n                x = event.touches[0].clientX\n                y = event.touches[0].clientY\n            }\n\n            this.setState({\n                capturing: true,\n                start: { x: x, y: y },\n                startTime: new Date(),\n                current: undefined,\n                end: undefined\n            })\n        }\n    }\n\n    private onMove(event: any): void {\n        if (this.state.capturing) {\n            let x = 0, y = 0\n            if (event.clientX) {\n                x = event.clientX\n                y = event.clientY\n            } else if (event.touches) {\n                x = event.touches[0].clientX\n                y = event.touches[0].clientY\n            }\n\n            this.setState({\n                current: { x: x, y: y }\n            })\n\n            this.fireRunningEvents(this.calculateDirection(this.state.start, { x: x, y: y }), event)\n        }\n    }\n\n    private onEnd(event: any): void {\n        if (this.state.capturing && this.state.start && this.state.startTime) {\n            let x = 0, y = 0\n            if (event.clientX) {\n                x = event.clientX\n                y = event.clientY\n            } else if (event.touches) {\n                x = event.changedTouches[0].clientX\n                y = event.changedTouches[0].clientY\n            }\n\n            this.setState({\n                capturing: false,\n                end: { x: x, y: y },\n                endTime: new Date()\n            })\n\n            this.fireFinishEvents(this.calculateDirection(this.state.start, { x: x, y: y }), new Date().getTime() - this.state.startTime.getTime(), event)\n        }\n    }\n\n    private onScroll(event: SyntheticEvent): void {\n        this.scrolling = true\n        if (this.scrollTimeout) {\n            clearTimeout(this.scrollTimeout)\n        }\n\n        this.scrollTimeout = setTimeout(() => { this.scrolling = false }, 150)\n    }\n\n    private calculateDirection(start: Coordinates, end: Coordinates): string {\n        let x = Math.abs(start.x - end.x)\n        let y = Math.abs(start.y - end.y)\n\n        if (x > y) {\n            if (x > this.minThreshold && x < this.maxThreshold) {\n                if (start.x > end.x) {\n                    return 'left'\n                }\n                return 'right'\n            }\n        } else {\n            if (y > this.minThreshold && y < this.maxThreshold) {\n                if (start.y > end.y) {\n                    return 'up'\n                }\n                return 'down'\n            }\n        }\n\n        return ''\n    }\n\n    private fireFinishEvents(direction: string, duration: number, event: any): void {\n        if (duration > this.minDurationThreshold && duration < this.maxDurationThreshold) {\n            switch (direction) {\n                case 'up':\n                    if (this.props.swipedUp) this.props.swipedUp(event)\n                    break\n                case 'right':\n                    if (this.props.swipedRight) this.props.swipedRight(event)\n                    break\n                case 'down':\n                    if (this.props.swipedDown) this.props.swipedDown(event)\n                    break\n                case 'left':\n                    if (this.props.swipedLeft) this.props.swipedLeft(event)\n                    break\n            }\n        }\n    }\n\n    private fireRunningEvents(direction: string, event: any): void {\n        switch (direction) {\n            case 'up':\n                if (this.props.swipingUp) this.props.swipingUp(event)\n                break\n            case 'right':\n                if (this.props.swipingRight) this.props.swipingRight(event)\n                break\n            case 'down':\n                if (this.props.swipingDown) this.props.swipingDown(event)\n                break\n            case 'left':\n                if (this.props.swipingLeft) this.props.swipingLeft(event)\n                break\n        }\n    }\n\n    public render() {\n        return (\n            <div\n                onScroll={this.onScroll}\n                onTouchStart={this.onStart}\n                onTouchMove={this.onMove}\n                onTouchEnd={this.onEnd}\n                onMouseDown={this.onStart}\n                onMouseMove={this.onMove}\n                onMouseUp={this.onEnd}\n                className={this.props.className}\n            >\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { Dispatch } from \"redux\";\nimport { UI } from \"../actions/UIActions\";\nimport User from \"../entities/User\";\nimport { RouterProps } from \"react-router\";\nimport Config from \"../Config\";\n\nexport class _Header extends Component<{ open: boolean, user: User, onClick: () => {} } & RouterProps, {}> {\n    public render() {\n        let className = 'navibar-open'\n        if (!this.props.open) {\n            className = 'navibar-collapsed'\n        }\n\n        if (this.props.user) {\n            return (\n                <div id=\"header\">\n                    <div id=\"header-title\" className={className}>\n                        <div id=\"user\">\n                            {this.props.user.displayName}\n                        </div>\n                    </div>\n                    <div id=\"header-bars\" onClick={this.props.onClick}>\n                        <span>\n                            <FontAwesomeIcon icon=\"bars\" />\n                        </span>\n                    </div>\n                </div>\n            )\n        }\n\n        return (\n            <div></div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open: state.ui.navibar_open,\n        user: state.data.user.data\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        onClick: () => {\n            dispatch(UI.toggleNavibar())\n        }\n    }\n}\n\n//@ts-ignore\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(_Header)","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { NavLink } from \"react-router-dom\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport { UI } from \"../actions/UIActions\";\nimport { connect } from \"react-redux\";\nimport { AnyAction } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport CurrentDevice from 'current-device'\nimport { withRouter } from 'react-router-dom'\n\nexport interface NavibarElementProps {\n    level?: number,\n    leftIcon?: IconProp,\n    rightIcon?: IconProp,\n    to?: string,\n    text: string,\n    navibar_open?: boolean,\n    onMouseUp?: (event: React.MouseEvent<HTMLElement>) => void,\n    onClose?: () => void,\n    toggleNavibar?: () => void\n}\n\nexport class _NavibarElement extends Component<NavibarElementProps> {\n    private level: number\n\n    constructor(props: NavibarElementProps) {\n        super(props)\n\n        this.onMouseUp = this.onMouseUp.bind(this)\n        this.level = this.props.level || 0\n    }\n\n    private onMouseUp(event: React.MouseEvent<HTMLElement>) {\n        if (this.level === 0 && this.props.onClose) this.props.onClose()\n        if (this.props.onMouseUp) this.props.onMouseUp(event)\n        if (CurrentDevice.mobile() && this.props.toggleNavibar && this.props.to) this.props.toggleNavibar()\n    }\n\n    private renderLinkElement(to: string, content: Array<JSX.Element>, onMouseUp: (event: React.MouseEvent<HTMLElement>) => void) {\n        if (to.match(/^(http|https):\\/\\//)) {\n            return (\n                <a href={to} className=\"navibar-element\" onMouseUp={onMouseUp} target=\"_blank\">\n                    {content}\n                </a>\n            )\n        } else {\n            return (\n                <NavLink exact to={to} className=\"navibar-element\" activeClassName=\"navibar-element-active\" onMouseUp={onMouseUp} >\n                    {content}\n                </ NavLink>\n            )\n        }\n    }\n\n    public render() {\n        let leftIcon\n        let rightIcon: JSX.Element = <p></p>\n\n        if (this.props.leftIcon) leftIcon = <FontAwesomeIcon icon={this.props.leftIcon} className=\"navibar-element-icon\" />\n        if (this.props.rightIcon) rightIcon = <FontAwesomeIcon icon={this.props.rightIcon} className=\"navibar-element-icon navibar-element-icon-right float-right\" />\n\n        if (this.props.to) {\n            return this.renderLinkElement(this.props.to, [\n                <li key={this.props.to}>\n                    {leftIcon}\n                    <p className=\"navibar-element-text\">{this.props.text}</p>\n                    {rightIcon}\n                </li>\n            ], this.onMouseUp)\n        } else {\n            return (\n                <li className=\"navibar-element\" onMouseUp={this.onMouseUp} key={this.props.text}>\n                    {leftIcon}\n                    <p className=\"navibar-element-text\">{this.props.text}</p>\n                    {rightIcon}\n                </li>\n            )\n        }\n    }\n}\n\n\nconst mapStateToProps = (state: State) => {\n    return {\n        navibar_open: state.ui.navibar_open\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        onClose: () => {\n            dispatch(UI.collapseNavibarLevel())\n        },\n        toggleNavibar: () => {\n            dispatch(UI.toggleNavibar())\n        }\n    }\n}\n\n//@ts-ignore\nexport const NavibarElement = withRouter(connect(mapStateToProps, mapDispatchToProps)(_NavibarElement))","import { NavibarElement } from \"./NavibarElement\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport React, { Component, Children, cloneElement, ReactElement, PropsWithChildren } from \"react\";\nimport { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { UI } from \"../actions/UIActions\";\n\nexport interface NavibarLevelHeaderProps {\n    leftIcon?: IconProp,\n    text: string,\n    id: string,\n    level: number,\n    open_level: string,\n    onOpen: (id: string) => void,\n    onClose: () => void\n}\n\nexport default class _NavibarLevelHeader extends Component<PropsWithChildren<NavibarLevelHeaderProps>> {\n\n    constructor(props: NavibarLevelHeaderProps) {\n        super(props)\n        this.onClick = this.onClick.bind(this)\n    }\n\n    private onClick(event: React.MouseEvent<HTMLElement>) {\n        if (this.props.open_level === this.props.id) {\n            this.props.onClose()\n        } else {\n            this.props.onOpen(this.props.id)\n        }\n    }\n\n    public render() {\n        let openClass = ''\n        let rightIcon: IconProp = 'angle-up'\n\n        if (this.props.id !== this.props.open_level) {\n            openClass = ' level-collapsed'\n            rightIcon = 'angle-down'\n        }\n\n        return (\n            <div>\n                <NavibarElement leftIcon={this.props.leftIcon} rightIcon={rightIcon} text={this.props.text} onMouseUp={this.onClick} />\n                <div key={\"levelContainer-\" + this.props.id} className={\"level-container\" + \" level-\" + this.props.level.toString() + openClass}>\n                    {\n                        Children.map(this.props.children, child => {\n                            if (child) {\n                                return cloneElement(child as ReactElement<any>, { level: this.props.level })\n                            }\n                        })\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open_level: state.ui.navibar_level\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        onOpen: (id: string) => {\n            dispatch(UI.openNavibarLevel(id))\n        },\n        onClose: () => {\n            dispatch(UI.collapseNavibarLevel())\n        },\n    }\n}\n\n\n//@ts-ignore\nexport const NavibarLevelHeader = connect(mapStateToProps, mapDispatchToProps)(_NavibarLevelHeader)","import React, { Component } from \"react\";\nimport { NavibarElement } from \"./NavibarElement\";\nimport { connect } from \"react-redux\";\nimport { State } from '../reducers/IndexReducer'\nimport { NavibarLevelHeader } from \"./NavibarLevelHeader\";\nimport { AuthRoles } from \"../interfaces/AuthRoles\";\nimport User from \"../entities/User\";\nimport Config from \"../Config\";\n\nexport class _Navibar extends Component<{ open: boolean, user?: User }> {\n    public renderElement(element: JSX.Element, roles?: Array<AuthRoles>) {\n        if (roles) {\n            for (let role of roles) {\n                if (this.props.user && (this.props.user.roles.includes(role) || this.props.user.roles.includes(AuthRoles.ADMIN))) {\n                    return element\n                }\n            }\n        } else {\n            return element\n        }\n    }\n\n    public render() {\n        let className = 'navibar-open'\n        if (!this.props.open) {\n            className = 'navibar-collapsed'\n        }\n\n        if (this.props.user) {\n            return (\n                <div id=\"navibar\" className={className}>\n                    <ol>\n                        {this.renderElement(<NavibarElement to=\"/dashboard\" text=\"Dashboard\" leftIcon=\"tachometer-alt\" />, [AuthRoles.AUTHENTICATED])}\n                        {this.renderElement(<NavibarElement to=\"/members\" text=\"Mitglieder\" leftIcon=\"users\" />, [AuthRoles.MEMBERS_READ])}\n                        {this.renderElement(<NavibarElement to=\"/mailing-lists\" text=\"Verteiler\" leftIcon=\"mail-bulk\" />, [AuthRoles.MEMBERS_READ])}\n                        {this.renderElement(\n                            <NavibarLevelHeader text=\"Aufgebot\" leftIcon=\"address-book\" id=\"draft\" level={1}>\n                                <NavibarElement to=\"/draft/collection-points\" leftIcon=\"map-marker-alt\" text=\"Abholpunkte\" />\n                            </NavibarLevelHeader>\n                            , [AuthRoles.DRAFT_READ, AuthRoles.DRAFT_CREATE]\n                        )}\n                        {this.renderElement(<NavibarElement to=\"/orders\" text=\"Auftrge\" leftIcon=\"file-alt\" />, [AuthRoles.ORDERS_READ])}\n                        {this.renderElement(\n                            <NavibarLevelHeader text=\"Verrechnungsrapporte\" leftIcon=\"file-signature\" id=\"billingreports\" level={1}>\n                                {this.renderElement(<NavibarElement to=\"/billing-reports/add\" leftIcon=\"plus\" text=\"Erstellen\" />, [AuthRoles.BILLINGREPORTS_CREATE])}\n                                <NavibarElement to=\"/billing-reports\" leftIcon=\"list\" text=\"Alle\" />\n                                <NavibarElement to=\"https://vkazu.sharepoint.com/:w:/r/Vorlagen/Verrechungsrapport.docx?d=w66977fb79dfd4ab3832ca05fd6d9b8d2&csf=1&e=Spme13\" text=\"Word Vorlage\" leftIcon=\"file-word\" />\n                            </NavibarLevelHeader>\n                            , [AuthRoles.BILLINGREPORTS_READ, AuthRoles.BILLINGREPORTS_CREATE]\n                        )}\n                        {this.renderElement(\n                            <NavibarLevelHeader text=\"Entschdigungen\" leftIcon=\"dollar-sign\" id=\"compensations\" level={1}>\n                                {this.renderElement(<NavibarElement to=\"/compensations/add\" leftIcon=\"plus\" text=\"Erstellen\" />, [AuthRoles.COMPENSATIONS_CREATE])}\n                                <NavibarElement to=\"/compensations\" leftIcon=\"list\" text=\"Alle\" />\n                            </NavibarLevelHeader>\n                            , [AuthRoles.COMPENSATIONS_READ]\n                        )}\n                        {this.renderElement(<NavibarElement to=\"/payouts\" text=\"Auszahlungen\" leftIcon=\"file-invoice-dollar\" />, [AuthRoles.PAYOUTS_READ])}\n                        {this.renderElement(<NavibarElement to=\"/users\" text=\"Benutzer\" leftIcon=\"user\" />, [AuthRoles.ADMIN])}\n                        <NavibarElement to=\"https://vkazu.sharepoint.com/Dokumente\" text=\"Dokumente\" leftIcon=\"external-link-alt\" />\n                        <NavibarElement to={`${Config.apiEndpoint}/api/logout`} text=\"Abmelden\" leftIcon=\"power-off\" />\n                    </ol>\n                </div>\n            )\n        }\n\n        return (\n            <div></div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open: state.ui.navibar_open,\n        user: state.data.user.data\n    }\n}\n\nexport const Navibar = connect(mapStateToProps, {}, null, { pure: false })(_Navibar)","import React, { Component, PropsWithChildren } from \"react\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport { UI } from \"../actions/UIActions\";\nimport Swipe from \"./Swipe\";\nimport { Header } from \"./Header\";\nimport { Navibar } from \"./Navibar\";\n\nexport interface PageProps  {\n    title: string,\n    open: boolean,\n    openNavibar?: () => void,\n    closeNavibar?: () => void\n}\n\nexport class _Page extends Component<PropsWithChildren<PageProps>> {\n    constructor(props: PageProps) {\n        super(props)\n\n        this.swipedRight = this.swipedRight.bind(this)\n        this.swipedLeft = this.swipedLeft.bind(this)\n    }\n\n    public swipedRight() {\n        if (this.props.openNavibar) this.props.openNavibar()\n    }\n\n    public swipedLeft() {\n        if (this.props.closeNavibar) this.props.closeNavibar()\n    }\n\n    public render() {\n        let className = 'navibar-open'\n        if (!this.props.open) {\n            className = 'navibar-collapsed'\n        }\n\n        return (\n            <div className=\"body\">\n                <Header />\n                <Navibar />\n                <Swipe className={className + ' content'} mouseMove={true} swipedRight={this.swipedRight} swipedLeft={this.swipedLeft}>\n                    <div className=\"content-top\">\n                        <h1 className=\"page-title\">{this.props.title}</h1>\n                    </div>\n                    <div className=\"content-body container-fluid\">\n                        {this.props.children}\n                    </div>\n                </Swipe>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open: state.ui.navibar_open\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        closeNavibar: () => {\n            dispatch(UI.closeNavibar())\n        },\n        openNavibar: () => {\n            dispatch(UI.openNavibar())\n        }\n    }\n}\n\nexport const Page = connect(mapStateToProps, mapDispatchToProps)(_Page)","export default class Config {\n    static apiEndpoint: string\n\n    public static loadConfig(): void {\n        if (process.env.NODE_ENV && process.env.NODE_ENV === 'development') {\n            Config.apiEndpoint = \"http://localhost:8000\"\n        } else {\n            Config.apiEndpoint = `${window.location.protocol}//${window.location.host}`\n        }\n    }\n\n    public static isModeProduction(): boolean {\n        return Config.isMode('production')\n    }\n\n    public static isModeDev(): boolean {\n        return Config.isMode('development')\n    }\n\n    private static isMode(mode: string): boolean {\n        return (process.env.NODE_ENV || 'production').toLowerCase() === mode.toLowerCase()\n    }\n}","import React, { Component } from \"react\";\n\nexport default class Row extends Component<{ className?: string }> {\n    public render() {\n        return (\n            <div className={\"row \" + this.props.className}>\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component, ButtonHTMLAttributes } from \"react\";\nimport * as Bootstrap from 'react-bootstrap'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n    onClick: (event: React.MouseEvent<HTMLButtonElement>) => Promise<any>;\n    type?: \"button\" | \"reset\" | \"submit\",\n    active?: boolean\n    block?: boolean\n    variant?:\n    | 'primary'\n    | 'secondary'\n    | 'success'\n    | 'danger'\n    | 'warning'\n    | 'info'\n    | 'dark'\n    | 'light'\n    | 'link'\n    | 'outline-primary'\n    | 'outline-secondary'\n    | 'outline-success'\n    | 'outline-danger'\n    | 'outline-warning'\n    | 'outline-info'\n    | 'outline-dark'\n    | 'outline-light'\n    size?: 'sm' | 'lg'\n    href?: string\n    disabled?: boolean\n};\n\nexport default class Button extends Component<ButtonProps, { state: 'normal' | 'inProgress' | 'done' }> {\n    constructor(props: ButtonProps) {\n        super(props)\n\n        this.onClick = this.onClick.bind(this)\n\n        this.state = {\n            state: 'normal'\n        }\n    }\n\n    private async onClick(event: React.MouseEvent<HTMLButtonElement>) {\n        if (this.state.state === 'normal') {\n            this.setState({ state: 'inProgress' })\n            await this.props.onClick(event)\n            this.setState({ state: 'done' })\n            setTimeout(() => {\n                this.setState({ state: 'normal' })\n            }, 1000)\n        }\n    }\n\n    public render() {\n        switch (this.state.state) {\n            case 'normal':\n                return (<Bootstrap.Button {...this.props} onClick={this.onClick}>{this.props.children}</Bootstrap.Button>)\n            case 'inProgress':\n                return (<Bootstrap.Button {...this.props} onClick={this.onClick}>\n                    <svg className=\"button-loading\" viewBox=\"0 0 128 128\">\n                        <g>\n                            <path d=\"M64 127.75A63.76 63.76 0 0 1 52.8 1.23v14.23a49.8 49.8 0 1 0 22.4 0V1.23A63.76 63.76 0 0 1 64 127.75z\" fill-opacity=\"1\" />\n                            <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 64 64\" to=\"360 64 64\" dur=\"2160ms\" repeatCount=\"indefinite\"></animateTransform>\n                        </g>\n                    </svg>\n                </Bootstrap.Button >)\n            case 'done':\n                return (<Bootstrap.Button {...this.props} onClick={this.onClick}><FontAwesomeIcon icon=\"check-circle\" /></Bootstrap.Button>)\n            default:\n                return (<Bootstrap.Button {...this.props} onClick={this.onClick}>{this.props.children}</Bootstrap.Button>)\n        }\n    }\n}","import React, { Component } from 'react'\n\nexport default class Loading extends Component<{ fullscreen?: boolean }> {\n    public render() {\n        return (\n            <div className={\"loading-animation \" + ((this.props.fullscreen) ? 'fullscreen' : '')}>\n                <div className=\"sk-folding-cube\">\n                    <div className=\"sk-cube1 sk-cube\"></div>\n                    <div className=\"sk-cube2 sk-cube\"></div>\n                    <div className=\"sk-cube4 sk-cube\"></div>\n                    <div className=\"sk-cube3 sk-cube\"></div>\n                </div>\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component, MouseEvent } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\nimport Checkbox from \"../components/Checkbox\";\n\nexport interface TableColumn {\n    text: string\n    keys: Array<string> | { [index: string]: Array<string> }\n    content?: JSX.Element\n    link?: boolean\n    linkPrefix?: string,\n    sortable?: boolean,\n    searchable?: boolean,\n    prefix?: string\n    suffix?: string\n    format?: string\n    className?: string\n}\n\ninterface TableProps<T> {\n    columns: Array<TableColumn>,\n    data: StringIndexed<T> | Array<T>,\n    onSort?: (event: MouseEvent<HTMLTableHeaderCellElement>, clickedKeys: Array<string> | StringIndexed<any>, sortDirection: 'asc' | 'desc') => void,\n    defaultSort?: { keys: Array<string> | StringIndexed<any>, direction: 'asc' | 'desc' },\n    searchString?: string,\n    ref?: Function,\n    className?: string,\n    checkable?: boolean,\n    onCheck?: (event: React.ChangeEvent<HTMLInputElement>) => void\n}\n\ninterface TableState<T> {\n    sortKey: string,\n    sortDirection: 'asc' | 'desc',\n    searchableKeys: Array<string | { [index: string]: Array<string> }>\n}\n\nexport default class Table<T extends { id: string | number }> extends Component<TableProps<T>, TableState<T>> {\n    constructor(props: TableProps<T>) {\n        super(props)\n        this.sortClick = this.sortClick.bind(this)\n        this.search = this.search.bind(this)\n        this.ref = this.ref.bind(this)\n\n        if (this.props.defaultSort) {\n            this.state = {\n                sortKey: this.props.defaultSort.keys.join('-'),\n                sortDirection: this.props.defaultSort.direction,\n                searchableKeys: this.genSearchKeys(this.props.columns)\n            }\n        } else {\n            this.state = {\n                sortKey: '',\n                sortDirection: 'asc',\n                searchableKeys: this.genSearchKeys(this.props.columns)\n            }\n        }\n    }\n\n    public componentDidUpdate(prevProps: TableProps<T>) {\n        if (prevProps !== this.props) {\n            this.setState({\n                searchableKeys: this.genSearchKeys(this.props.columns)\n            })\n        }\n    }\n\n    private ref(table: HTMLTableElement) {\n        if (this.props.ref) this.props.ref(table)\n    }\n\n    private sort(sortKey: string, direction: 'asc' | 'desc', data?: StringIndexed<T> | Array<T>): StringIndexed<T> | Array<T> {\n        let keys = this.genSortKeys(sortKey)\n        let prepared = []\n        data = data || this.props.data\n        for (let a in data) {\n            //@ts-ignore\n            let element = data[a]\n            let sortValues = []\n            for (let i in keys) {\n                //@ts-ignore\n                let key = keys[i]\n                if (key instanceof Array) {\n                    for (let b of key) {\n                        if (element[i]) {\n                            if (b.indexOf('phone') > -1) {\n                                //@ts-ignore\n                                sortValues.push(element[i][b].replace(' ', ''))\n                            } else if (element[key] instanceof Date) {\n                                sortValues.push(element[key].getTime())\n                            } else {\n                                //@ts-ignore\n                                sortValues.push(element[i][b])\n                            }\n                        }\n                    }\n                } else {\n                    if (key.indexOf('phone') > -1) {\n                        //@ts-ignore\n                        sortValues.push(element[key].replace(' ', ''))\n                    } else if (element[key] instanceof Date) {\n                        sortValues.push(element[key].getTime())\n                    } else {\n                        //@ts-ignore\n                        sortValues.push(element[key])\n                    }\n                }\n\n            }\n            prepared.push({ id: a, value: sortValues.join(' ').toLowerCase() })\n        }\n\n        prepared.sort((a, b) => {\n            let aValue, bValue\n            aValue = parseFloat(a.value)\n            bValue = parseFloat(b.value)\n            if (isNaN(aValue) || isNaN(bValue)) {\n                aValue = a.value\n                bValue = b.value\n            }\n\n            if (aValue < bValue)\n                return (direction === 'asc') ? -1 : 1;\n            if (aValue > bValue)\n                return (direction === 'asc') ? 1 : -1;\n            return 0;\n        })\n\n        let sorted = {}\n        for (let id of prepared) {\n            //@ts-ignore\n            sorted[`_${id.id}`] = this.props.data[id.id]\n        }\n\n        return sorted\n    }\n\n    private genSortKeys(key: string): Array<string> | StringIndexed<any> {\n        let keys = [key]\n        if (key.indexOf('_') > -1) keys = key.split('_')\n\n        let finalKeys: StringIndexed<any> | Array<string> = {}\n        for (let key of keys) {\n            if (key) {\n                if (key.indexOf('.') > -1) {\n                    (finalKeys as StringIndexed<any>)[key.split('.')[0]] = key.split('.')[1].split('-')\n                } else {\n                    (finalKeys as Array<string>) = key.split('-')\n                }\n            }\n        }\n\n        return finalKeys\n    }\n\n    private sortClick(event: MouseEvent<HTMLTableHeaderCellElement>) {\n        let dataKey = (event.target as HTMLElement).dataset.key as string\n        if (!dataKey) dataKey = ((event.target as HTMLElement).parentElement as HTMLElement).dataset.key as string\n        let direction: 'asc' | 'desc' = 'asc';\n\n        if (this.state.sortKey === dataKey) {\n            if (this.state.sortDirection === 'asc') {\n                direction = 'desc'\n            } else {\n                direction = 'asc'\n            }\n        }\n\n        if (this.props.onSort) this.props.onSort(event, this.genSortKeys(dataKey), direction)\n\n        this.setState({\n            sortDirection: direction,\n            sortKey: dataKey\n        })\n    }\n\n    private genSearchKeys(columns: Array<TableColumn>): Array<string | { [index: string]: Array<string> }> {\n        let searchKeys: Array<string | { [index: string]: Array<string> }> = []\n        for (let column of columns) {\n            if (column.searchable) {\n                if (column.keys instanceof Array) {\n                    searchKeys = searchKeys.concat(column.keys)\n                } else {\n                    searchKeys.push(column.keys)\n                }\n            }\n        }\n\n        return searchKeys\n    }\n\n    private search(searchString: string, data?: StringIndexed<T> | Array<T>): StringIndexed<T> | Array<T> {\n        let result: StringIndexed<T> | Array<T> = {}\n        data = data || this.props.data\n\n        if (searchString && this.state.searchableKeys.length > 0) {\n            for (let a in data) {\n                //@ts-ignore\n                let record = data[a]\n                let searchableString = ''\n                for (let key of this.state.searchableKeys) {\n\n                    if (key instanceof Object) {\n                        for (let f in key) {\n                            for (let k of key[f]) {\n                                if (record[f] && record[f][k]) {\n                                    if (k.indexOf('phone') > -1) {\n                                        //@ts-ignore\n                                        searchableString += record[f][k].toString().replace(' ', '') + ' '\n                                    }\n                                    //@ts-ignore\n                                    searchableString += record[f][k].toString() + ' '\n                                }\n                            }\n                        }\n                    } else if (typeof key === 'string' && record.hasOwnProperty(key) && record[key] !== null) {\n                        if (key.indexOf('phone') > -1) {\n                            //@ts-ignore\n                            searchableString += record[key].toString().replace(' ', '') + ' '\n                        }\n                        //@ts-ignore\n                        searchableString += record[key].toString() + ' '\n                    }\n                }\n\n                if (searchableString.toLowerCase().indexOf(searchString.toLowerCase()) > -1 && !result.hasOwnProperty(a)) {\n                    //@ts-ignore\n                    result[a] = record\n                }\n            }\n            return result\n        }\n\n        return data\n    }\n\n    private renderRows() {\n        let rows = []\n        let data = this.props.data\n        data = this.sort(this.state.sortKey, this.state.sortDirection, data)\n        data = this.search(this.props.searchString || '', data)\n\n        for (let id in data) {\n            //@ts-ignore\n            let dataEntry = data[id]\n            let row = []\n\n            if (this.props.checkable) {\n                row.push(<td style={{ width: '40px' }}><Checkbox onChange={this.props.onCheck || (() => { })} /></td>)\n            }\n\n            for (let column of this.props.columns) {\n                let tdKey = ''\n\n                if (column.content) {\n                    row.push(<td key={(column.keys instanceof Array) ? column.keys.join('-') : Object.keys(column.keys).map((el: string) => ((column.keys as StringIndexed<Array<string>>)[el].join('-'))).join('-')}>{column.content || ''}</td>)\n                } else {\n                    let content: Array<string> = []\n                    if (column.keys instanceof Array) {\n                        content = column.keys.map((key) => {\n                            tdKey = `-${key}`\n                            //@ts-ignore\n                            if (dataEntry[key] instanceof Date) {\n                                if (column.format) {\n                                    let param\n                                    let command = column.format\n                                    if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                                        const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                                        if (match && match.length > 2) {\n                                            command = match[1]\n                                            param = match[2]\n                                        }\n                                    }\n                                    //@ts-ignore\n                                    return dataEntry[key][command](param)\n                                }\n                                //@ts-ignore\n                                return dataEntry[key].toLocaleDateString()\n                                //@ts-ignore\n                            } else if (typeof dataEntry[key] === 'boolean') {\n                                //@ts-ignore\n                                if (dataEntry[key]) {\n                                    return ''\n                                }\n                                return ''\n                                //@ts-ignore\n                            } else if (dataEntry[key] instanceof Array) {\n                                //@ts-ignore\n                                return dataEntry[key].map((entry: any) => {\n                                    if (entry instanceof Date) {\n                                        if (column.format) {\n                                            let param\n                                            let command = column.format\n                                            if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                                                const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                                                if (match && match.length > 2) {\n                                                    command = match[1]\n                                                    param = match[2]\n                                                }\n                                            }\n                                            //@ts-ignore\n                                            return entry[command](param)\n                                        }\n                                        return entry.toLocaleDateString()\n                                    } else if (typeof entry === 'boolean') {\n                                        if (entry) {\n                                            return ''\n                                        }\n                                        return ''\n                                    }\n\n                                    if (column.format) {\n                                        let param\n                                        let command = column.format\n                                        if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                                            const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                                            if (match && match.length > 2) {\n                                                command = match[1]\n                                                param = match[2]\n                                            }\n                                        }\n                                        //@ts-ignore\n                                        return entry[command](param)\n                                    }\n\n                                    return entry\n                                })\n                            }\n\n                            if (column.format) {\n                                let param\n                                let command = column.format\n                                if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                                    const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                                    if (match && match.length > 2) {\n                                        command = match[1]\n                                        param = match[2]\n                                    }\n                                }\n                                //@ts-ignore\n                                return dataEntry[key][command](param)\n                            }\n\n                            //@ts-ignore\n                            return dataEntry[key]\n                        })\n                    } else {\n                        for (let k in column.keys) {\n                            tdKey = `-${tdKey}${k}`\n                            content = content.concat(column.keys[k].map((key) => {\n                                //@ts-ignore\n                                if (dataEntry.hasOwnProperty(k) && dataEntry[k]) {\n                                    //@ts-ignore\n                                    if (dataEntry[k][key] instanceof Date) {\n                                        if (column.format) {\n                                            let param\n                                            let command = column.format\n                                            if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                                                const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                                                if (match && match.length > 2) {\n                                                    command = match[1]\n                                                    param = match[2]\n                                                }\n                                            }\n                                            //@ts-ignore\n                                            return dataEntry[k][key][command](param)\n                                        }\n                                        //@ts-ignore\n                                        return dataEntry[k][key].toLocaleDateString()\n                                        //@ts-ignore\n                                    } else if (typeof dataEntry[k][key] === 'boolean') {\n                                        //@ts-ignore\n                                        if (dataEntry[k][key]) {\n                                            return ''\n                                        }\n                                        return ''\n                                    }\n\n                                    if (column.format) {\n                                        let param\n                                        let command = column.format\n                                        if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                                            const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                                            if (match && match.length > 2) {\n                                                command = match[1]\n                                                param = match[2]\n                                            }\n                                        }\n                                        //@ts-ignore\n                                        return dataEntry[k][key][command](param)\n                                    }\n\n                                    //@ts-ignore\n                                    return dataEntry[k][key]\n                                }\n                                return ''\n                            }))\n                        }\n                    }\n\n                    if (column.link) {\n                        row.push(<td className={column.className || ''} key={dataEntry.id + tdKey}><a key={dataEntry.id + [...(content || [Math.random().toString()]), 'a'].join(' ')} href={((column.linkPrefix) ? column.linkPrefix : '') + content.join(' ')} target={(column.linkPrefix && (column.linkPrefix.match(/w+:/i) || []).length > 0) ? \"\" : \"_blank\"}>{((column.prefix) ? column.prefix : '') + content.join(' ') + ((column.suffix) ? column.suffix : '')}</a></td>)\n                    } else {\n                        row.push(<td className={column.className || ''} key={dataEntry.id + tdKey}>{((column.prefix) ? column.prefix : '') + content.join(' ') + ((column.suffix) ? column.suffix : '')}</td>)\n                    }\n                }\n            }\n            let trKey = id\n            if (this.props.data instanceof Array) trKey = dataEntry.id.toString()\n            rows.push(<tr key={trKey} data-key={trKey.replace(/^_/, '')}>{row}</tr>)\n        }\n\n        return rows\n    }\n\n    public render() {\n        return (\n            <div className=\"table-responsive\">\n                <table className={`table table-striped ${this.props.className || ''}`} ref={this.ref}>\n                    <thead key=\"table-head\">\n                        <tr key=\"table-head-row\">\n                            {this.props.checkable ? <th></th> : ''}\n                            {this.props.columns.map((column) => {\n                                let columnKey = ''\n                                if (column.keys instanceof Array) {\n                                    columnKey = column.keys.join('-')\n                                } else {\n                                    for (let k in column.keys) {\n                                        columnKey += '_' + k + '.' + column.keys[k].join('-')\n                                    }\n                                }\n                                let sortIndicator;\n                                if (columnKey === this.state.sortKey) {\n                                    if (this.state.sortDirection === 'asc') {\n                                        sortIndicator = <FontAwesomeIcon icon=\"sort-down\" className=\"float-right\" />\n                                    } else {\n                                        sortIndicator = <FontAwesomeIcon icon=\"sort-up\" className=\"float-right\" />\n                                    }\n                                }\n                                if (column.sortable) {\n                                    return <th key={columnKey} data-key={columnKey} scope=\"col\" onClick={this.sortClick} style={{ cursor: 'pointer' }}>{column.text}{sortIndicator}</th>\n                                }\n                                return <th key={columnKey} data-key={columnKey} scope=\"col\">{column.text}</th>\n                            })}\n                        </tr>\n                    </thead>\n                    <tbody key=\"table-body\">\n                        {this.renderRows()}\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport Table, { TableColumn } from \"../components/Table\";\nimport { History } from \"history\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Loading from \"./Loading\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\n\nexport interface DataListProps<T> {\n    data: DataInterface<T>,\n    fetchData: Function,\n    onSearch?: Function,\n    title: string,\n    viewLocation: string,\n    tableColumns: Array<TableColumn>\n    history: History\n    panelActions?: Array<any>\n    rowActions?: Array<any>,\n}\n\nexport interface DataListState {\n    searchString: string,\n    sort: {\n        keys: Array<string> | StringIndexed<string>,\n        direction: 'asc' | 'desc'\n    }\n}\n\nexport class DataList<T extends { id: string | number }> extends Component<DataListProps<T>, DataListState> {\n    constructor(props: DataListProps<T>) {\n        super(props)\n\n        if (!this.props.data.loading) {\n            setImmediate(() => { this.props.fetchData() })\n        }\n\n        this.elementView = this.elementView.bind(this)\n        this.textSearch = this.textSearch.bind(this)\n        this.onSort = this.onSort.bind(this)\n\n        this.state = {\n            searchString: '',\n            sort: {\n                keys: this.props.data.sort.keys,\n                direction: this.props.data.sort.direction\n            }\n        }\n    }\n\n    public elementView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + this.props.viewLocation + id)\n            } else {\n                this.props.history.push(this.props.viewLocation + id)\n            }\n        }\n    }\n\n    public shouldComponentUpdate(nextProps: DataListProps<T>, nextState: DataListState): boolean {\n        if (this.props !== nextProps) return true\n        if (this.state.searchString !== nextState.searchString) return true\n\n        // don't rerender on sort change, because this is just to keep track of the state below\n        return false\n    }\n\n    private onSort(event: React.MouseEvent<HTMLTableHeaderCellElement>, keys: Array<string> | StringIndexed<string>, direction: 'asc' | 'desc'): void {\n        this.setState({\n            sort: {\n                keys: keys,\n                direction: direction\n            }\n        })\n    }\n\n    private textSearch(event: React.ChangeEvent<HTMLInputElement>) {\n        if (this.props.onSearch) this.props.onSearch(event.target.value)\n        this.setState({\n            searchString: event.target.value\n        })\n    }\n\n    private renderTable() {\n        if (this.props.data.loading) {\n            return (\n                <Loading />\n            )\n        }\n\n        let dataById: StringIndexed<any> = {}\n        for (let id of this.props.data.ids) {\n            dataById[id] = this.props.data.byId[id]\n        }\n\n        return (\n            <Table<T>\n                columns={this.props.tableColumns.concat([\n                    {\n                        text: 'Actions', keys: ['id'], content:\n                            <div className=\"btn-group\">\n                                <button className=\"btn btn-success view\" onMouseUp={this.elementView}><FontAwesomeIcon icon=\"eye\" /></button>\n                                {this.props.rowActions}\n                            </div>\n                    }\n                ])}\n                data={dataById}\n                defaultSort={this.state.sort}\n                searchString={this.state.searchString}\n                onSort={this.onSort}\n            />\n        )\n    }\n\n    public render() {\n        return (\n            <Page title={this.props.title}>\n                <Row>\n                    <Column>\n                        <Panel\n                            actions={this.props.panelActions || []}\n                            title={\n                                <input id=\"search\" value={this.state.searchString} placeholder=\"Search...\" className=\"float-right form-control form-control-sm\" onChange={(event) => this.textSearch(event)} />\n                            }>\n                            {this.renderTable()}\n                        </Panel>\n                    </Column>\n                </Row>\n                {this.props.children}\n            </Page>\n        )\n    }\n}","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { faCheckCircle, faFileInvoiceDollar, faFileWord, faFilePdf, faExternalLinkAlt, faFileExcel, faPowerOff, faTrash, faSave, faAddressBook, faMapMarkerAlt, faDownload, faClipboard, faBars, faTachometerAlt, faUsers, faCircleNotch, faTimes, faCheck, faSortUp, faSortDown, faPencilAlt, faFileAlt, faEye, faFileSignature, faPlus, faList, faDollarSign, faUser, faAngleDown, faAngleUp, faMailBulk } from '@fortawesome/free-solid-svg-icons'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\n//@ts-ignore\nlibrary.add(fab, faCheckCircle, faFileInvoiceDollar, faFileWord, faFilePdf, faExternalLinkAlt, faFileExcel, faPowerOff, faTrash, faSave, faAddressBook, faMapMarkerAlt, faDownload, faClipboard, faBars, faTachometerAlt, faUsers, faCircleNotch, faTimes, faCheck, faSortUp, faSortDown, faPencilAlt, faFileAlt, faEye, faFileSignature, faPlus, faList, faDollarSign, faDollarSign, faUser, faAngleDown, faAngleUp, faMailBulk)\n","import { combineReducers, AnyAction } from \"redux\";\nimport { UIActions } from \"../actions/UIActions\";\nimport { toast } from 'react-toastify';\nimport CurrentDevice from 'current-device'\n\nexport interface UI {\n    navibar_open: boolean,\n    navibar_level: string,\n    notification: null\n}\n\n\nfunction NavibarToggle(state: boolean = !CurrentDevice.mobile(), action: AnyAction) {\n    switch (action.type) {\n        case UIActions.NAVIBAR_TOGGLE:\n            return !state\n        case UIActions.NAVIBAR_OPEN:\n            return true\n        case UIActions.NAVIBAR_CLOSE:\n            return false\n        default:\n            return state\n    }\n}\n\nfunction NavibarLevel(state: string = '', action: AnyAction) {\n    switch (action.type) {\n        case UIActions.NAVIBAR_LEVEL_OPEN:\n            return action.payload\n        case UIActions.NAVIBAR_LEVEL_COLLAPSE:\n            return ''\n        default:\n            return state\n    }\n}\n\nfunction Notify(state = null, action: AnyAction): null {\n    switch (action.type) {\n        case UIActions.NOTIFICATION_SUCCESS:\n            toast.success(action.payload, {\n                autoClose: 2000,\n                position: (CurrentDevice.mobile() ? 'bottom-center' : 'top-right')\n            })\n            return state\n        case UIActions.NOTIFICATION_ERROR:\n            toast.error(action.payload, {\n                autoClose: 2000,\n                position: (CurrentDevice.mobile() ? 'bottom-center' : 'top-right')\n            })\n            return state\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({ navibar_open: NavibarToggle, navibar_level: NavibarLevel, notification: Notify })","import { DataActions } from \"./../actions/DataActions\";\nimport { AnyAction, combineReducers } from \"redux\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\nimport { UIActions } from \"../actions/UIActions\";\nimport User from \"../entities/User\";\nimport Contact from \"../entities/Contact\";\nimport ContactGroup from \"../entities/ContactGroup\";\nimport Order from \"../entities/Order\";\nimport BillingReport from \"../entities/BillingReport\";\nimport Compensation from \"../entities/Compensation\";\nimport CollectionPoint from \"../entities/CollectionPoint\";\nimport Payout from \"../entities/Payout\";\nimport CustomCompensation from \"../entities/CustomCompensation\";\nimport OrderCompensation from \"../entities/OrderCompensation\";\n\nexport interface Data {\n    users: DataInterface<User>\n    user: SingleDataInterface<User>,\n    contacts: DataInterface<Contact>\n    members: DataInterface<Contact>\n    ranks: DataInterface<ContactGroup>\n    orders: DataInterface<Order>,\n    openOrders: DataInterface<Order>,\n    billingReports: DataInterface<BillingReport>,\n    compensationEntries: DataInterface<Compensation>,\n    mailingLists: StringIndexed<Array<string>>,\n    collectionPoints: DataInterface<CollectionPoint>,\n    payouts: DataInterface<Payout>\n}\n\nexport interface SingleDataInterface<T> {\n    loading: boolean,\n    data?: T\n}\n\nexport interface DataInterface<T> {\n    loading: boolean,\n    byId: StringIndexed<T>,\n    ids: Array<number>,\n    sort: { keys: Array<string>, direction: 'asc' | 'desc' }\n}\n\nfunction UserReducer(state: SingleDataInterface<User> = { loading: false, data: undefined }, action: AnyAction): SingleDataInterface<User> {\n    switch (action.type) {\n        case DataActions.FETCH_USER:\n            return Object.assign({}, state, { loading: true })\n        case DataActions.GOT_USER:\n            if (Object.keys(action.payload).length > 0) {\n                return { loading: false, data: action.payload }\n            } else {\n                return { loading: false, data: undefined }\n            }\n        case UIActions.LOGOUT:\n            return { loading: false, data: undefined }\n        default:\n            return state\n    }\n}\n\nfunction Users(state: DataInterface<User> = { loading: false, byId: {}, ids: [], sort: { keys: ['displayName'], direction: 'asc' } }, action: AnyAction): DataInterface<User> {\n    let byId: StringIndexed<User> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_USERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_USERS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let contact of action.payload) {\n                byId[contact.id] = contact\n                ids.push(contact.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Ranks(state: DataInterface<ContactGroup> = { loading: false, byId: {}, ids: [], sort: { keys: ['name'], direction: 'asc' } }, action: AnyAction): DataInterface<ContactGroup> {\n    let byId: StringIndexed<ContactGroup> = {}\n    let ids = []\n    switch (action.type) {\n        case DataActions.FETCH_RANKS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_RANKS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let rank of action.payload) {\n                byId[rank.id] = rank\n                ids.push(rank.id)\n            }\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Contacts(state: DataInterface<Contact> = { loading: false, byId: {}, ids: [], sort: { keys: ['lastname', 'firstname'], direction: 'asc' } }, action: AnyAction): DataInterface<Contact> {\n    let byId: StringIndexed<Contact> = {}\n    let ids = []\n    switch (action.type) {\n        case DataActions.FETCH_CONTACTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_CONTACTS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let contact of action.payload) {\n                byId[contact.id] = contact\n                ids.push(contact.id)\n            }\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Members(state: DataInterface<Contact> = { loading: false, byId: {}, ids: [], sort: { keys: ['lastname', 'firstname'], direction: 'asc' } }, action: AnyAction): DataInterface<Contact> {\n    let byId: StringIndexed<Contact> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_MEMBERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_MEMBERS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let contact of action.payload) {\n                byId[contact.id] = contact\n                ids.push(contact.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Orders(state: DataInterface<Order> = { loading: false, byId: {}, ids: [], sort: { keys: ['documentNr'], direction: 'desc' } }, action: AnyAction): DataInterface<Order> {\n    let byId: StringIndexed<Order> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_ORDERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_ORDERS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let order of action.payload) {\n                byId[order.id] = order\n                ids.push(order.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction OpenOrders(state: DataInterface<Order> = { loading: false, byId: {}, ids: [], sort: { keys: ['title'], direction: 'desc' } }, action: AnyAction): DataInterface<Order> {\n    let byId: StringIndexed<Order> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_OPEN_ORDERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_OPEN_ORDERS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let order of action.payload) {\n                byId[order.id] = order\n                ids.push(order.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\n\nfunction BillingReports(state: DataInterface<BillingReport> = { loading: false, byId: {}, ids: [], sort: { keys: ['orderDate'], direction: 'desc' } }, action: AnyAction): DataInterface<BillingReport> {\n    let byId: StringIndexed<BillingReport> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_BILLING_REPORTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_BILLING_REPORTS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let report of action.payload) {\n                byId[report.id] = report\n                ids.push(report.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        case DataActions.APPROVE_BILLING_REPORT:\n            byId = Object.assign({}, state.byId, Object.assign({}, state.byId[action.payload], { status: 'approved' }))\n            return Object.assign({}, state, { byId: byId })\n        default:\n            return state\n    }\n}\n\nfunction CompensationEntries(state: DataInterface<Compensation> = { loading: false, byId: {}, ids: [], sort: { keys: ['date'], direction: 'desc' } }, action: AnyAction): DataInterface<Compensation> {\n    let byId: StringIndexed<Compensation> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_COMPENSATION_ENTRIES:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_COMPENSATION_ENTRIES:\n            if (Object.keys(action.payload).length < 0) return state\n            for (let entry of action.payload) {\n                byId[entry.id] = entry\n                ids.push(entry.id)\n\n                if (!entry.hasOwnProperty('description')) {\n                    if (entry.hasOwnProperty('billingReport') && entry.billingReport.hasOwnProperty('order')) {\n                        // only show the contact if the contact is not a privat person (identified that companies doesn't have any firstname)\n                        if (entry.billingReport.order.hasOwnProperty('contact') && !entry.billingReport.order.contact.hasOwnProperty('firstname')) {\n                            byId[entry.id] = Object.assign(byId[entry.id], { description: `${entry.billingReport.order.title} (${entry.billingReport.order.contact.lastname})` })\n                        } else {\n                            byId[entry.id] = Object.assign(byId[entry.id], { description: `${entry.billingReport.order.title}` })\n                        }\n                    }\n                }\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        case DataActions.APPROVE_COMPENSATION_ENTRY:\n            byId = Object.assign({}, state.byId, Object.assign({}, state.byId[action.payload], { status: 'approved' }))\n            return Object.assign({}, state, { byId: byId })\n        default:\n            return state\n    }\n}\n\nfunction CollectionPoints(state: DataInterface<CollectionPoint> = { loading: false, byId: {}, ids: [], sort: { keys: ['city'], direction: 'desc' } }, action: AnyAction): DataInterface<CollectionPoint> {\n    let byId: StringIndexed<CollectionPoint> = {}\n    let ids: Array<number> = []\n    switch (action.type) {\n        case DataActions.FETCH_COLLECTION_POINTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_COLLECTION_POINTS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let entry of action.payload) {\n                byId[entry.id] = entry\n                ids.push(entry.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction MailingLists(state: StringIndexed<Array<string>> = {}, action: AnyAction): StringIndexed<Array<string>> {\n    switch (action.type) {\n        case DataActions.GOT_MEMBERS:\n            let mailingLists = { all: ([] as Array<string>), drivers: ([] as Array<string>), vks: ([] as Array<string>), squad: ([] as Array<string>), vst: ([] as Array<string>), con: ([] as Array<string>) }\n\n            for (let member of (action.payload as Array<Contact>)) {\n                mailingLists.all.push(member.mail)\n                if (member.mailSecond) mailingLists.all.push(member.mailSecond)\n                mailingLists.all = mailingLists.all.concat(member.moreMails || [])\n\n                // Drivers\n                if (member.contactGroups.find(group => group.bexioId === 9)) {\n                    mailingLists.drivers.push(member.mail)\n                    if (member.mailSecond) mailingLists.drivers.push(member.mailSecond)\n                    mailingLists.drivers = mailingLists.drivers.concat(member.moreMails || [])\n                }\n\n                // VKs\n                if (member.contactGroups.find(group =>\n                    group.bexioId === 17 ||\n                    group.bexioId === 13 ||\n                    group.bexioId === 11 ||\n                    group.bexioId === 12 ||\n                    group.bexioId === 28 ||\n                    group.bexioId === 29 ||\n                    group.bexioId === 15 ||\n                    group.bexioId === 27 ||\n                    group.bexioId === 26 ||\n                    group.bexioId === 10 ||\n                    group.bexioId === 14\n                )) {\n                    mailingLists.vks.push(member.mail)\n                    if (member.mailSecond) mailingLists.vks.push(member.mailSecond)\n                    mailingLists.vks = mailingLists.vks.concat(member.moreMails || [])\n                }\n\n                // Squad\n                if (member.contactGroups.find(group =>\n                    group.bexioId === 13 ||\n                    group.bexioId === 12 ||\n                    group.bexioId === 28 ||\n                    group.bexioId === 29 ||\n                    group.bexioId === 15 ||\n                    group.bexioId === 14\n                )) {\n                    mailingLists.squad.push(member.mail)\n                    if (member.mailSecond) mailingLists.squad.push(member.mailSecond)\n                    mailingLists.squad = mailingLists.squad.concat(member.moreMails || [])\n                }\n\n                // VST\n                if (member.contactGroups.find(group => group.bexioId === 16)) {\n                    mailingLists.vst.push(member.mail)\n                    if (member.mailSecond) mailingLists.vst.push(member.mailSecond)\n                    mailingLists.vst = mailingLists.vst.concat(member.moreMails || [])\n                }\n\n                // Condor\n                if (member.contactGroups.find(group => group.bexioId === 22)) {\n                    mailingLists.con.push(member.mail)\n                    if (member.mailSecond) mailingLists.con.push(member.mailSecond)\n                    mailingLists.con = mailingLists.con.concat(member.moreMails || [])\n                }\n            }\n            return mailingLists\n        default:\n            return state\n    }\n}\n\nfunction Payouts(state: DataInterface<Payout> = { loading: false, byId: {}, ids: [], sort: { keys: ['until'], direction: 'desc' } }, action: AnyAction): DataInterface<Payout> {\n    let byId: StringIndexed<Payout> = {}\n    let ids: Array<number> = []\n    switch (action.type) {\n        case DataActions.FETCH_PAYOUTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_PAYOUTS:\n            if (Object.keys(action.payload).length < 1) return state\n\n            for (let entry of action.payload as Array<Payout>) {\n                let byMember: StringIndexed<Array<Compensation>> = {}\n                for (let i in entry.compensations) {\n                    let compensation = entry.compensations[i]\n                    if (!compensation.hasOwnProperty('description')) {\n                        if (compensation.hasOwnProperty('billingReport') && (compensation as OrderCompensation).billingReport && (compensation as OrderCompensation).billingReport.hasOwnProperty('order')) {\n                            // only show the contact if the contact is not a privat person (identified that companies doesn't have any firstname)\n                            if ((compensation as OrderCompensation).billingReport.order.hasOwnProperty('contact') && !(compensation as OrderCompensation).billingReport.order.contact.hasOwnProperty('firstname')) {\n                                compensation = Object.assign(compensation, { description: `${(compensation as OrderCompensation).billingReport.order.title} (${(compensation as OrderCompensation).billingReport.order.contact.lastname})` })\n                            } else {\n                                compensation = Object.assign(compensation, { description: `${(compensation as OrderCompensation).billingReport.order.title}` })\n                            }\n                        }\n                    }\n\n                    entry.compensations[i] = compensation\n                    if (!byMember.hasOwnProperty(compensation.member.id)) byMember[compensation.member.id] = []\n                    byMember[compensation.member.id].push(compensation)\n                }\n                entry.compensationsByMember = byMember\n                entry.totalWithoutMinus = Object.keys(byMember).map(key => {\n                    let total = 0\n                    byMember[key].map(comp => total = total + comp.amount)\n                    if (total > 0) return total\n                    return 0\n                }).reduce((a, b) => a + b, 0)\n                byId[entry.id] = entry\n                ids.push(entry.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({ payouts: Payouts, collectionPoints: CollectionPoints, user: UserReducer, users: Users, contacts: Contacts, members: Members, ranks: Ranks, orders: Orders, openOrders: OpenOrders, billingReports: BillingReports, compensationEntries: CompensationEntries, mailingLists: MailingLists })\n","import UIReducer, { UI } from \"./UIReducer\";\nimport DataReducer, { Data } from \"./DataReducer\";\n\nexport interface State {\n    ui: UI,\n    data: Data\n}\n\nexport default { ui: UIReducer, data: DataReducer }","\nimport React, { Component } from \"react\";\nimport { Page } from \"../Page\";\n\nexport class Error403 extends Component {\n    public render() {\n        return (\n            <Page title=\"\">\n                <div className=\"gandalf\">\n                    <div className=\"fireball\"></div>\n                    <div className=\"skirt\"></div>\n                    <div className=\"sleeves\"></div>\n                    <div className=\"shoulders\">\n                        <div className=\"hand left\"></div>\n                        <div className=\"hand right\"></div>\n                    </div>\n                    <div className=\"head\">\n                        <div className=\"hair\"></div>\n                        <div className=\"beard\"></div>\n                    </div>\n                </div>\n                <div className=\"message\">\n                    <h1>403 - You Shall Not Pass</h1>\n                    <p>Uh oh, Gandalf is blocking the way!<br />Maybe you have a typo in the url? Or you meant to go to a different location? Like...Hobbiton?</p>\n                </div>\n            </Page>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { State } from '../reducers/IndexReducer';\nimport { AuthRoles } from '../interfaces/AuthRoles';\nimport User from '../entities/User';\nimport { RouteProps } from 'react-router';\nimport { Dispatch } from 'redux';\nimport { UI } from '../actions/UIActions';\nimport { Error403 } from './Errors/403';\n\nexport interface SecureRouteProps {\n    user?: User,\n    showError?: (message: string) => void\n    exact: boolean,\n    path: string,\n    roles: Array<AuthRoles>\n    component: any\n}\n\nexport default class _SecureRoute extends Component<RouteProps & SecureRouteProps> {\n    public render() {\n        for (let role of this.props.roles) {\n            if (this.props.user && (this.props.user.roles.includes(role) || this.props.user.roles.includes(AuthRoles.ADMIN))) {\n                return (\n                    <Route exact={this.props.exact} path={this.props.path} component={this.props.component} />\n                )\n            }\n        }\n\n        if (this.props.user && this.props.showError) {\n            this.props.showError('Not Authorized!')\n            return <Route exact={this.props.exact} path={this.props.path} component={Error403} />\n        }\n\n        return (\n            <Route exact={this.props.exact} path={this.props.path} component={() => {\n                return (<Redirect push to={{\n                    pathname: \"/login\",\n                    state: {\n                        prevLocation: (this.props.location || { pathname: '' }).pathname\n                    },\n                }} />)\n            }} />\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        showError: (message: string) => {\n            dispatch(UI.showError(message))\n        }\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user.data\n    }\n}\n\nexport const SecureRoute = connect(mapStateToProps, mapDispatchToProps)(_SecureRoute)","import React, { Component } from \"react\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport Panel from \"./Panel\";\nimport Loading from \"./Loading\";\nimport { AuthRoles } from \"../interfaces/AuthRoles\";\nimport Compensation from \"../entities/Compensation\";\nimport { RouteComponentProps } from \"react-router\";\nimport User from '../entities/User'\nimport Contact from '../entities/Contact'\nimport Table from \"./Table\";\nimport { Button } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataInterface } from \"../reducers/DataReducer\";\n\nexport interface ContactCompensationProps extends RouteComponentProps<{ id: string }> {\n    user: User,\n    contact: Contact,\n    loading: boolean,\n    fetchData: () => Promise<AnyAction>,\n    compensations: DataInterface<Compensation>,\n}\n\n\nexport interface ContactCompensationState {\n    openCompensationsSum: number,\n    compensations: Array<Compensation>\n}\n\nexport class _ContactCompensation extends Component<ContactCompensationProps, ContactCompensationState> {\n    constructor(props: ContactCompensationProps) {\n        super(props)\n\n        this.compensationView = this.compensationView.bind(this)\n\n        this.state = {\n            openCompensationsSum: 0,\n            compensations: []\n        }\n    }\n\n    private getContactCompensations(): Array<Compensation> {\n        if (this.props.compensations.ids.length <= 0) return []\n\n        const compensations: Array<Compensation> = []\n        this.props.compensations.ids.forEach(id => {\n            const compensation = this.props.compensations.byId[id]\n            if (compensation.member.id === this.props.contact.id && compensation.approved) {\n                compensations.push(compensation)\n            }\n\n        })\n        return compensations\n    }\n\n    public compensationView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/compensation/' + id)\n            } else {\n                this.props.history.push('/compensation/' + id)\n            }\n        }\n    }\n\n    public componentDidMount() {\n        this.props.fetchData()\n        const compensations = this.getContactCompensations()\n        this.setState({ openCompensationsSum: compensations.filter(a => !a.paied).reduce((a, b) => a + b.amount, 0), compensations })\n    }\n\n    public componentDidUpdate(prevProps: ContactCompensationProps) {\n        if (this.props.compensations.ids.length > 0 && this.props.loading === false && prevProps.compensations.ids.length !== this.props.compensations.ids.length) {\n            const compensations = this.getContactCompensations()\n            this.setState({ openCompensationsSum: compensations.filter(a => !a.paied).reduce((a, b) => a + b.amount, 0), compensations })\n        }\n    }\n\n    public render() {\n        const actions: Array<React.ReactElement> = [<Button variant=\"success\" className=\"view\" onMouseUp={this.compensationView}><FontAwesomeIcon icon=\"eye\" /></Button>]\n\n        if (this.props.user.roles.indexOf(AuthRoles.COMPENSATIONS_READ) < 0 && this.props.user.roles.indexOf(AuthRoles.ADMIN) < 0 && (this.props.user.bexioContact || { id: undefined }).id !== this.props.contact.id) {\n            return null\n        }\n\n        if (this.props.loading) {\n            return <Panel title=\"Entschdigungen\"><Loading /></Panel>\n        }\n\n        return (\n            <Panel title={`Entschdigungen (Offen: ${this.state.openCompensationsSum.toFixed(2)}.-)`} scrollable={true}>\n                <Table<Compensation>\n                    columns={[\n                        { text: 'Datum', keys: ['date'], sortable: true },\n                        { text: 'Beschreibung', keys: ['description'], sortable: true },\n                        { text: 'Betrag', keys: ['amount'], prefix: 'CHF ', sortable: true, format: 'toFixed(2)' },\n                        { text: 'Genehmigt', keys: ['approved'], sortable: true },\n                        { text: 'Ausbezahlt', keys: ['paied'], sortable: true },\n                        {\n                            text: 'Actions', keys: ['_id'], content: <div className=\"btn-group\">\n                                {actions}\n                            </div>\n                        }\n                    ]}\n                    defaultSort={{\n                        keys: ['date'],\n                        direction: 'desc'\n                    }}\n                    data={this.state.compensations}\n                />\n            </Panel>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        loading: state.data.contacts.loading || state.data.members.loading || state.data.compensationEntries.loading,\n        compensations: state.data.compensationEntries\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            return dispatch(Data.fetchCompensationEntries())\n        }\n    }\n}\n\n//@ts-ignore\nexport const ContactCompensation = connect(mapStateToProps, mapDispatchToProps)(_ContactCompensation)","import React, { Component } from \"react\";\nimport { Page } from '../components/Page'\nimport Panel from \"../components/Panel\";\nimport Column from \"../components/Column\";\nimport Row from \"../components/Row\";\nimport { Link } from \"react-router-dom\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { connect } from 'react-redux'\nimport { Data } from \"../actions/DataActions\";\nimport Loading from \"../components/Loading\";\nimport User from \"../entities/User\";\nimport { ContactCompensation } from \"../components/ContactCompensation\";\nimport { AuthRoles } from \"../interfaces/AuthRoles\";\n\nexport class _Dashboard extends Component<{ user: User, loading: boolean, fetchUser: Function }> {\n\n    public componentDidMount() {\n        this.props.fetchUser()\n    }\n\n    public renderShortcuts() {\n        const shortcuts = []\n        if(this.props.user.roles.indexOf(AuthRoles.BILLINGREPORTS_CREATE) > -1) {\n            shortcuts.push(<Link key=\"billingreport\" to=\"/billing-reports/add/\" className=\"btn btn-block btn-outline-primary\">Verrechnungsrapport erstellen</Link>)\n        }\n\n        if (this.props.user.bexioContact) {\n            shortcuts.push(<Link key=\"profile\" to={`/contact/${this.props.user.bexioContact.id}`} className=\"btn btn-block btn-outline-primary\">Mein Profil</Link>)\n        }\n        return shortcuts\n    }\n\n    public renderCompensations() {\n        if (this.props.user.bexioContact) {\n            return (\n                <Column className=\"col-md-6\">\n                    <ContactCompensation contact={this.props.user.bexioContact} {...this.props}/>\n                </Column>\n            )\n        }\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.user) {\n            return (\n                <Page title=\"Dashboard\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Dashboard\">\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Shortcuts\">\n                            {this.renderShortcuts()}\n                        </Panel>\n                    </Column>\n                    {this.renderCompensations()}\n                </Row>\n            </Page>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        loading: state.data.user.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchUser: () => {\n            dispatch(Data.fetchUser())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const Dashboard = connect(mapStateToProps, mapDispatchToProps)(_Dashboard)","import { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport { Link } from \"react-router-dom\";\nimport Button from './Button'\n\nexport interface ActionProps {\n    icon: IconProp,\n    to?: string,\n    onClick?: (event: React.MouseEvent<HTMLButtonElement>) => Promise<void>,\n    state?: any\n}\n\nexport default class Action extends Component<ActionProps> {\n    constructor(props: ActionProps) {\n        super(props)\n\n        this.onClick = this.onClick.bind(this)\n    }\n\n    private async onClick(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (this.props.onClick) await this.props.onClick(event)\n    }\n\n    public render() {\n        if (this.props.to) {\n            return (\n                <Link to={{\n                    pathname: this.props.to,\n                    state: this.props.state || {}\n                }}\n                    className=\"action-button btn btn-outline-dark\"\n                >\n                    <FontAwesomeIcon icon={this.props.icon} />\n                </Link>\n            )\n        }\n\n        return (\n            <Button onClick={this.onClick} variant=\"outline-dark\" className=\"action-button\">\n                <FontAwesomeIcon icon={this.props.icon} />\n            </Button>\n        )\n    }\n}","import { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataList, DataListProps } from \"../components/DataList\";\nimport Action from \"../components/Action\";\nimport React, { Component } from \"react\";\nimport Contact from \"../entities/Contact\";\nimport Xlsx from 'xlsx'\nimport Config from \"../Config\";\n\ninterface MembersProps extends DataListProps<Contact> {\n    memberlistPdf: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => Promise<void>\n}\n\nexport class _Members extends Component<MembersProps> {\n    constructor(props: MembersProps) {\n        super(props)\n\n        this.excelExport = this.excelExport.bind(this)\n    }\n\n    private async excelExport(event: React.MouseEvent<HTMLButtonElement>) {\n        let membersAsArray = []\n        for (let i in this.props.data.byId) {\n            let member = this.props.data.byId[i]\n            let germanizedMember = {\n                Nachname: member.lastname,\n                Vorname: member.firstname,\n                Rang: (member.rank || ''),\n                Funktionen: (member.functions || []).join(','),\n                Geburtstag: member.birthday,\n                Adresse: `${member.address}, ${member.postcode} ${member.city}`,\n                Abholpunkt: '',\n                'E-Mail': member.mail,\n                'E-Mail 2': member.mailSecond,\n                Festnetz: member.phoneFixed,\n                Mobile: member.phoneMobile\n            }\n\n            if (member.collectionPoint) germanizedMember.Abholpunkt = `(${member.collectionPoint.name}) ${member.collectionPoint.address}, ${member.collectionPoint.postcode} ${member.collectionPoint.city}`\n\n            membersAsArray.push(germanizedMember)\n        }\n        let sheet = Xlsx.utils.json_to_sheet(membersAsArray)\n        let book = Xlsx.utils.book_new()\n        Xlsx.utils.book_append_sheet(book, sheet, 'Mitglieder')\n        Xlsx.writeFile(book, 'Mitglieder.xlsx')\n    }\n\n    public render() {\n        return (\n            <DataList<Contact>\n                {...this.props}\n                panelActions={[\n                    <Action key=\"excel-export\" icon=\"file-excel\" onClick={this.excelExport} />,\n                    <Action key=\"pdf-export\" onClick={this.props.memberlistPdf} icon='file-pdf' />\n                ]}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.members,\n        title: 'Mitglieder',\n        viewLocation: '/contact/',\n        tableColumns: [\n            { text: 'Name', keys: ['lastname', 'firstname'], sortable: true, searchable: true },\n            { text: 'Grad', keys: ['rank'], sortable: true, searchable: true },\n            { text: 'Funktionen', keys: ['functions'], sortable: true, searchable: true },\n            { text: 'Addresse', keys: ['address', 'postcode', 'city'], link: true, linkPrefix: 'https://www.google.com/maps/search/', sortable: true, searchable: true },\n            { text: 'Abholpunkt', keys: { collectionPoint: ['address', 'postcode', 'city'] }, link: true, linkPrefix: 'https://www.google.com/maps/search/', sortable: true, searchable: true },\n            { text: 'Festnetz', keys: ['phoneFixed'], link: true, linkPrefix: 'tel:', sortable: true, searchable: true },\n            { text: 'Festnetz 2', keys: ['phoneFixedSecond'], link: true, linkPrefix: 'tel:', sortable: true, searchable: true },\n            { text: 'Mobile', keys: ['phoneMobile'], link: true, linkPrefix: 'tel:', sortable: true, searchable: true },\n            { text: 'E-Mail', keys: ['mail'], link: true, linkPrefix: 'mailto:', sortable: true, searchable: true },\n            { text: 'E-Mail 2', keys: ['mailSecond'], link: true, linkPrefix: 'mailto:', sortable: true, searchable: true },\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchMembers())\n        },\n        memberlistPdf: async () => {\n            window.open(`${Config.apiEndpoint}/api/members/pdf`)\n        }\n    }\n}\n\n\nexport const Members = connect(mapStateToProps, mapDispatchToProps)(_Members)","import React, { Component } from \"react\";\nimport Row from \"./Row\";\nimport Column from \"./Column\";\nimport Checkbox from \"./Checkbox\";\n\nexport default class FormEntry extends Component<{ id: string, title: string, editable?: boolean, value?: any, type?: string, onChange?: (event: React.ChangeEvent<HTMLSelectElement | HTMLInputElement | HTMLTextAreaElement>) => void }> {\n    public renderChildren() {\n        if (typeof this.props.value !== 'undefined') {\n            if (this.props.type === 'checkbox') {\n                let onChange = this.props.onChange || (() => { })\n\n                // little hack to disable the checkbox\n                if (!this.props.editable) onChange = () => { return false }\n\n                return <Checkbox id={this.props.id} checked={this.props.value} onChange={onChange} label='' />\n            } else if (this.props.type === 'textarea') {\n                return <textarea id={this.props.id} name={this.props.id} value={this.props.value} onChange={this.props.onChange} className={'form-entry form-control' + ((!this.props.editable) ? '-plaintext' : '')} readOnly={!this.props.editable} />\n            }\n\n            let value = this.props.value\n            if (this.props.type === 'date') {\n                let date = this.props.value\n                if (typeof this.props.value === 'string' && this.props.value !== '') {\n                    date = new Date(this.props.value)\n                    value = `${date.getFullYear()}-${('0' + (date.getMonth() + 1)).slice(-2)}-${('0' + date.getDate()).slice(-2)}`\n                } else if (this.props.value instanceof Date) {\n                    value = `${date.getFullYear()}-${('0' + (date.getMonth() + 1)).slice(-2)}-${('0' + date.getDate()).slice(-2)}`\n                } else {\n                    date = ''\n                }\n            }\n\n            return <input id={this.props.id} name={this.props.id} type={(this.props.type) ? this.props.type : 'text'} value={value} onChange={this.props.onChange} className={'form-entry form-control' + ((!this.props.editable) ? '-plaintext' : '')} readOnly={!this.props.editable} />\n        }\n\n        return this.props.children\n    }\n\n    public render() {\n        return (\n            <Row>\n                <Column className=\"col-6\">\n                    {this.props.title}\n                </Column>\n                <Column className=\"col-6\">\n                    {this.renderChildren()}\n                </Column>\n            </Row>\n        )\n    }\n}","import User from \"./User\";\n\nexport default abstract class Base {\n    public id: number\n\n    public updatedAt: Date\n}","import Base from \"./Base\";\n\nexport default class CollectionPoint extends Base {\n    public name: string\n    public address: string\n    public postcode: string\n    public city: string\n}","import React, { Component } from \"react\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport Select from 'react-select'\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport { ValueType } from \"react-select/lib/types\";\nimport { connect } from 'react-redux';\nimport CollectionPoint from \"../entities/CollectionPoint\";\n\ninterface CollectionPointSelectProps {\n    defaultValue?: Array<CollectionPoint>,\n    isMulti?: boolean\n    onChange: Function,\n    collectionPoints: DataInterface<CollectionPoint>,\n    loading: boolean,\n    ref?: Function,\n    fetchCollectionPoints: Function\n}\n\nexport class _CollectionPointSelect extends Component<CollectionPointSelectProps, { value?: Array<{ label: string, value: string }> }> {\n    constructor(props: CollectionPointSelectProps) {\n        super(props)\n\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let collectionPoint of this.props.defaultValue) {\n                if (collectionPoint && Object.keys(collectionPoint).length > 0) {\n                    valueProps.push({\n                        value: collectionPoint.id.toString(),\n                        label: `(${collectionPoint.name}) ${collectionPoint.address}, ${collectionPoint.postcode} ${collectionPoint.city}`,\n                    })\n                }\n            }\n\n            this.state = {\n                value: valueProps\n            }\n        } else {\n            this.state = {}\n        }\n    }\n\n    public componentDidUpdate() {\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let collectionPoint of this.props.defaultValue) {\n                if (collectionPoint && Object.keys(collectionPoint).length > 0) {\n                    valueProps.push({\n                        value: collectionPoint.id.toString(),\n                        label: `(${collectionPoint.name}) ${collectionPoint.address}, ${collectionPoint.postcode} ${collectionPoint.city}`,\n                    })\n                }\n            }\n\n            if (JSON.stringify(this.state.value) !== JSON.stringify(valueProps)) {\n                this.setState({\n                    value: valueProps\n                })\n            }\n        }\n    }\n\n    public componentWillMount() {\n        if (this.props.collectionPoints.ids.length < 1) {\n            this.props.fetchCollectionPoints()\n        }\n    }\n\n    private prepareOptions() {\n        let options = []\n        if (Object.keys(this.props.collectionPoints.byId).length > 0) {\n            for (let i in this.props.collectionPoints.byId) {\n                let collectionPoint = this.props.collectionPoints.byId[i]\n                options.push({\n                    label: `(${collectionPoint.name}) ${collectionPoint.address}, ${collectionPoint.postcode} ${collectionPoint.city}`,\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onChange(opt: ValueType<{ label: string, value: string }>) {\n        let ops: Array<{ label: string, value: string }> = [opt as { label: string, value: string }]\n        if (this.props.isMulti) {\n            ops = opt as Array<{ label: string, value: string }>\n        }\n\n        this.setState({\n            value: ops\n        })\n\n        let collectionPoints = []\n        for (let o of ops) {\n            if (o) {\n                collectionPoints.push(this.props.collectionPoints.byId[o.value])\n            }\n        }\n\n        if (this.props.onChange) {\n            if (this.props.isMulti) {\n                this.props.onChange(collectionPoints)\n            } else {\n                this.props.onChange(collectionPoints[0])\n            }\n        }\n    }\n\n    private prepareValue() {\n        if (this.props.isMulti) {\n            return this.state.value || []\n        }\n\n        return (this.state.value || [])[0]\n    }\n\n    public render() {\n        if (!this.props.loading) {\n            return (<Select\n                ref={(select: any) => { if (this.props.ref) this.props.ref(select) }}\n                isClearable={true}\n                options={this.prepareOptions()}\n                backspaceRemovesValue={true}\n                hideSelectedOptions={true}\n                openMenuOnFocus={true}\n                isMulti={this.props.isMulti || false}\n                onChange={this.onChange.bind(this)}\n                value={this.prepareValue()}\n            />)\n        }\n\n        return null\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        collectionPoints: state.data.collectionPoints,\n        loading: state.data.collectionPoints.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchCollectionPoints: () => {\n            dispatch(Data.fetchCollectionPoints())\n        }\n    }\n}\n\n//@ts-ignore\nexport const CollectionPointSelect = connect(mapStateToProps, mapDispatchToProps)(_CollectionPointSelect)","import React, { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport FormEntry from \"../components/FormEntry\";\nimport Loading from \"../components/Loading\";\nimport * as ContactEntity from \"../entities/Contact\";\nimport ContactGroup from \"../entities/ContactGroup\";\nimport Action from \"../components/Action\";\nimport CollectionPoint from \"../entities/CollectionPoint\";\nimport { CollectionPointSelect } from \"../components/CollectionPointSelect\";\nimport { EditMember } from \"../interfaces/Member\";\nimport User from \"../entities/User\";\nimport { AuthRoles } from \"../interfaces/AuthRoles\";\nimport { RouteComponentProps } from \"react-router\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Button } from \"react-bootstrap\";\nimport { ContactCompensation } from \"../components/ContactCompensation\";\nimport { Error403 } from \"../components/Errors/403\";\n\nexport interface ContactProps extends RouteComponentProps<{ id: string }> {\n    user: User,\n    contact: ContactEntity.default,\n    loading: boolean,\n    loadContacts: () => Promise<void>,\n    editMember: (data: EditMember) => Promise<void>\n}\n\nexport interface ContactState {\n    editable: boolean,\n    collectionPoint: CollectionPoint,\n    entryDate?: string,\n    exitDate?: string,\n    bankName?: string,\n    iban?: string,\n    accountHolder?: string,\n    moreMails: Array<string>,\n}\n\nexport default class _Contact extends Component<ContactProps, ContactState> {\n    private groups: Array<ContactGroup>\n\n    constructor(props: ContactProps) {\n        super(props)\n        this.groups = []\n\n        if (!this.props.contact && !this.props.loading) {\n            this.props.loadContacts()\n        }\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n        this.onAbort = this.onAbort.bind(this)\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.renderCollectionPoint = this.renderCollectionPoint.bind(this)\n        this.renderPanelActions = this.renderPanelActions.bind(this)\n        this.onMoreMailsChange = this.onMoreMailsChange.bind(this)\n\n        const contact = this.props.contact || {}\n\n        this.state = {\n            editable: false,\n            collectionPoint: contact.collectionPoint || new CollectionPoint(),\n            entryDate: (contact.entryDate) ? contact.entryDate.toLocaleDateString() : '',\n            exitDate: (contact.exitDate) ? contact.exitDate.toLocaleDateString() : '',\n            bankName: contact.bankName || '',\n            iban: contact.iban || '',\n            accountHolder: contact.accountHolder || '',\n            moreMails: contact.moreMails || [],\n        }\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLSelectElement | HTMLInputElement | HTMLTextAreaElement>) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private onMoreMailsChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            moreMails: Object.assign([], this.state.moreMails, { [name]: value })\n        })\n    }\n\n    private removeMoreMailEntry(index: number) {\n        this.setState({\n            moreMails: [...this.state.moreMails.slice(0, index), ...this.state.moreMails.slice(index + 1)]\n        })\n    }\n\n    public componentDidUpdate(prevProps: ContactProps) {\n        if (this.props.contact && !prevProps.contact) {\n            this.setState({\n                collectionPoint: this.props.contact.collectionPoint || new CollectionPoint(),\n                entryDate: (this.props.contact.entryDate) ? this.props.contact.entryDate.toLocaleDateString() : '',\n                exitDate: (this.props.contact.exitDate) ? this.props.contact.exitDate.toLocaleDateString() : '',\n                bankName: this.props.contact.bankName || '',\n                iban: this.props.contact.iban || '',\n                accountHolder: this.props.contact.accountHolder || '',\n                moreMails: this.props.contact.moreMails || []\n            })\n        }\n    }\n\n\n    private async onSave() {\n        if (this.props.contact.contactGroups.find(group => group.bexioId === 7)) {\n            await this.props.editMember({\n                id: this.props.contact.id,\n                collectionPointId: (this.state.collectionPoint || { id: undefined }).id,\n                entryDate: (this.state.entryDate) ? new Date(this.state.entryDate) : '',\n                exitDate: (this.state.exitDate) ? new Date(this.state.exitDate) : '',\n                bankName: this.state.bankName,\n                iban: this.state.iban,\n                accountHolder: this.state.accountHolder,\n                moreMails: this.state.moreMails.filter(el => el !== \"\")\n            })\n\n            this.setState({ editable: false })\n        }\n    }\n\n    public async onAbort(event: React.MouseEvent<HTMLElement>) {\n        this.setState({\n            editable: false,\n            collectionPoint: this.props.contact.collectionPoint || new CollectionPoint(),\n            entryDate: (this.props.contact.entryDate) ? this.props.contact.entryDate.toLocaleDateString() : '',\n            exitDate: (this.props.contact.exitDate) ? this.props.contact.exitDate.toLocaleDateString() : '',\n            bankName: this.props.contact.bankName || '',\n            iban: this.props.contact.iban || '',\n            accountHolder: this.props.contact.accountHolder || '',\n            moreMails: this.props.contact.moreMails || []\n        })\n    }\n\n    private onSelectChange(state: string): (opts: CollectionPoint) => void {\n        return (opts: CollectionPoint) => {\n            //@ts-ignore\n            this.setState({ [state]: opts })\n        }\n    }\n\n    private renderCollectionPoint() {\n        if (this.state.editable) {\n            return <CollectionPointSelect multi={false} onChange={this.onSelectChange('collectionPoint')} defaultValue={[this.state.collectionPoint] || undefined} />\n        }\n        if (this.state.collectionPoint &&\n            this.state.collectionPoint.hasOwnProperty('address') &&\n            this.state.collectionPoint.hasOwnProperty('postcode') &&\n            this.state.collectionPoint.hasOwnProperty('city')) {\n            return <a\n                href={`https://www.google.com/maps/search/${this.state.collectionPoint.address}, ${this.state.collectionPoint.postcode} ${this.state.collectionPoint.city}`}\n                target='_blank'>\n                {`${this.state.collectionPoint.address}, ${this.state.collectionPoint.postcode} ${this.state.collectionPoint.city}`}\n            </a>\n        }\n\n        return null\n    }\n\n    private renderPanelActions() {\n        if (this.state.editable) {\n            return [\n                <Action icon=\"save\" key=\"save\" onClick={this.onSave} />,\n                <Action icon=\"times\" key=\"cancel\" onClick={this.onAbort} />\n            ]\n        }\n\n        if (!!this.props.user.roles.indexOf(AuthRoles.MEMBERS_EDIT) || !!this.props.user.roles.indexOf(AuthRoles.CONTACTS_EDIT) || !!this.props.user.roles.indexOf(AuthRoles.ADMIN)) {\n            return [<Action icon=\"pencil-alt\" key=\"edit\" onClick={async () => { this.setState({ editable: true }) }} />]\n        }\n\n        return []\n    }\n\n    private renderActions() {\n        const actions = []\n        const isAdmin = !!this.props.user.roles.indexOf(AuthRoles.ADMIN)\n\n        if (this.props.user.roles.indexOf(AuthRoles.CONTACTS_READ) > -1 || isAdmin) {\n            actions.push(<a target=\"_blank\" href={\"https://office.bexio.com/index.php/kontakt/show/id/\" + this.props.contact.bexioId} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>)\n        }\n\n        if (this.props.user.roles.indexOf(AuthRoles.MEMBERS_READ) > -1 || isAdmin) {\n            actions.push(<a target=\"_blank\" href={\"https://vkazu.sharepoint.com/leitung/Personalakten?viewpath=/leitung/Personalakten&id=/leitung/Personalakten/\" + this.props.contact.firstname + \" \" + this.props.contact.lastname} className=\"btn btn-block btn-outline-primary\">Personalakte ffnen</a>)\n        }\n\n        if (actions.length > 0) {\n            return (\n                <Panel title=\"Actions\">\n                    {actions}\n                </Panel>\n            )\n        }\n\n        return null\n    }\n\n\n    public render() {\n        if (parseInt(this.props.match.params.id) !== (this.props.user.bexioContact || { id: undefined }).id && (this.props.user.roles.indexOf(AuthRoles.CONTACTS_READ) < 0 && this.props.user.roles.indexOf(AuthRoles.ADMIN) < 0)) {\n            return <Error403 />\n        }\n\n        if (this.props.loading || !this.props.contact) {\n            return (\n                <Page title=\"Kontakt\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        this.groups = this.props.contact.contactGroups as Array<ContactGroup>\n\n        let address = this.props.contact.address + ', ' + this.props.contact.postcode + ' ' + this.props.contact.city\n\n        return (\n            <Page title={this.props.contact.firstname + ' ' + this.props.contact.lastname}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Persnliche Informationen\" actions={this.renderPanelActions()}>\n                            <div className=\"container-fluid\">\n                                <FormEntry id=\"firstname\" title=\"Vorname\" >{this.props.contact.firstname}</FormEntry>\n                                <FormEntry id=\"lastname\" title=\"Nachname\" >{this.props.contact.lastname}</FormEntry>\n                                <FormEntry id=\"rank\" title=\"Rang\">{this.props.contact.rank}</FormEntry>\n                                <FormEntry id=\"birthday\" title=\"Geburtstag\">{new Date(this.props.contact.birthday).toLocaleDateString()}</FormEntry>\n                                <FormEntry id=\"address\" title=\"Adresse\"><a href={'https://www.google.com/maps/search/' + address} target='_blank'>{address}</a></FormEntry>\n                                <FormEntry id=\"collectionPoint\" title=\"Abholpunkt\">\n                                    {this.renderCollectionPoint()}\n                                </FormEntry>\n                                <FormEntry id=\"phoneFixed\" title=\"Festnetz\"><a href={'tel:' + this.props.contact.phoneFixed}>{this.props.contact.phoneFixed}</a></FormEntry>\n                                <FormEntry id=\"phoneFixedSecond\" title=\"Festnetz 2\"><a href={'tel:' + this.props.contact.phoneFixedSecond}>{this.props.contact.phoneFixedSecond}</a></FormEntry>\n                                <FormEntry id=\"phoneMobile\" title=\"Mobile\"><a href={'tel:' + this.props.contact.phoneMobile}>{this.props.contact.phoneMobile}</a></FormEntry>\n                                <FormEntry id=\"mail\" title=\"E-Mails\">\n                                    <a href={`mailto:${this.props.contact.mail}`}>{this.props.contact.mail}</a> <br />\n                                    <a href={`mailto:${this.props.contact.mailSecond}`}>{this.props.contact.mailSecond}</a> <br />\n                                    {[...this.state.moreMails].map((el, index) => {\n                                        if (this.state.editable) {\n                                            return (\n                                                <div className=\"input-group\">\n                                                    <input type=\"email\" className=\"form-control\" value={el} key={index.toString()} name={index.toString()} onChange={this.onMoreMailsChange} />\n                                                    <div className=\"input-group-append\">\n                                                        <Button className=\"btn-outline-secondary\" onClick={this.removeMoreMailEntry.bind(this, index)}>\n                                                            <FontAwesomeIcon icon=\"times\" />\n                                                        </Button>\n                                                    </div>\n                                                </div>\n                                            )\n                                        }\n                                        return <><a href={`mailto:${el}`}>{el}</a><br /></>\n                                    })}\n                                    {this.state.editable && <Button className=\"btn-outline btn-block\" onClick={() => { this.setState({ moreMails: [...this.state.moreMails, ''] }) }}>Hinzufgen</Button>}\n                                </FormEntry>\n                                <FormEntry id=\"groups\" title=\"Gruppen\">\n                                    {(this.groups) ? this.groups.map((group: ContactGroup) => {\n                                        return <span className=\"badge badge-primary\">{group.name}</span>\n                                    }) : ''}\n                                </FormEntry>\n                                <FormEntry id=\"entryDate\" title=\"Eintrittsdatum\" type=\"date\" editable={this.state.editable} value={this.state.entryDate} onChange={this.onInputChange} />\n                                <FormEntry id=\"exitDate\" title=\"Austrittsdatum\" type=\"date\" editable={this.state.editable} value={this.state.exitDate} onChange={this.onInputChange} />\n                                <FormEntry id=\"remarks\" title=\"Bemerkungen\" >{this.props.contact.remarks}</FormEntry>\n                            </div>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Finanzen\">\n                            <div className=\"container-fluid\">\n                                <FormEntry id=\"bankName\" title=\"Bank\" value={this.state.bankName} editable={this.state.editable} onChange={this.onInputChange} />\n                                <FormEntry id=\"iban\" title=\"IBAN\" value={this.state.iban} editable={this.state.editable} onChange={this.onInputChange} />\n                                <FormEntry id=\"accountHolder\" title=\"Kontoinhaber\" value={this.state.accountHolder} editable={this.state.editable} onChange={this.onInputChange} />\n                            </div>\n                        </Panel>\n                        {this.renderActions()}\n                    </Column>\n                </Row>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <ContactCompensation contact={this.props.contact}  {...this.props} />\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        contact: state.data.contacts.byId[props.match.params.id] || state.data.members.byId[props.match.params.id],\n        loading: state.data.contacts.loading || state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        loadContacts: () => {\n            return dispatch(Data.fetchContacts())\n        },\n        editMember: (data: EditMember) => {\n            return dispatch(Data.editMember(data))\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const Contact = connect(mapStateToProps, mapDispatchToProps)(_Contact)","import { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\n\n\nimport { DataList } from '../components/DataList'\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.orders,\n        viewLocation: '/order/',\n        title: 'Auftrge',\n        tableColumns: [\n            { text: 'Auftragsnummer', keys: ['documentNr'], sortable: true, searchable: true },\n            { text: 'Titel', keys: ['title'], sortable: true, searchable: true },\n            { text: 'Kunde', keys: { 'contact': ['firstname', 'lastname'] }, sortable: true, searchable: true },\n            { text: 'Total', keys: ['total'], sortable: true, prefix: 'CHF ', searchable: true },\n            { text: 'Auftragsdaten', keys: ['execDates']}\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchOrders())\n        }\n    }\n}\n\nexport const Orders = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport FormEntry from \"../components/FormEntry\";\nimport * as OrderEntity from \"../entities/Order\";\nimport Position from \"../entities/Position\";\nimport Loading from \"../components/Loading\";\n\nexport interface OrderProps {\n    order: OrderEntity.default,\n    loading: boolean,\n    loadOrders: Function,\n}\n\nexport default class _Order extends Component<OrderProps> {\n    constructor(props: OrderProps) {\n        super(props)\n\n        if (!this.props.order && !this.props.loading) {\n            this.props.loadOrders()\n        }\n    }\n\n    private renderPositions() {\n        let positionsRendered = []\n        for (let position of (this.props.order.positions as Position[])) {\n            positionsRendered.push(\n                <Row className=\"position\">\n                    <Column className=\"col-1\">\n                        {position.pos}\n                    </Column>\n                    <Column>\n                        <div dangerouslySetInnerHTML={{ __html: position.text || '' }}></div>\n                    </Column>\n                    {(position.positionTotal) ? <Column className=\"col-2\">CHF {position.positionTotal}</Column> : ''}\n                </Row>\n            )\n        }\n\n        return positionsRendered;\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.order) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        if (this.props.order.execDates instanceof Date) {\n            this.props.order.execDates = [this.props.order.execDates]\n        }\n\n        return (\n            <Page title={this.props.order.title}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <div className=\"container-fluid\">\n                                <FormEntry id=\"title\" title=\"Titel\" >{this.props.order.title}</FormEntry>\n                                <FormEntry id=\"customer\" title=\"Kunde\">{`${this.props.order.contact.firstname} ${this.props.order.contact.lastname}`}</FormEntry>\n                                <FormEntry id=\"documentNr\" title=\"Auftragsnummer\" >{this.props.order.documentNr}</FormEntry>\n                                <FormEntry id=\"deliveryAddress\" title=\"Lieferadresse\">{this.props.order.deliveryAddress}</FormEntry>\n                                <FormEntry id=\"executionDates\" title=\"Auftragsdaten\">\n                                    {(this.props.order.execDates) ? this.props.order.execDates.map((date: Date) => {\n                                        return <span className=\"badge badge-secondary\">{date.toLocaleDateString()}</span>\n                                    }) : ''}\n                                </FormEntry>\n                            </div>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            <a target=\"_blank\" href={`https://office.bexio.com/index.php/kb_order/show/id/${this.props.order.bexioId}`} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column className=\"col\">\n                        <Panel title=\"Positionen\">\n                            <div className=\"container-fluid\">\n                                {this.renderPositions()}\n                                <Row className=\"position\">\n                                    <Column className=\"col-1\">\n                                    </Column>\n                                    <Column>\n                                        <strong>Total</strong>\n                                    </Column>\n                                    <Column className=\"col-2\">\n                                        CHF {this.props.order.total}\n                                    </Column>\n                                </Row>\n                            </div>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        order: state.data.orders.byId[props.match.params.id],\n        loading: state.data.orders.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        loadOrders: () => {\n            dispatch(Data.fetchOrders())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const Order = connect(mapStateToProps, mapDispatchToProps)(_Order)","import { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataList } from \"../components/DataList\";\n\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.billingReports,\n        title: 'Verrechnungsrapporte',\n        viewLocation: '/billing-report/',\n        tableColumns: [\n            { text: 'Datum', keys: ['date'], sortable: true },\n            { text: 'Auftrag Nr', keys: { 'order': ['documentNr'] }, sortable: true, searchable: true },\n            { text: 'Auftrag Titel', keys: { 'order': ['title'] }, sortable: true, searchable: true },\n            { text: 'Ersteller', keys: { 'creator': ['displayName'] }, sortable: true, searchable: true },\n            { text: 'Status', keys: ['state'], sortable: true, searchable: true }\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchBillingReports())\n        }\n    }\n}\n\n//@ts-ignore\nexport const BillingReports = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from 'react'\nimport { Modal as BootstrapModal, Button } from 'react-bootstrap'\n\nexport interface ModalProps {\n    show: boolean,\n    onHide?: () => void\n    header: JSX.Element,\n    body: JSX.Element,\n    footer: JSX.Element\n}\n\nexport default class Modal extends Component<ModalProps> {\n    constructor(props: ModalProps) {\n        super(props)\n\n        this.handleClose = this.handleClose.bind(this)\n    }\n\n    private handleClose() {\n        if (this.props.onHide) {\n            this.props.onHide()\n        }\n    }\n\n    public render() {\n        return (\n            <BootstrapModal show={this.props.show} onHide={this.handleClose} dialogClassName=\"modal-lg\">\n                <BootstrapModal.Header closeButton>\n                    {this.props.header}\n                </BootstrapModal.Header>\n                <BootstrapModal.Body>\n                    {this.props.body}\n                </BootstrapModal.Body>\n                <BootstrapModal.Footer>\n                    {this.props.footer}\n                </BootstrapModal.Footer>\n            </BootstrapModal>\n        )\n    }\n}","import { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataList, DataListProps } from \"../components/DataList\";\nimport React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Compensation from \"../entities/Compensation\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport Modal from \"../components/Modal\";\nimport { Button, ButtonGroup } from \"react-bootstrap\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\n\ninterface CompensationsProps extends DataListProps<Compensation> {\n    delete: (id: number) => void\n}\n\nexport class _Compensations extends Component<CompensationsProps & RouteComponentProps, { modalShow: boolean, toDeleteCompensation?: Compensation }> {\n    constructor(props: CompensationsProps & RouteComponentProps) {\n        super(props)\n\n        this.deleteCompensation = this.deleteCompensation.bind(this)\n        this.deleteCompensationConfirmed = this.deleteCompensationConfirmed.bind(this)\n        this.showModal = this.showModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n\n        this.state = { modalShow: false }\n    }\n\n    private deleteCompensation(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n            if (id) {\n                this.setState({\n                    toDeleteCompensation: this.props.data.byId[id],\n                    modalShow: true\n                })\n            }\n        }\n    }\n\n    private deleteCompensationConfirmed() {\n        if (this.state.toDeleteCompensation) {\n            this.props.delete(this.state.toDeleteCompensation.id)\n            this.setState({\n                toDeleteCompensation: undefined,\n                modalShow: false\n            })\n        }\n    }\n\n    private showModal() {\n        this.setState({\n            modalShow: true\n        })\n    }\n\n    private hideModal() {\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private renderModal() {\n        if (this.state.toDeleteCompensation) {\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>{(this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname + ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString()}</h3>}\n                    body={\n                        <span>\n                            {\n                                'Willst du die Entschdigung von ' +\n                                (this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname +\n                                ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString() + ' mit einem Betrag von CHF' +\n                                (this.state.toDeleteCompensation as Compensation).amount + ' wirklich lschen?'\n                            }\n                        </span>\n                    }\n                    footer={\n                        <ButtonGroup>\n                            <Button variant=\"danger\" onClick={this.deleteCompensationConfirmed}>Lschen</Button>\n                            <Button variant=\"secondary\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>\n                    }\n\n                />\n            )\n        }\n\n        return null\n    }\n\n    public render() {\n        return (\n            <DataList<Compensation>\n                title='Entschdigungen'\n                viewLocation='/compensation/'\n                rowActions={[\n                    <button className=\"btn btn-danger delete\" onMouseUp={this.deleteCompensation}><FontAwesomeIcon icon=\"trash\" /></button>\n                ]}\n                tableColumns={[\n                    { text: 'Mitglied', keys: { 'member': ['firstname', 'lastname'] }, sortable: true, searchable: true },\n                    { text: 'Datum', keys: ['date'], sortable: true },\n                    { text: 'Betrag', keys: ['amount'], sortable: true, prefix: 'CHF ', format: 'toFixed(2)' },\n                    { text: 'Beschreibung', keys: ['description'], sortable: false, searchable: true },\n                    { text: 'Ersteller', keys: { 'creator': ['displayName'] }, sortable: true },\n                    { text: 'Genehmigt', keys: ['approved'], sortable: true },\n                    { text: 'Ausbezahlt', keys: ['paied'], sortable: true }\n                ]}\n                data={this.props.data}\n                fetchData={this.props.fetchData}\n                history={this.props.history}\n            >\n                {this.renderModal()}\n            </DataList>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.compensationEntries,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchCompensationEntries())\n        },\n        delete: (id: number) => {\n            dispatch(Data.deleteCompensationEntry(id))\n        }\n    }\n}\n\n//@ts-ignore\nexport const Compensations = connect(mapStateToProps, mapDispatchToProps)(_Compensations)","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { State } from '../reducers/IndexReducer';\nimport { History, Location } from \"history\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { SingleDataInterface } from \"../reducers/DataReducer\";\nimport Loading from \"../components/Loading\";\nimport { UI } from \"../actions/UIActions\";\nimport Config from \"../Config\";\nimport User from \"../entities/User\";\n\nexport interface LoginProps {\n    user: SingleDataInterface<User>,\n    history: History,\n    location: Location,\n    fetchUser: Function,\n    showError: (message?: string) => void,\n    showSuccess: (message?: string) => void\n}\n\nexport class _Login extends Component<LoginProps, { loaded: boolean }> {\n    private mounted = false\n\n    constructor(props: LoginProps) {\n        super(props)\n        this.state = {\n            loaded: false\n        }\n    }\n\n    public async componentDidMount() {\n        this.mounted = true\n        await this.props.fetchUser()\n\n        if (this.mounted) {\n            this.setState({\n                loaded: true\n            })\n        }\n    }\n\n    public async componentWillUnmount() {\n        this.mounted = false\n    }\n\n    public render() {\n        if (this.props.user.data) {\n            this.props.showSuccess('Willkommen zurck')\n\n            if (this.props.location.state && this.props.location.state.prevLocation) {\n                this.props.history.push(this.props.location.state.prevLocation)\n            } else {\n                this.props.history.push('/dashboard')\n            }\n            return null\n        } else if (this.props.user.loading || !this.state.loaded) {\n            return (<Loading fullscreen={true} />)\n        } else {\n            if (this.props.location.state && !this.props.location.state.errorShown) {\n                this.props.showError('Sorry.... zuerst einloggen!')\n                this.props.history.replace(this.props.location.pathname, Object.assign({}, this.props.location.state, { errorShown: true }))\n            }\n\n            return (\n                <div id=\"login\">\n                    <h2>Login</h2>\n                    < div className=\"form-group\" >\n                        <a className=\"btn btn-secondary btn-block\" href={Config.apiEndpoint + \"/api/auth/azure\"}>\n                            <FontAwesomeIcon icon={['fab', 'microsoft']} className=\"icon\"></FontAwesomeIcon>\n                            VK-Login\n                        </a>\n                    </div >\n                </div >\n            )\n        }\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchUser: () => {\n            return dispatch(Data.fetchUser())\n        },\n        showError: (message = \"Ooppss...! Versuche es spter erneut\") => {\n            dispatch(UI.showError(message))\n        },\n        showSuccess: (message = 'Yeeppiii') => {\n            dispatch(UI.showSuccess(message))\n        }\n    }\n}\n\nexport const Login = connect(mapStateToProps, mapDispatchToProps)(_Login)","import { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\n\n\nimport { DataList } from '../components/DataList'\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.users,\n        viewLocation: '/user/',\n        title: 'Benutzer',\n        tableColumns: [\n            { text: 'Name', keys: ['displayName'], sortable: true, searchable: true },\n            { text: 'Rechte', keys: ['roles'], sortable: true, searchable: true }\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchUsers())\n        }\n    }\n}\n\nexport const Users = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from 'react'\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { connect } from 'react-redux'\nimport { Data } from '../actions/DataActions';\nimport { Page } from '../components/Page';\nimport Loading from '../components/Loading';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport FormEntry from '../components/FormEntry';\nimport { Link } from 'react-router-dom';\nimport Table from '../components/Table';\nimport * as UserEntity from '../entities/User';\nimport Contact from '../entities/Contact';\n\nexport interface UserProps {\n    user: UserEntity.default,\n    loading: boolean,\n    fetchUsers: Function,\n}\n\nexport class _User extends Component<UserProps> {\n    constructor(props: UserProps) {\n        super(props)\n        this.props.fetchUsers()\n    }\n\n    public renderBexioPart() {\n        if (!this.props.user.bexioContact) {\n            return (<span>Kein Link gefunden....</span>)\n        }\n\n        let contact = this.props.user.bexioContact as Contact\n        return (\n            <div>\n                <FormEntry id=\"bexioId\" title=\"ID\">{contact.bexioId}</FormEntry>\n                <FormEntry id=\"firstname\" title=\"Vorname\">{contact.firstname}</FormEntry>\n                <FormEntry id=\"lastname\" title=\"Nachname\">{contact.lastname}</FormEntry>\n                <Link to={\"/contact/\" + contact.id} className=\"btn btn-block btn-outline-primary\">Kontakt ffnen</Link>\n                <a target=\"_blank\" href={\"https://office.bexio.com/index.php/kontakt/show/id/\" + contact.bexioId} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>\n            </div>\n        )\n    }\n\n    public renderRolePart() {\n        let roles: Array<{ role: string, id: string }> = []\n\n        for (let i in this.props.user.roles) {\n            roles.push({ role: this.props.user.roles[i], id: i })\n        }\n\n        return (\n            <Table<{ role: string, id: string }>\n                columns={[\n                    { text: 'Role', keys: ['role'] }\n                ]}\n                data={roles}\n            />\n        )\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.user) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        return (\n            <Page title={this.props.user.displayName}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Allgemeine Informationen\">\n                            <FormEntry id=\"displayName\" title=\"Name\">{this.props.user.displayName}</FormEntry>\n                        </Panel>\n                        <Panel title=\"Rechte\">\n                            {this.renderRolePart()}\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Bexio Informationen\">\n                            {this.renderBexioPart()}\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    if (props.location.pathname === '/me') {\n        return {\n            user: state.data.user.data,\n            loading: state.data.user.loading\n        }\n    }\n\n    return {\n        user: state.data.users.byId[props.match.params.id],\n        loading: state.data.users.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    if (props.location.pathname === '/me') {\n        return {\n            fetchUsers: () => {\n                dispatch(Data.fetchUser())\n            }\n        }\n    }\n\n    return {\n        fetchUsers: () => {\n            dispatch(Data.fetchUsers())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const User = connect(mapStateToProps, mapDispatchToProps)(_User)","import React, { Component } from \"react\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport Select from 'react-select'\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport { ValueType } from \"react-select/lib/types\";\nimport { connect } from 'react-redux';\nimport Order from \"../entities/Order\";\n\ninterface OrderSelectProps {\n    defaultValue?: Array<Order>,\n    isMulti?: boolean\n    onChange: Function,\n    orders: DataInterface<Order>,\n    loading: boolean,\n    ref?: Function,\n    fetchOrders: Function\n}\n\nexport class _OrderSelect extends Component<OrderSelectProps, { value?: Array<{ label: string, value: string }> }> {\n    constructor(props: OrderSelectProps) {\n        super(props)\n\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let order of this.props.defaultValue) {\n                valueProps.push({\n                    value: order.id.toString(),\n                    label: order.title\n                })\n            }\n\n            this.state = {\n                value: valueProps\n            }\n        } else {\n            this.state = {}\n        }\n    }\n\n    public componentDidUpdate() {\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let order of this.props.defaultValue) {\n                if (order.hasOwnProperty('id')) {\n                    valueProps.push({\n                        value: order.id.toString(),\n                        label: order.title\n                    })\n                }\n            }\n\n            if (JSON.stringify(this.state.value) !== JSON.stringify(valueProps)) {\n                this.setState({\n                    value: valueProps\n                })\n            }\n        }\n    }\n\n    public componentWillMount() {\n        if (this.props.orders.ids.length < 1) {\n            this.props.fetchOrders()\n        }\n    }\n\n    private prepareOptions() {\n        let options = []\n        if (Object.keys(this.props.orders.byId).length > 0) {\n            for (let i in this.props.orders.byId) {\n                let order = this.props.orders.byId[i]\n                options.push({\n                    label: order.title,\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onChange(opt: ValueType<{ label: string, value: string }>) {\n        let ops: Array<{ label: string, value: string }> = [opt as { label: string, value: string }]\n        if (this.props.isMulti) {\n            ops = opt as Array<{ label: string, value: string }>\n        }\n\n        this.setState({\n            value: ops\n        })\n\n        let orders = []\n        for (let o of ops) {\n            orders.push(this.props.orders.byId[o.value])\n        }\n        if (this.props.onChange) {\n            if (this.props.isMulti) {\n                this.props.onChange(orders)\n            } else {\n                this.props.onChange(orders[0])\n            }\n        }\n    }\n\n    private prepareValue() {\n        if (this.props.isMulti) {\n            return this.state.value || []\n        }\n\n        return (this.state.value || [])[0]\n    }\n\n    public render() {\n        if (!this.props.loading) {\n            return (<Select\n                ref={(select: any) => { if (this.props.ref) this.props.ref(select) }}\n                isClearable={true}\n                options={this.prepareOptions()}\n                backspaceRemovesValue={true}\n                hideSelectedOptions={true}\n                openMenuOnFocus={true}\n                isMulti={this.props.isMulti || false}\n                onChange={this.onChange.bind(this)}\n                value={this.prepareValue()}\n            />)\n        }\n\n        return null\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        orders: state.data.orders,\n        loading: state.data.orders.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchOrders: () => {\n            dispatch(Data.fetchOrders())\n        }\n    }\n}\n\n//@ts-ignore\nexport const OrderSelect = connect(mapStateToProps, mapDispatchToProps)(_OrderSelect)","import React, { Component } from 'react'\nimport { Page } from '../components/Page';\nimport Panel from '../components/Panel';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport FormEntry from '../components/FormEntry';\nimport { connect } from 'react-redux';\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { Data } from '../actions/DataActions';\nimport { AnyAction } from 'redux';\nimport Loading from '../components/Loading';\nimport Table from '../components/Table';\nimport StringIndexed from '../interfaces/StringIndexed';\nimport { History } from 'history'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { DataInterface } from '../reducers/DataReducer';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport * as BillingReportEntity from '../entities/BillingReport';\nimport OrderCompensation from '../entities/OrderCompensation';\nimport Order from '../entities/Order';\nimport User from '../entities/User';\nimport { AuthRoles } from '../interfaces/AuthRoles';\nimport Action from '../components/Action';\nimport Contact from '../entities/Contact';\nimport { OrderSelect } from '../components/OrderSelect';\nimport { MemberSelect } from '../components/MemberSelect';\nimport { EditBillingReport, BillingReportCompensationEntry } from '../interfaces/BillingReport';\nimport Compensation from '../entities/Compensation';\nimport Modal from '../components/Modal';\nimport { ButtonGroup } from 'react-bootstrap';\nimport AddBillingReportStep2 from './AddBillingReportSteps/AddBillingReportStep2';\nimport Button from '../components/Button';\n\nexport interface BillingReportProps extends RouteComponentProps<{ id: string }> {\n    billingReports: DataInterface<BillingReportEntity.default>,\n    orders: DataInterface<Order>,\n    loading: boolean,\n    fetchBillingReports: Function,\n    fetchOrders: Function,\n    history: History,\n    user: User,\n    approve: (id: string) => Promise<void>,\n    decline: (id: string) => Promise<void>,\n    edit: (data: EditBillingReport) => Promise<void>,\n    deleteCompensation: (id: number) => Promise<void>,\n    addCompensationEntries: (data: { billingReportId: number, entries: Array<BillingReportCompensationEntry> }) => Promise<void>\n}\n\ninterface BillingReportState {\n    informationEdit: boolean\n    order: Order\n    date: Date\n    els: Array<Contact>\n    drivers: Array<Contact>\n    food: boolean\n    remarks: string,\n    toDeleteCompensation?: Compensation,\n    modalShow: boolean\n}\n\nexport class _BillingReport extends Component<BillingReportProps, BillingReportState> {\n    private billingReport: BillingReportEntity.default;\n\n    constructor(props: BillingReportProps) {\n        super(props)\n\n        this.approve = this.approve.bind(this)\n        this.decline = this.decline.bind(this)\n        this.elementView = this.elementView.bind(this)\n\n        this.billingReport = this.props.billingReports.byId[parseInt(this.props.match.params.id)]\n        this.onInformationEdit = this.onInformationEdit.bind(this)\n        this.onAbort = this.onAbort.bind(this)\n        this.onInformationSave = this.onInformationSave.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n\n        this.getCompensationActions = this.getCompensationActions.bind(this)\n        this.deleteCompensation = this.deleteCompensation.bind(this)\n        this.deleteCompensationConfirmed = this.deleteCompensationConfirmed.bind(this)\n        this.addCompensations = this.addCompensations.bind(this)\n\n        this.showModal = this.showModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n\n        if (this.billingReport) {\n            this.state = {\n                informationEdit: false,\n                order: (this.billingReport.order as Order),\n                date: this.billingReport.date,\n                els: this.billingReport.els,\n                drivers: this.billingReport.drivers,\n                food: this.billingReport.food,\n                remarks: this.billingReport.remarks,\n                modalShow: false\n            }\n        }\n    }\n\n    public componentDidUpdate(prevProps: BillingReportProps) {\n        if (this.props.match.params.id !== prevProps.match.params.id) {\n            this.billingReport = this.props.billingReports.byId[parseInt(this.props.match.params.id)]\n\n            if (this.billingReport) {\n                this.setState({\n                    order: (this.billingReport.order as Order),\n                    date: this.billingReport.date,\n                    els: this.billingReport.els,\n                    drivers: this.billingReport.drivers,\n                    food: this.billingReport.food,\n                    remarks: this.billingReport.remarks\n                })\n            }\n        }\n    }\n\n    public componentWillMount() {\n        this.props.fetchBillingReports()\n        this.props.fetchOrders()\n    }\n\n    public approve(): Promise<void> {\n        return this.props.approve(this.billingReport.id.toString())\n    }\n\n    public decline(): Promise<void> {\n        return this.props.decline(this.billingReport.id.toString())\n    }\n\n    public async onInformationEdit(event: React.MouseEvent<HTMLElement>) {\n        this.setState({\n            informationEdit: true\n        })\n    }\n\n    public async onAbort(event: React.MouseEvent<HTMLElement>) {\n        this.setState({\n            informationEdit: false,\n            order: (this.billingReport.order as Order),\n            date: this.billingReport.date,\n            els: this.billingReport.els,\n            drivers: this.billingReport.drivers,\n            food: this.billingReport.food,\n            remarks: this.billingReport.remarks\n        })\n    }\n\n    public async onInformationSave(event: React.MouseEvent<HTMLElement>) {\n        await this.props.edit({\n            id: this.billingReport.id.toString(),\n            date: this.state.date,\n            drivers: this.state.drivers,\n            els: this.state.els,\n            food: this.state.food,\n            orderId: this.state.order.id,\n            remarks: this.state.remarks\n        })\n\n        this.setState({\n            informationEdit: false\n        })\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLSelectElement | HTMLInputElement | HTMLTextAreaElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? (target as HTMLInputElement).checked : target.value;\n        const id = target.id;\n\n        let dateValue\n        if (target.type === 'date' && typeof value === 'string') {\n            dateValue = new Date(value)\n        }\n\n        //@ts-ignore\n        this.setState({\n            [id]: dateValue || value\n        });\n    }\n\n    public onSelectChange(state: string): (opts: Array<Contact> | Order) => void {\n        return (opts: Array<Contact> | Order) => {\n            //@ts-ignore\n            this.setState({ [state]: opts })\n        }\n    }\n\n    public async elementView(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/compensation/' + id)\n            } else {\n                this.props.history.push('/compensation/' + id)\n            }\n        }\n    }\n\n    private async deleteCompensation(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n            if (id) {\n                this.setState({\n                    toDeleteCompensation: this.billingReport.compensations.find((compensation: Compensation) => compensation.id === parseInt(id || '')),\n                    modalShow: true\n                })\n            }\n        }\n    }\n\n    private async deleteCompensationConfirmed() {\n        if (this.state.toDeleteCompensation) {\n            await this.props.deleteCompensation(this.state.toDeleteCompensation.id)\n            this.setState({\n                toDeleteCompensation: undefined,\n                modalShow: false\n            })\n        }\n    }\n\n    private async addCompensations(data: StringIndexed<any>) {\n        let compensationEntries: Array<BillingReportCompensationEntry> = []\n        for (let i in data.vks) {\n            compensationEntries.push(data.vks[i])\n        }\n\n        await this.props.addCompensationEntries({\n            billingReportId: this.billingReport.id,\n            entries: compensationEntries\n        })\n\n        this.hideModal()\n    }\n\n    private async showModal() {\n        this.setState({\n            modalShow: true\n        })\n    }\n\n    private async hideModal(): Promise<boolean> {\n        this.setState({\n            modalShow: false\n        })\n\n        return true\n    }\n\n    public prepareCompensationsForTable() {\n        let compensations: StringIndexed<OrderCompensation> = {}\n        for (let compensation of (this.billingReport.compensations as Array<OrderCompensation>)) {\n            compensations[compensation.id] = compensation\n        }\n        return compensations\n    }\n\n    public renderActions() {\n        let actions = []\n\n        if (this.billingReport.state === 'pending' && (\n            this.props.user.roles.includes(AuthRoles.BILLINGREPORTS_APPROVE) ||\n            this.props.user.roles.includes(AuthRoles.ADMIN))) {\n            actions.push(\n                <Button id=\"approve\" block={true} variant=\"outline-success\" onClick={this.approve}>Genehmigen</Button>\n            )\n            //TODO: Disabled because of workflow missing for declined reports\n            /* actions.push(\n                <button id=\"decline\" block={true} variant=\"outline-danger\" onClick={this.decline}>Ablehnen</button>\n            ) */\n        }\n\n        actions.push(<Link to={`/order/${this.billingReport.order.id}`} className=\"btn btn-block btn-outline-primary\">Auftrag ffnen</Link>)\n\n        return actions\n    }\n\n    public renderOrder() {\n        if (this.state.informationEdit) {\n            return <OrderSelect defaultValue={[this.state.order]} onChange={this.onSelectChange('order')} />\n        }\n\n        return (this.state.order as Order).title\n    }\n\n    public renderEls() {\n        if (this.state.informationEdit) {\n            return <MemberSelect defaultValue={this.state.els} isMulti={true} onChange={this.onSelectChange('els')} />\n        }\n\n        return this.state.els.map(el => el.firstname + ' ' + el.lastname).join(',')\n    }\n\n    public renderDrivers() {\n        if (this.state.informationEdit) {\n            return <MemberSelect defaultValue={this.state.drivers} isMulti={true} onChange={this.onSelectChange('drivers')} />\n        }\n\n        return this.state.drivers.map(driver => driver.firstname + ' ' + driver.lastname).join(',')\n    }\n\n    public renderInformations() {\n        let statusBadgeClass = 'badge-success'\n        if (this.billingReport.state === 'pending') statusBadgeClass = 'badge-warning'\n        if (this.billingReport.state === 'declined') statusBadgeClass = 'badge-danger'\n\n        let panelActions = []\n        if (this.props.user.roles.includes(AuthRoles.ADMIN) ||\n            this.props.user.roles.includes(AuthRoles.BILLINGREPORTS_EDIT) ||\n            (this.billingReport.state === 'pending' && this.billingReport.creator.id === this.props.user.id)) {\n            if (!this.state.informationEdit) {\n                panelActions.push(<Action icon=\"pencil-alt\" key=\"edit\" onClick={this.onInformationEdit} />)\n            } else {\n                panelActions.push(<Action icon=\"save\" key=\"save\" onClick={this.onInformationSave} />)\n                panelActions.push(<Action icon=\"times\" key=\"edit\" onClick={this.onAbort} />)\n            }\n        }\n\n        return (\n            <Panel title=\"Informationen\" actions={panelActions} className={(this.state.informationEdit) ? 'editable' : ''}>\n                <FormEntry id=\"orderTitle\" title=\"Auftrag\">\n                    {this.renderOrder()}\n                </FormEntry>\n                <FormEntry id=\"date\" title=\"Datum\" value={this.state.date.toISOString().split('T')[0]} type='date' editable={this.state.informationEdit} onChange={this.onInputChange}></FormEntry>\n                <FormEntry id=\"creator\" title=\"Ersteller\">{(this.billingReport.creator as User).displayName}</FormEntry>\n                <FormEntry id=\"state\" title=\"Status\"><div className={\"badge \" + statusBadgeClass}>{this.billingReport.state}</div></FormEntry>\n                <FormEntry id=\"els\" title=\"ELs\">\n                    {this.renderEls()}\n                </FormEntry>\n                <FormEntry id=\"drivers\" title=\"Fahrer\">\n                    {this.renderDrivers()}\n                </FormEntry>\n                <FormEntry id=\"food\" title=\"Verpflegung\" value={this.state.food} type='checkbox' editable={this.state.informationEdit} onChange={this.onInputChange}></FormEntry>\n                <FormEntry id=\"remarks\" title=\"Bemerkungen\" value={this.state.remarks} type='textarea' editable={this.state.informationEdit} onChange={this.onInputChange}></FormEntry>\n            </Panel>\n        )\n    }\n\n    public renderCompensationDeletionModal() {\n        if (this.state.toDeleteCompensation) {\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>{(this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname + ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString()}</h3>}\n                    body={\n                        <span>\n                            {\n                                'Willst du die Entschdigung von ' +\n                                (this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname +\n                                ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString() + ' mit einem Betrag von CHF' +\n                                (this.state.toDeleteCompensation as Compensation).amount + ' wirklich lschen?'\n                            }\n                        </span>\n                    }\n                    footer={\n                        <ButtonGroup>\n                            <Button variant=\"danger\" onClick={this.deleteCompensationConfirmed}>Lschen</Button>\n                            <Button variant=\"secondary\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>\n                    }\n\n                />\n            )\n        }\n\n        return null\n    }\n\n    public renderCompensationsAddModal() {\n        if (!this.state.toDeleteCompensation) {\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>Entschdigungen hinzufgen</h3>}\n                    body={\n                        <AddBillingReportStep2 onNext={this.addCompensations} onPrevious={this.hideModal} />\n                    }\n                    footer={<div></div>}\n\n                />\n            )\n        }\n        return null\n    }\n\n    public getCompensationActions() {\n        let actions = [<Button variant=\"success\" className=\"view\" onClick={this.elementView}><FontAwesomeIcon icon=\"eye\" /></Button>]\n        if (this.props.user.roles.includes(AuthRoles.ADMIN) ||\n            this.props.user.roles.includes(AuthRoles.BILLINGREPORTS_EDIT) ||\n            (this.billingReport.state === 'pending' && this.billingReport.creator.id === this.props.user.id)) {\n            actions.push(<Button variant=\"danger\" className=\"delete\" onClick={this.deleteCompensation}><FontAwesomeIcon icon=\"trash\" /></Button>)\n        }\n        return actions\n    }\n\n    public render() {\n        if (this.props.loading || !this.billingReport || !this.state) {\n            return (<Page title=\"Verrechnungsrapport\"><Loading /></Page>)\n        }\n\n        return (\n            <Page title=\"Verrechnungsrapport\">\n                {this.renderCompensationDeletionModal()}\n                {this.renderCompensationsAddModal()}\n                <Row>\n                    <Column className=\"col-md-6\">\n                        {this.renderInformations()}\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            {this.renderActions()}\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column>\n                        <Panel title=\"VKs\" actions={[<Action icon=\"plus\" onClick={this.showModal} />]}>\n                            <Table<OrderCompensation>\n                                columns={[\n                                    { text: 'Name', keys: { 'member': ['firstname', 'lastname'] }, sortable: true },\n                                    { text: 'Von', keys: ['from'], format: 'toLocaleTimeString', sortable: true },\n                                    { text: 'Bis', keys: ['until'], format: 'toLocaleTimeString', sortable: true },\n                                    { text: 'Verrechnen', keys: ['charge'], sortable: true },\n                                    { text: 'Betrag', keys: ['amount'], prefix: 'CHF ', sortable: true, format: 'toFixed(2)' },\n                                    { text: 'Ausbezahlt', keys: ['paied'], sortable: true },\n                                    {\n                                        text: 'Actions', keys: ['_id'], content: <ButtonGroup>{this.getCompensationActions()}</ButtonGroup>\n                                    }\n                                ]}\n                                defaultSort={{ keys: ['from'], direction: 'asc' }}\n                                data={this.prepareCompensationsForTable()}\n                            ></Table>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        billingReports: state.data.billingReports,\n        user: state.data.user.data,\n        orders: state.data.orders,\n        loading: state.data.billingReports.loading || state.data.user.loading || state.data.orders.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchBillingReports: () => {\n            return dispatch(Data.fetchBillingReports())\n        },\n        fetchOrders: () => {\n            return dispatch(Data.fetchOrders())\n        },\n        approve: (id: string) => {\n            return dispatch(Data.approveBillingReport(id))\n        },\n        decline: (id: string) => {\n            return dispatch(Data.declineBillingReport(id))\n        },\n        edit: (data: EditBillingReport) => {\n            return dispatch(Data.editBillingReport(data))\n        },\n        deleteCompensation: async (id: number) => {\n            return dispatch(Data.deleteCompensationEntry(id)).then(() => {\n                dispatch(Data.fetchBillingReports())\n            })\n        },\n        addCompensationEntries: (data: { billingReportId: number, entries: Array<BillingReportCompensationEntry> }) => {\n            return dispatch(Data.addCompensationEntriesForBillingReport(data)).then(() => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n}\n\n//@ts-ignore\nexport const BillingReport = connect(mapStateToProps, mapDispatchToProps)(_BillingReport)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { ThunkDispatch } from 'redux-thunk';\nimport { State } from '../reducers/IndexReducer';\nimport { AnyAction } from 'redux';\nimport { Data } from '../actions/DataActions';\nimport { DataInterface } from '../reducers/DataReducer';\nimport Loading from '../components/Loading';\nimport { Page } from '../components/Page';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport Select from 'react-select';\nimport { ValueType } from 'react-select/lib/types';\nimport { CompensationEntry } from '../interfaces/CompensationEntry';\nimport { History } from \"history\";\nimport Contact from '../entities/Contact';\nimport Button from '../components/Button';\n\nexport class _AddCompensation extends Component<{ history: History, members: DataInterface<Contact>, loading: boolean, fetchMembers: Function, save: Function }, { member: string, date: string, description: string, amount?: number }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: { history: History, members: DataInterface<Contact>, loading: boolean, fetchMembers: Function, save: Function }) {\n        super(props)\n\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n\n        this.state = {\n            member: '',\n            date: '',\n            description: ''\n        }\n    }\n\n    public componentDidMount() {\n        this.props.fetchMembers()\n    }\n\n    private validate(): boolean {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            return valid\n        }\n        return false\n    }\n\n    private onSelectChange(opt: ValueType<{ label: string, value: string }>) {\n        if (opt) {\n            this.setState({\n                member: (opt as { label: string, value: string }).value\n            })\n        } else {\n            this.setState({\n                member: ''\n            })\n        }\n    }\n\n    private prepareMembers() {\n        let options = []\n        if (Object.keys(this.props.members.byId).length > 0) {\n            for (let i in this.props.members.byId) {\n                let member = this.props.members.byId[i]\n                options.push({\n                    label: (member.firstname + ' ' + member.lastname),\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private async onSave(event: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n        event.preventDefault()\n        if (this.formEl) {\n            if (this.validate()) {\n                await this.props.save({\n                    member: this.state.member,\n                    date: new Date(this.state.date),\n                    description: this.state.description,\n                    amount: this.state.amount\n                })\n                this.props.history.push('/compensations')\n            }\n        }\n    }\n\n    public render() {\n        if (this.props.loading || this.props.members.ids.length < 1) {\n            return (\n                <Page title=\"Entschdigung hinzufgen\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Entschdigung hinzufgen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form id=\"addCompensation\" ref={(ref: HTMLFormElement) => { this.formEl = ref }}>\n                                <h5>Mitglied</h5>\n                                <Select\n                                    isClearable={true}\n                                    onChange={this.onSelectChange}\n                                    options={this.prepareMembers()}\n                                    backspaceRemovesValue={true}\n                                    hideSelectedOptions={true}\n                                    openMenuOnFocus={true}\n                                />\n                                <br></br>\n\n                                <h5>Datum</h5>\n                                <input name=\"date\" type=\"date\" className=\"form-control\" value={this.state.date} onChange={this.onInputChange} required={true} />\n                                <br></br>\n\n                                <h5>Beschreibung</h5>\n                                <input name=\"description\" type=\"text\" className=\"form-control\" value={this.state.description} onChange={this.onInputChange} required={true} />\n                                <br></br>\n\n                                <h5>Betrag</h5>\n                                <div className=\"input-group mb-2\">\n                                    <div className=\"input-group-prepend\">\n                                        <div className=\"input-group-text\">CHF</div>\n                                    </div>\n                                    <input type=\"number\" step=\"0.05\" className=\"form-control\" name=\"amount\" value={this.state.amount} onChange={this.onInputChange} placeholder=\"0.00\" required={true} />\n                                </div>\n                                <br></br>\n\n                                <Button variant=\"primary\" block={true} onClick={this.onSave}>Speichern</Button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        members: state.data.members,\n        loading: state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        save: (data: CompensationEntry) => {\n            dispatch(Data.addCompensationEntry(data))\n        }\n    }\n}\n\nexport const AddCompensation = connect(mapStateToProps, mapDispatchToProps)(_AddCompensation)","\nimport Contact from \"./Contact\";\nimport Payout from \"./Payout\";\nimport User from \"./User\";\nimport Base from \"./Base\";\nimport OrderCompensation from \"./OrderCompensation\";\nimport CustomCompensation from \"./CustomCompensation\";\n\n\nexport default class Compensation extends Base {\n\n    public member: Contact\n\n\n    public creator: User\n\n\n    public amount: number\n\n\n    public date: Date\n\n\n    public approved: boolean\n\n\n\n    public approvedBy?: User\n\n\n    public paied: boolean\n\n    public bexioBill?: number\n    public transferCompensation?: CustomCompensation\n\n    public payout?: Payout\n\n\n\n    public updatedBy: User\n\n    constructor(member: Contact, creator: User, amount: number, date: Date, approved: boolean = false, paied: boolean = false, payout?: Payout) {\n        super()\n        this.member = member\n        this.creator = creator\n        this.amount = amount\n        this.date = date\n        this.approved = approved\n        this.paied = paied\n        this.payout = payout\n    }\n\n    public static isOrderBased(compensation: Compensation): compensation is OrderCompensation {\n        return (\n            (<OrderCompensation>compensation).billingReport !== undefined &&\n            (<OrderCompensation>compensation).billingReport !== null\n        )\n    }\n\n    public static isCustom(compensation: Compensation): compensation is CustomCompensation {\n        return (\n            (<CustomCompensation>compensation).description !== undefined &&\n            (<CustomCompensation>compensation).description !== null\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { Page } from \"../Page\";\n\nexport class Error404 extends Component {\n    public render() {\n        return (\n            <Page title=\"\">\n                <div id=\"page-404\">\n                    <img src=\"/404.png\" />\n                </div>\n            </Page>\n        )\n    }\n}","import { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport * as CompensationEntity from \"../entities/Compensation\";\nimport { RouteComponentProps } from \"react-router\";\nimport * as React from \"react\";\nimport { Page } from \"../components/Page\";\nimport Loading from \"../components/Loading\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport FormEntry from \"../components/FormEntry\";\nimport { Link } from \"react-router-dom\";\nimport { Error404 } from \"../components/Errors/404\";\nimport Payout from \"../entities/Payout\";\nimport Button from \"../components/Button\";\n\ninterface CompensationProps extends RouteComponentProps<{ id: string }> {\n    compensation: CompensationEntity.default,\n    compensationIds: Array<number>,\n    loading: boolean,\n    fetchCompensations: () => Promise<AnyAction>,\n    approve: (id: number) => Promise<void>\n}\n\nexport class _Compensation extends Component<CompensationProps> {\n\n    constructor(props: CompensationProps) {\n        super(props)\n\n        this.approve = this.approve.bind(this)\n        this.renderBillingReport = this.renderBillingReport.bind(this)\n        this.renderActions = this.renderActions.bind(this)\n\n        this.props.fetchCompensations()\n    }\n\n    private approve(): Promise<void> {\n        return this.props.approve(this.props.compensation.id)\n    }\n\n    private renderActions() {\n        if (!this.props.compensation.approved) {\n            return <Button id=\"approve\" block={true} variant=\"outline-success\" onClick={this.approve}>Genehmigen</Button>\n        }\n    }\n\n    private renderBillingReport() {\n        if (CompensationEntity.default.isOrderBased(this.props.compensation)) {\n            let statusBadgeClass = 'badge-success'\n            if (this.props.compensation.billingReport.state === 'pending') {\n                statusBadgeClass = 'badge-warning'\n            }\n\n            return (\n                <Column className=\"col-md-6\">\n                    <Panel title=\"Verrechnungsrapport\">\n                        <FormEntry id=\"orderNr\" title=\"Auftragsnummer\">{this.props.compensation.billingReport.order.documentNr}</FormEntry>\n                        <FormEntry id=\"orderNr\" title=\"Auftrag\">{this.props.compensation.billingReport.order.title}</FormEntry>\n                        <FormEntry id=\"state\" title=\"Verrechnungsrapportstatus\"><div className={\"badge \" + statusBadgeClass}>{this.props.compensation.billingReport.state}</div></FormEntry>\n                        <FormEntry id=\"from\" title=\"Von\">{this.props.compensation.from.toLocaleTimeString()}</FormEntry>\n                        <FormEntry id=\"until\" title=\"Bis\">{this.props.compensation.until.toLocaleTimeString()}</FormEntry>\n                        <FormEntry id=\"charge\" title=\"Verrechnen\">{(this.props.compensation.charge) ? '' : ''}</FormEntry>\n                        <Link to={\"/order/\" + this.props.compensation.billingReport.order.id} className=\"btn btn-outline-primary btn-block\">Auftrag</Link>\n                        <Link to={\"/billing-report/\" + this.props.compensation.billingReport.id} className=\"btn btn-outline-primary btn-block\">Verrechnungsrapport</Link>\n                    </Panel>\n                </Column>\n            )\n        }\n    }\n\n    public render() {\n        if (!this.props.loading && !this.props.compensation && this.props.compensationIds.length > 0) {\n            return <Error404 />\n        }\n\n        if (this.props.loading || !this.props.compensation) {\n            return (<Page title=\"Entschdigung\"><Loading /></Page>)\n        }\n\n        let statusBadgeClass = 'badge-success'\n        if (!this.props.compensation.approved) {\n            statusBadgeClass = 'badge-warning'\n        }\n\n        return (\n            <Page title=\"Entschdigung\">\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <FormEntry id=\"member\" title=\"Mitglied\">{this.props.compensation.member.firstname} {this.props.compensation.member.lastname}</FormEntry>\n                            <FormEntry id=\"date\" title=\"Datum\">{this.props.compensation.date.toLocaleDateString()}</FormEntry>\n                            <FormEntry id=\"amount\" title=\"Betrag\">CHF {this.props.compensation.amount.toFixed(2)}</FormEntry>\n                            {\n                                CompensationEntity.default.isCustom(this.props.compensation) &&\n                                <FormEntry id=\"description\" title=\"Beschreibung\">{this.props.compensation.description}</FormEntry>\n                            }\n                            <FormEntry id=\"state\" title=\"Status\"><div className={\"badge \" + statusBadgeClass}>{(this.props.compensation.approved) ? 'Bewilligt' : 'Ausstehend'}</div></FormEntry>\n                            <FormEntry id=\"creator\" title=\"Ersteller\">{this.props.compensation.creator.displayName}</FormEntry>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            {this.renderActions()}\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    {this.renderBillingReport()}\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Auszahlung\">\n                            <FormEntry id=\"paied\" title=\"Ausbezahlt\">{(this.props.compensation.paied) ? '' : ''}</FormEntry>\n                            {(this.props.compensation.payout) ? (<Link to={\"/payout/\" + (this.props.compensation.payout as Payout).id + '/' + this.props.compensation.member.id} className=\"btn btn-outline-primary btn-block\">Auszahlung</Link>) : (<p></p>)}\n                            {(this.props.compensation.bexioBill) ? (<a href={`https://office.bexio.com/index.php/kb_bill/show/id/${this.props.compensation.bexioBill}`} target=\"_blank\" className=\"btn btn-outline-primary btn-block\">Bexio Lieferantenrechnung</a>) : (<p></p>)}\n                            {(this.props.compensation.transferCompensation) ? (<Link to={`/compensation/${this.props.compensation.transferCompensation.id}`} className=\"btn btn-outline-primary btn-block\">bertrag</Link>) : (<p></p>)}\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: RouteComponentProps<{ id: string }>) => {\n    return {\n        compensation: state.data.compensationEntries.byId[props.match.params.id],\n        compensationIds: state.data.compensationEntries.ids,\n        loading: state.data.compensationEntries.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchCompensations: () => {\n            return dispatch(Data.fetchCompensationEntries())\n        },\n        approve: (id: number) => {\n            return dispatch(Data.approveCompensationEntry(id))\n        },\n    }\n}\n\nexport const Compensation = connect(mapStateToProps, mapDispatchToProps)(_Compensation)","import React, { Component } from \"react\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Page } from \"../components/Page\";\nimport Column from \"../components/Column\";\nimport Row from \"../components/Row\";\nimport Panel from \"../components/Panel\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\nimport Loading from \"../components/Loading\";\nimport { UI } from \"../actions/UIActions\";\n\nexport class _MailingLists extends Component<{ fetchMembers: Function, mailingLists: StringIndexed<Array<string>>, showError: (message: string) => void, showSuccess: (message: string) => void }, { copyData: string }> {\n    constructor(props: { fetchMembers: Function, mailingLists: StringIndexed<Array<string>>, showError: (message: string) => void, showSuccess: (message: string) => void  }) {\n        super(props)\n\n        this.props.fetchMembers()\n\n    }\n\n    private copy(data: string) {\n        (navigator as any).permissions.query({ name: \"clipboard-write\" }).then((result: { state: string }) => {\n            if (result.state == \"granted\" || result.state == \"prompt\") {\n                (navigator as any).clipboard.writeText(data).then(() => {\n                    this.props.showSuccess('Kopiert!')\n                }).catch((err: Error) => {\n                    console.error(err)\n                    this.props.showError('Ooops... Etwas ging schief...')\n                })\n            } else {\n                this.props.showError('Ich darf nichts kopieren....')\n            }\n        }).catch((err: Error) => {\n            console.error(err)\n            this.props.showError('Ooops... Etwas ging schief...')\n        })\n    }\n\n    private addCopy(data: string) {\n            return (\n                <div className=\"input-group-prepend\">\n                    <button className=\"btn btn-outline-secondary\" id=\"btnGroupAddon\" onClick={this.copy.bind(this, data)}>\n                        <FontAwesomeIcon icon=\"clipboard\" />\n                    </button>\n                </div>\n            )\n    }\n\n    public render() {\n        if (Object.keys(this.props.mailingLists).length < 1) {\n            return (<Page title=\"Verteiler\"><Loading /></Page>)\n        }\n        console.log(this.props.mailingLists)\n        return (\n            <Page title=\"Verteiler\">\n                <Row>\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Mitglieder\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.all.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.all.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"VKs (ohne Fahrer und Condor)\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.vks.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.vks.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Kader\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.squad.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.squad.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Fahrer\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.drivers.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.drivers.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Vorstand\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.vst.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.vst.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Condor\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.con.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.con.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = function (state: State) {\n    return {\n        mailingLists: state.data.mailingLists\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        showError: (message: string) => {\n            dispatch(UI.showError(message))\n        },\n        showSuccess: (message: string) => {\n            dispatch(UI.showSuccess(message))\n        }\n    }\n}\n\nexport const MailingLists = connect(mapStateToProps, mapDispatchToProps)(_MailingLists)","import { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataList } from \"../components/DataList\";\nimport Action from \"../components/Action\";\nimport React from \"react\";\n\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.collectionPoints,\n        title: 'Abholpunkte',\n        panelActions: [<Action icon=\"plus\" to=\"/draft/collection-points/add\" />],\n        viewLocation: '/collection-point/',\n        tableColumns: [\n            { text: 'Name', keys: ['name'], sortable: true, searchable: true },\n            { text: 'Abholpunkt', keys: ['address', 'postcode', 'city'], link: true, linkPrefix: 'https://www.google.com/maps/search/', sortable: true, searchable: true },\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchCollectionPoints())\n        }\n    }\n}\n\n\nexport const CollectionPoints = connect(mapStateToProps, mapDispatchToProps)(DataList)","import { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport React from \"react\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport { PutCollectionPoints } from \"../interfaces/CollectionPoints\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps } from \"react-router\";\n\nexport class _AddCollectionPoint extends Component<{ save: Function } & RouteComponentProps, PutCollectionPoints> {\n    private formEl: HTMLFormElement\n\n    constructor(props: { save: Function } & RouteComponentProps) {\n        super(props)\n\n        this.state = {\n            name: '',\n            address: '',\n            postcode: '',\n            city: ''\n        }\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.save = this.save.bind(this)\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private save(event: React.MouseEvent<HTMLButtonElement>): boolean {\n        event.preventDefault()\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                this.props.save({\n                    name: this.state.name,\n                    postcode: this.state.postcode,\n                    address: this.state.address,\n                    city: this.state.city\n                })\n                this.props.history.push('/draft/collection-points')\n            }\n            return valid\n        }\n        return false\n    }\n\n    public render() {\n        return (\n            <Page title=\"Abholpunkt Hinzufgen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form ref={(ref: HTMLFormElement) => this.formEl = ref}>\n                                <h5>Name</h5>\n                                <input type=\"text\" name=\"name\" id=\"name\" className='form-control' value={this.state.name} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <h5>Addresse</h5>\n                                <input type=\"text\" name=\"address\" id=\"address\" className='form-control' value={this.state.address} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <h5>PLZ</h5>\n                                <input type=\"text\" minLength={4} maxLength={4} name=\"postcode\" id=\"postcode\" className='form-control' value={this.state.postcode} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <h5>Ort</h5>\n                                <input type=\"text\" name=\"city\" id=\"city\" className='form-control' value={this.state.city} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <button className=\"btn btn-primary btn-block\" onClick={this.save}>Speichern</button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapDisptachToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        save: (data: PutCollectionPoints) => {\n            dispatch(Data.addCollectionPoint(data))\n        }\n    }\n}\n\nexport const AddCollectionPoint = connect(() => { }, mapDisptachToProps)(_AddCollectionPoint)","import React from 'react'\nimport { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\n\n\nimport { DataList } from '../components/DataList'\nimport Action from \"../components/Action\";\n\nconst mapStateToProps = (state: State) => {\n    return {\n        panelActions: [<Action icon=\"plus\" to=\"/payouts/add\" />],\n        data: state.data.payouts,\n        viewLocation: '/payout/',\n        title: 'Auszahlungen',\n        tableColumns: [\n            { text: 'Von', keys: ['from'], sortable: true },\n            { text: 'Bis', keys: ['until'], sortable: true },\n            { text: 'Total', keys: ['totalWithoutMinus'], sortable: true, prefix: 'CHF ', format: 'toFixed(2)' }\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchPayouts())\n        }\n    }\n}\n\nexport const Payouts = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from \"react\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { connect } from \"react-redux\";\nimport { Page } from \"../components/Page\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport * as PayoutEntity from \"../entities/Payout\";\nimport Loading from \"../components/Loading\";\nimport Table from \"../components/Table\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { History } from \"history\";\nimport FormEntry from \"../components/FormEntry\";\nimport Button from \"../components/Button\";\nimport Config from \"../Config\";\nimport Modal from '../components/Modal'\nimport { ButtonGroup } from \"react-bootstrap\";\nimport Contact from \"../entities/Contact\";\nimport { UI } from \"../actions/UIActions\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\n\ninterface PayoutProps {\n    payout: PayoutEntity.default,\n    loading: boolean,\n    history: History,\n    fetchPayouts: () => Promise<void>,\n    sendMails: (payoutId: number, memberIds: Array<number>) => Promise<void>\n    sendToBexio: (payoutId: number, memberIds: Array<number>) => Promise<void>\n    reclaim: (payoutId: number) => Promise<void>,\n    getBankingXml: (payout: PayoutEntity.default, memberIds: Array<number>) => Promise<void>\n    transfer: (payoutId: number, memberIds: Array<number>) => Promise<void>\n    showError: (message: string) => Promise<void>\n}\n\nexport class _Payout extends Component<PayoutProps, { modalShow: boolean, modalType: string, selected: Array<number> }> {\n    constructor(props: PayoutProps) {\n        super(props)\n        this.props.fetchPayouts()\n\n        this.elementView = this.elementView.bind(this)\n        this.showMailModal = this.showMailModal.bind(this)\n        this.showBexioModal = this.showBexioModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n        this.sendMails = this.sendMails.bind(this)\n        this.sendToBexio = this.sendToBexio.bind(this)\n        this.onCheck = this.onCheck.bind(this)\n        this.reclaim = this.reclaim.bind(this)\n        this.transfer = this.transfer.bind(this)\n\n        this.state = {\n            modalShow: false,\n            modalType: '',\n            selected: []\n        }\n    }\n\n    private async hideModal(): Promise<void> {\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private async showMailModal(): Promise<void> {\n        this.setState({\n            modalShow: true,\n            modalType: 'mail'\n        })\n    }\n\n    private async showBexioModal(): Promise<void> {\n        this.setState({\n            modalShow: true,\n            modalType: 'bexio'\n        })\n    }\n\n    private async sendMails(): Promise<void> {\n        await this.props.sendMails(this.props.payout.id, this.state.selected)\n\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private async sendToBexio(): Promise<void> {\n        await this.props.sendToBexio(this.props.payout.id, this.state.selected)\n\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private async reclaim(): Promise<void> {\n        return this.props.reclaim(this.props.payout.id)\n    }\n\n    private async transfer(): Promise<void> {\n        if (this.state.selected.length > 0) return this.props.transfer(this.props.payout.id, this.state.selected)\n        this.props.showError('Bitte zuerst auswahl ttigen!')\n    }\n\n    public async elementView(event: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n        event.preventDefault()\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + this.props.history.location.pathname + `/${id}`)\n            } else {\n                this.props.history.push(this.props.history.location.pathname + `/${id}`)\n            }\n        }\n    }\n\n    public onCheck(event: React.ChangeEvent<HTMLInputElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            if (id) {\n                const newId = parseInt(id)\n                if (this.state.selected.indexOf(newId) > -1) {\n                    this.setState({\n                        selected: [...this.state.selected.filter(el => el !== newId)]\n                    })\n                } else {\n                    this.setState({\n                        selected: [...this.state.selected, parseInt(id)]\n                    })\n                }\n            }\n        }\n    }\n\n    public renderCompensationsAddModal() {\n        if (this.state.modalType === 'mail') {\n            if (this.state.selected.length === 0) {\n                return (\n                    <Modal\n                        show={this.state.modalShow}\n                        header={<h3>E-Mails versenden</h3>}\n                        body={\n                            <span>\n                                Willst du wirklich eine E-Mail <b>an alle</b> mit der Entschdigungsauszahlung senden?\n                        </span>\n                        }\n                        footer={<ButtonGroup>\n                            <Button variant=\"success\" onClick={this.sendMails}>Senden</Button>\n                            <Button variant=\"danger\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>}\n\n                    />\n                )\n            } else {\n                return (\n                    <Modal\n                        show={this.state.modalShow}\n                        header={<h3>E-Mails versenden</h3>}\n                        body={\n                            <span>\n                                Willst du wirklich eine E-Mail <b>an folgende Personen</b> mit der Entschdigungsauszahlung senden?\n                            <ul>\n                                    {this.state.selected.map(el => {\n                                        const member: Contact = this.props.payout.compensationsByMember[el][0].member\n                                        return (<li>{member.lastname} {member.firstname}</li>)\n                                    })}\n                                </ul>\n                            </span>\n                        }\n                        footer={<ButtonGroup>\n                            <Button variant=\"success\" onClick={this.sendMails}>Senden</Button>\n                            <Button variant=\"danger\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>}\n\n                    />\n                )\n            }\n        } else if (this.state.modalType === 'bexio') {\n            if (this.state.selected.length === 0) {\n                return (\n                    <Modal\n                        show={this.state.modalShow}\n                        header={<h3>Bexio bertrag</h3>}\n                        body={\n                            <span>\n                                Willst du wirklich <b>alle</b> Entschdigungen an Bexio bertragen?\n                        </span>\n                        }\n                        footer={<ButtonGroup>\n                            <Button variant=\"success\" onClick={this.sendToBexio}>Ja</Button>\n                            <Button variant=\"danger\" onClick={this.hideModal}>Nein</Button>\n                        </ButtonGroup>}\n\n                    />\n                )\n            } else {\n                return (\n                    <Modal\n                        show={this.state.modalShow}\n                        header={<h3>Bexio bertrag</h3>}\n                        body={\n                            <span>\n                                Willst du wirklich <b>folgende Entschdigungen</b> an Bexio bertragen?\n                            <ul>\n                                    {this.state.selected.map(el => {\n                                        const member: Contact = this.props.payout.compensationsByMember[el][0].member\n                                        return (<li>{member.lastname} {member.firstname}</li>)\n                                    })}\n                                </ul>\n                            </span>\n                        }\n                        footer={<ButtonGroup>\n                            <Button variant=\"success\" onClick={this.sendToBexio}>Ja</Button>\n                            <Button variant=\"danger\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>}\n\n                    />\n                )\n            }\n        } else {\n            return null\n        }\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.payout) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        const data: StringIndexed<{ id: number, member: Contact, total: number }> = {}\n        for (let i in this.props.payout.compensationsByMember) {\n            const records = this.props.payout.compensationsByMember[i]\n            let total = 0\n            records.map(el => total = total + parseFloat(el.amount.toFixed(2)))\n            data[records[0].member.id] = {\n                id: records[0].member.id,\n                member: records[0].member,\n                total\n            }\n        }\n\n        return (\n            <Page title={`Auszahlung ${this.props.payout.from.toLocaleDateString()} - ${this.props.payout.until.toLocaleDateString()}`}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <FormEntry id=\"from\" title=\"Von\" value={this.props.payout.from.toLocaleDateString()} type=\"date\"></FormEntry>\n                            <FormEntry id=\"until\" title=\"Bis\" value={this.props.payout.until.toLocaleDateString()} type=\"date\"></FormEntry>\n                            <FormEntry id=\"countCompensations\" title=\"Anzahl Entschdiungen\" value={this.props.payout.compensations.length} editable={false}></FormEntry>\n                            <FormEntry id=\"total\" title=\"Total\" value={`CHF ${this.props.payout.total.toFixed(2)}`} ></FormEntry>\n                            <FormEntry id=\"totalWithoutMinus\" title=\"Total ohne Minus\" value={`CHF ${this.props.payout.totalWithoutMinus.toFixed(2)}`} ></FormEntry>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            <a className=\"btn btn-block btn-outline-primary\" target=\"_blank\" href={`${Config.apiEndpoint}/api/payouts/${this.props.payout.id}/pdf`} >PDF</a>\n                            <Button block={true} variant=\"outline-primary\" onClick={this.showMailModal}>Besttigung E-Mails verschicken</Button>\n                            <Button block={true} variant=\"outline-primary\" onClick={this.showBexioModal}>An Bexio bertragen</Button>\n                            <Button block={true} variant=\"outline-primary\" onClick={() => { return this.props.getBankingXml(this.props.payout, this.state.selected) }}>Banking XML herunterladen</Button>\n                            <Button block={true} variant=\"outline-primary\" onClick={this.reclaim}>Neu Berechnen</Button>\n                            <Button block={true} variant=\"outline-primary\" onClick={() => this.transfer()}>bertragen</Button>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column>\n                        <Panel title=\"Entschdiungen\">\n                            <Table<{ id: number, member: Contact, total: number }>\n                                columns={[\n                                    { text: 'Mitglied', keys: { member: ['lastname', 'firstname'] }, sortable: true },\n                                    { text: 'Betrag', keys: ['total'], prefix: 'CHF ', sortable: true, format: 'toFixed(2)' },\n                                    {\n                                        text: 'Actions', keys: ['id'], content:\n                                            <div className=\"btn-group\">\n                                                <Button variant=\"success\" className=\"view\" onClick={this.elementView}><FontAwesomeIcon icon=\"eye\" /></Button>\n                                            </div>\n                                    }\n                                ]}\n                                checkable={true}\n                                onCheck={this.onCheck}\n                                defaultSort={{ keys: ['_member.lastname', 'firstname'], direction: 'asc' }}\n                                data={data}\n                            ></Table>\n                        </Panel>\n                    </Column>\n                </Row>\n                {this.renderCompensationsAddModal()}\n            </Page >\n        )\n    }\n}\n\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        payout: state.data.payouts.byId[props.match.params.id],\n        loading: state.data.payouts.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    const downloader = (blob: Blob, filename: string) => {\n        const url = window.URL.createObjectURL(blob)\n        const link = document.createElement('a')\n        link.href = url\n        link.download = filename\n        document.body.appendChild(link)\n        link.click()\n        document.body.removeChild(link)\n    }\n\n    return {\n        fetchPayouts: () => {\n            dispatch(Data.fetchPayouts())\n        },\n        sendMails: (payoutId: number, memberIds: Array<number>) => {\n            return dispatch(Data.sendPayoutMails(payoutId, memberIds))\n        },\n        sendToBexio: (payoutId: number, memberIds: Array<number>) => {\n            return dispatch(Data.sendToBexio(payoutId, memberIds))\n        },\n        reclaim: (payoutId: number) => {\n            return dispatch(Data.reclaimPayout(payoutId))\n        },\n        getBankingXml: async (payout: PayoutEntity.default, memberIds: Array<number>) => {\n            const data = await Data.sendToApi<string>('post', `${Config.apiEndpoint}/api/payouts/xml`, { payoutId: payout.id, memberIds }, dispatch, undefined, undefined, false)\n            downloader(new Blob([data]), `Soldperiode_${(payout.from > new Date('1970-01-01')) ? payout.from.toLocaleDateString() : ''}_-_${payout.until.toLocaleDateString()}.xml`)\n            return\n        },\n        transfer: (payoutId: number, memberIds: Array<number>) => {\n            return Data.sendToApi('post', `${Config.apiEndpoint}/api/payouts/transfer`, { payoutId, memberIds }, dispatch)\n        },\n        showError: (message: string) => {\n            return dispatch(UI.showError(message))\n        }\n    }\n}\n\n//@ts-ignore\nexport const Payout = connect(mapStateToProps, mapDispatchToProps)(_Payout)","import React, { Component } from 'react'\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { Data } from '../actions/DataActions';\nimport Payout from '../entities/Payout';\nimport { Page } from '../components/Page';\nimport Loading from '../components/Loading';\nimport Compensation from '../entities/Compensation';\nimport Contact from '../entities/Contact';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport { connect } from \"react-redux\";\nimport FormEntry from '../components/FormEntry';\nimport Table from '../components/Table';\nimport Button from '../components/Button';\nimport ReactButton from 'react-bootstrap/Button'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { History } from \"history\";\nimport Config from '../Config';\n\nexport interface PayoutMemberProps {\n    payout: Payout,\n    loading: boolean,\n    member: { compensations: Array<Compensation> } & Contact,\n    history: History,\n    fetchPayouts: () => void,\n    memberPdf: (payoutId: number, member: Contact) => Promise<void>\n}\n\nexport class _PayoutMember extends Component<PayoutMemberProps> {\n    constructor(props: PayoutMemberProps) {\n        super(props)\n        if (!this.props.payout || !this.props.member) {\n            this.props.fetchPayouts()\n        }\n\n        this.compensationView = this.compensationView.bind(this)\n    }\n\n    public compensationView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/compensation/' + id)\n            } else {\n                this.props.history.push('/compensation/' + id)\n            }\n        }\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.payout) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        let total = 0\n        this.props.member.compensations.map(el => total = total + parseFloat(el.amount.toFixed(2)))\n\n        return (\n            <Page title={`Auszahlung ${this.props.payout.from.toLocaleDateString()} - ${this.props.payout.until.toLocaleDateString()} / ${this.props.member.firstname} ${this.props.member.lastname}`}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <FormEntry id=\"member\" title=\"Mitglied\">{this.props.member.firstname} {this.props.member.lastname}</FormEntry>\n                            <FormEntry id=\"amountCompensations\" title=\"Anzahl Entschdigungen\">{this.props.member.compensations.length}</FormEntry>\n                            <FormEntry id=\"total\" title=\"Total\">CHF {total.toFixed(2)}</FormEntry>\n                            <FormEntry id=\"payout\" title=\"Auszahlung\">{this.props.payout.until.toLocaleDateString()}</FormEntry>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            <Button block={true} variant=\"outline-primary\" onClick={async () => { await this.props.memberPdf(this.props.payout.id, this.props.member); }}>PDF</Button>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column>\n                        <Panel title=\"Entschdigungen\">\n                            <Table<Compensation>\n                                columns={[\n                                    { text: 'Datum', keys: ['date'], sortable: true },\n                                    { text: 'Beschreibung', keys: ['description'], sortable: true },\n                                    { text: 'Betrag', keys: ['amount'], prefix: 'CHF ', sortable: true, format: 'toFixed(2)' },\n                                    { text: 'Genehmigt', keys: ['approved'], sortable: true },\n                                    { text: 'Ausbezahlt', keys: ['paied'], sortable: true },\n                                    {\n                                        text: 'Actions', keys: ['_id'], content: <ReactButton variant=\"success\" className=\"view\" onMouseUp={this.compensationView}><FontAwesomeIcon icon=\"eye\" /></ReactButton>\n                                    }\n                                ]}\n                                defaultSort={{\n                                    keys: ['date'],\n                                    direction: 'desc'\n                                }}\n                                data={this.props.member.compensations}\n                            />\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    const payout = state.data.payouts.byId[props.match.params.id]\n    if (payout) {\n        return {\n            payout,\n            member: Object.assign({}, payout.compensationsByMember[props.match.params.memberId][0].member, { compensations: payout.compensationsByMember[props.match.params.memberId] }),\n            loading: state.data.payouts.loading\n        }\n    } else {\n        return {\n            payout,\n            member: {},\n            loading: false\n        }\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    const downloader = (blob: Blob, filename: string) => {\n        const url = window.URL.createObjectURL(blob)\n        const link = document.createElement('a')\n        link.href = url\n        link.download = filename\n        document.body.appendChild(link)\n        link.click()\n        document.body.removeChild(link)\n        setTimeout(function () {\n            // For Firefox it is necessary to delay revoking the ObjectURL\n            window.URL.revokeObjectURL(url);\n        }, 100);\n    }\n\n    return {\n        fetchPayouts: () => {\n            dispatch(Data.fetchPayouts())\n        },\n        memberPdf: async (payoutId: number, member: Contact) => {\n            const data = await Data.sendToApi<string>('post', `${Config.apiEndpoint}/api/payouts/member/pdf`, { payoutId, memberId: member.id }, dispatch, undefined, { responseType: 'arraybuffer' })\n            downloader(new Blob([data], { type: 'application/pdf' }), `Auszahlung Verkehrskadettenentschdigung ${member.lastname} ${member.firstname}.pdf`)\n            return\n        }\n    }\n}\n\n//@ts-ignore\nexport const PayoutMember = connect(mapStateToProps, mapDispatchToProps)(_PayoutMember)","import React, { Component } from \"react\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { connect } from \"react-redux\";\nimport { AddPayout as AddPayoutInterface } from \"../interfaces/Payout\";\nimport { Page } from \"../components/Page\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport { History } from \"history\";\nimport Button from '../components/Button';\n\nexport class _AddPayout extends Component<{ history: History, save: (data: AddPayoutInterface) => Promise<AnyAction> }, { from?: string, until: string }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: { history: History, save: (data: AddPayoutInterface) => Promise<AnyAction> }) {\n        super(props)\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n\n        this.state = {\n            from: '',\n            until: ''\n        }\n    }\n\n    private validate(): boolean {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            return valid\n        }\n        return false\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private async onSave(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (this.formEl) {\n            if (this.validate()) {\n                await this.props.save({\n                    from: new Date(this.state.from || '01/01/1970'),\n                    until: new Date(this.state.until)\n                })\n                this.props.history.push('/payouts')\n            }\n        }\n    }\n\n    public render() {\n        return (\n            <Page title=\"Auszahlung hinzufgen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form id=\"addPayout\" ref={(ref: HTMLFormElement) => { this.formEl = ref }}>\n                                <h5>Von (optional)</h5>\n                                <input name=\"from\" type=\"date\" className=\"form-control\" value={this.state.from} onChange={this.onInputChange} />\n                                <br></br>\n\n                                <h5>Bis</h5>\n                                <input name=\"until\" type=\"date\" className=\"form-control\" value={this.state.until} onChange={this.onInputChange} required={true} />\n                                <br></br>\n\n                                <Button variant=\"primary\" block={true} onClick={this.onSave}>Speichern</Button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        save: (data: AddPayoutInterface) => {\n            dispatch(Data.addPayout(data))\n        }\n    }\n}\n\n//@ts-ignore\nexport const AddPayout = connect(() => {}, mapDispatchToProps)(_AddPayout)","import React, { Component, SyntheticEvent } from \"react\";\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./Store\";\nimport { Store, AnyAction } from \"redux\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { ToastContainer } from 'react-toastify';\nimport { AuthRoles } from \"./interfaces/AuthRoles\";\nimport { SecureRoute } from \"./components/SecureRoute\";\nimport Config from './Config'\nimport { ConnectedRouter } from \"connected-react-router\";\nimport { createBrowserHistory, History } from \"history\";\n\n// styles\nimport './styles/index.scss'\nimport 'react-toastify/dist/ReactToastify.css'\n\n// views\nimport { Dashboard } from \"./views/Dashboard\";\nimport { Members } from \"./views/Members\";\nimport { Contact } from \"./views/Contact\";\nimport { Orders } from \"./views/Orders\";\nimport { Order } from \"./views/Order\";\nimport { BillingReports } from \"./views/BillingReports\";\nimport { Compensations } from \"./views/Compensations\";\nimport { AddBillingReport } from \"./views/AddBillingReport\";\nimport { Login } from \"./views/Login\";\nimport { Users } from \"./views/Users\";\nimport { User } from \"./views/User\";\nimport { BillingReport } from \"./views/BillingReport\";\nimport { AddCompensation } from \"./views/AddCompensation\";\nimport { Compensation } from \"./views/Compensation\";\nimport { Error404 } from \"./components/Errors/404\";\nimport { MailingLists } from \"./views/MailingLists\";\nimport { CollectionPoints } from \"./views/CollectionPoints\";\nimport { AddCollectionPoint } from \"./views/AddCollectionPoint\";\nimport { Payouts } from \"./views/Payouts\";\nimport { Payout } from \"./views/Payout\";\nimport { PayoutMember } from \"./views/PayoutMember\";\nimport { AddPayout } from \"./views/AddPayout\";\n\nexport default class Root extends Component<{}, {}> {\n    private store: Store<any, AnyAction>\n    private history: History\n\n    constructor(props: {}, state: {}) {\n        super(props, state)\n        Config.loadConfig()\n        this.history = createBrowserHistory({ basename: '/webapp/' })\n        this.store = configureStore(this.history)\n        this.store.getState()\n    }\n\n    render() {\n        return (\n            <Provider store={this.store}>\n                <div className=\"body\">\n                    <ToastContainer\n                        position=\"top-center\"\n                        autoClose={5000}\n                        hideProgressBar={false}\n                        newestOnTop={true}\n                        closeOnClick\n                        rtl={false}\n                        draggable={true}\n                        pauseOnHover={true}\n                    />\n                    <ConnectedRouter history={this.history} >\n                        <Switch>\n                            <Route exact path=\"/\" component={() => { return (<Redirect to=\"/login\" />) }} />\n                            <Route exact path=\"/login\" component={Login} />\n                            <Route exact path=\"/login?source=:source\" component={Login} />\n                            <SecureRoute exact path=\"/dashboard\" roles={[AuthRoles.AUTHENTICATED]} component={Dashboard} />\n                            <SecureRoute exact path=\"/members\" roles={[AuthRoles.MEMBERS_READ]} component={Members} />\n                            <SecureRoute exact path=\"/mailing-lists\" roles={[AuthRoles.MAILING_LISTS]} component={MailingLists} />\n                            <SecureRoute exact path=\"/draft/collection-points\" roles={[AuthRoles.DRAFT_READ]} component={CollectionPoints} />\n                            <SecureRoute exact path=\"/draft/collection-points/add\" roles={[AuthRoles.DRAFT_EDIT, AuthRoles.DRAFT_CREATE]} component={AddCollectionPoint} />\n                            <SecureRoute exact path=\"/contact/:id\" roles={[AuthRoles.CONTACTS_READ, AuthRoles.MEMBERS_READ, AuthRoles.AUTHENTICATED]} component={Contact} />\n                            <SecureRoute exact path=\"/orders\" roles={[AuthRoles.ORDERS_READ]} component={Orders} />\n                            <SecureRoute exact path=\"/order/:id\" roles={[AuthRoles.ORDERS_READ]} component={Order} />\n                            <SecureRoute exact path=\"/billing-reports\" roles={[AuthRoles.BILLINGREPORTS_READ, AuthRoles.BILLINGREPORTS_CREATE]} component={BillingReports} />\n                            <SecureRoute exact path=\"/billing-reports/add\" roles={[AuthRoles.BILLINGREPORTS_CREATE]} component={AddBillingReport} />\n                            <SecureRoute exact path=\"/billing-report/:id\" roles={[AuthRoles.BILLINGREPORTS_CREATE, AuthRoles.BILLINGREPORTS_READ]} component={BillingReport} />\n                            <SecureRoute exact path=\"/compensations\" roles={[AuthRoles.COMPENSATIONS_READ]} component={Compensations} />\n                            <SecureRoute exact path=\"/compensations/add\" roles={[AuthRoles.COMPENSATIONS_CREATE]} component={AddCompensation} />\n                            <SecureRoute exact path=\"/compensation/:id\" roles={[AuthRoles.COMPENSATIONS_READ, AuthRoles.AUTHENTICATED]} component={Compensation} />\n                            <SecureRoute exact path=\"/payouts\" roles={[AuthRoles.PAYOUTS_READ]} component={Payouts} />\n                            <SecureRoute exact path=\"/payouts/add\" roles={[AuthRoles.PAYOUTS_CREATE]} component={AddPayout} />\n                            <SecureRoute exact path=\"/payout/:id\" roles={[AuthRoles.PAYOUTS_READ]} component={Payout} />\n                            <SecureRoute exact path=\"/payout/:id/:memberId\" roles={[AuthRoles.PAYOUTS_READ]} component={PayoutMember} />\n                            <SecureRoute exact path=\"/users\" roles={[AuthRoles.ADMIN]} component={Users} />\n                            <SecureRoute exact path=\"/user/:id\" roles={[AuthRoles.ADMIN]} component={User} />\n                            <Route path=\"/*\" component={Error404} />\n                        </Switch>\n                    </ConnectedRouter>\n                </div>\n            </Provider>\n        )\n    }\n}","import { createStore, applyMiddleware, combineReducers } from \"redux\";\nimport IndexReducer from \"./reducers/IndexReducer\";\nimport thunkMiddleware from 'redux-thunk'\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\nimport { History } from \"history\";\nimport { composeWithDevTools } from \"remote-redux-devtools\";\n\nexport default function configureStore(history: History<any>) {\n    return createStore(\n        combineReducers({ ...IndexReducer, router: connectRouter(history) }),\n        composeWithDevTools(\n            applyMiddleware(thunkMiddleware, routerMiddleware(history))\n        )\n    )\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and contacts)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import './fontawesome_init'\n\nimport React from 'react';\nimport ReactDOM, { render } from 'react-dom';\nimport Root from './Root';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <Root />\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();","import React, { Component } from \"react\";\nimport Button from \"./Button\";\n\nexport interface WizardStepProps {\n    title: string,\n    isActive?: boolean,\n    currentStep?: number,\n    totalSteps?: number,\n    fistStep?: () => void,\n    lastStep?: () => void,\n    nextStep?: () => void,\n    previousStep?: () => void,\n    gotoStep?: (step: number) => void,\n    onNextStep?: () => Promise<boolean>,\n    onPreviousStep?: () => Promise<boolean>,\n    validator?: () => Promise<boolean>\n}\n\nexport default class WizardStep extends Component<WizardStepProps> {\n    constructor(props: WizardStepProps) {\n        super(props)\n        this.previousStep = this.previousStep.bind(this)\n        this.nextStep = this.nextStep.bind(this)\n        this.renderBackButton = this.renderBackButton.bind(this)\n    }\n\n    public async nextStep() {\n        let valid = true\n        if (this.props.onNextStep) {\n            valid = await this.props.onNextStep()\n        }\n\n        if (valid) {\n            if (this.props.nextStep) {\n                this.props.nextStep()\n            }\n        }\n    }\n\n    public async previousStep() {\n        if (this.props.onPreviousStep) {\n            await this.props.onPreviousStep()\n        }\n\n        if (this.props.previousStep) {\n            this.props.previousStep()\n        }\n    }\n\n    private renderBackButton() {\n        if ((this.props.currentStep || 0) > 1) return <Button variant=\"secondary\" onClick={this.previousStep}>Zurck</Button>\n        return <div></div>\n    }\n\n    public render() {\n        let nextButtonText = 'Weiter'\n        let nextButtonClasses = 'btn btn-primary'\n        if (this.props.currentStep === this.props.totalSteps) {\n            nextButtonText = 'Speichern'\n            nextButtonClasses = 'btn btn-success'\n        }\n\n        return (\n            <div>\n                <div className=\"wizard-step-header\">\n                    <h4>{this.props.title}</h4>\n                </div>\n                <div className=\"wizard-step-body\">\n                    {this.props.children}\n                </div>\n                <div className=\"d-flex justify-content-between wizard-step-footer\">\n                    {this.renderBackButton()}\n                    <Button className={nextButtonClasses} onClick={this.nextStep}>{nextButtonText}</Button>\n                </div>\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport Select from 'react-select'\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport { ValueType } from \"react-select/lib/types\";\nimport { connect } from 'react-redux';\nimport Contact from \"../entities/Contact\";\n\ninterface MemberSelectProps {\n    defaultValue?: Array<Contact>,\n    isMulti?: boolean\n    onChange: Function,\n    members: DataInterface<Contact>,\n    loading: boolean,\n    ref?: Function,\n    fetchMembers: Function\n}\n\nexport class _MemberSelect extends Component<MemberSelectProps, { value?: Array<{ label: string, value: string }> }> {\n    constructor(props: MemberSelectProps) {\n        super(props)\n\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let member of this.props.defaultValue) {\n                valueProps.push({\n                    value: member.id.toString(),\n                    label: member.firstname + ' ' + member.lastname\n                })\n            }\n\n            this.state = {\n                value: valueProps\n            }\n        } else {\n            this.state = {}\n        }\n    }\n\n    public componentDidUpdate() {\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let member of this.props.defaultValue) {\n                valueProps.push({\n                    value: member.id.toString(),\n                    label: member.firstname + ' ' + member.lastname\n                })\n            }\n\n            if (JSON.stringify(this.state.value) !== JSON.stringify(valueProps)) {\n                this.setState({\n                    value: valueProps\n                })\n            }\n        }\n    }\n\n    public componentWillMount() {\n        if (this.props.members.ids.length < 1) {\n            this.props.fetchMembers()\n        }\n    }\n\n    private prepareOptions() {\n        let options = []\n        if (Object.keys(this.props.members.byId).length > 0) {\n            for (let i in this.props.members.byId) {\n                let member = this.props.members.byId[i]\n                options.push({\n                    label: member.firstname + ' ' + member.lastname,\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onChange(opt: ValueType<{ label: string, value: string }>) {\n        let ops: Array<{ label: string, value: string }> = [opt as { label: string, value: string }]\n        if (this.props.isMulti) {\n            ops = opt as Array<{ label: string, value: string }>\n        }\n\n        this.setState({\n            value: ops\n        })\n\n        let members = []\n        for (let o of ops) {\n            members.push(this.props.members.byId[o.value])\n        }\n\n        if (this.props.onChange) {\n            if (this.props.isMulti) {\n                this.props.onChange(members)\n            } else {\n                this.props.onChange(members[0])\n            }\n        }\n    }\n\n    private prepareValue() {\n        if (this.props.isMulti) {\n            return this.state.value || []\n        }\n\n        return (this.state.value || [])[0]\n    }\n\n    public render() {\n        if (!this.props.loading) {\n            return (<Select\n                ref={(select: any) => { if (this.props.ref) this.props.ref(select) }}\n                isClearable={true}\n                options={this.prepareOptions()}\n                backspaceRemovesValue={true}\n                hideSelectedOptions={true}\n                openMenuOnFocus={true}\n                isMulti={this.props.isMulti || false}\n                onChange={this.onChange.bind(this)}\n                value={this.prepareValue()}\n            />)\n        }\n\n        return null\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        members: state.data.members,\n        loading: state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        }\n    }\n}\n\n//@ts-ignore\nexport const MemberSelect = connect(mapStateToProps, mapDispatchToProps)(_MemberSelect)","import { Component } from \"react\";\nimport React from \"react\";\n\nexport default class Checkbox extends Component<{ onChange: (event: React.ChangeEvent<HTMLInputElement>) => void, checked?: boolean, label?: string, id?: string }, { checked: boolean }> {\n    public componentDidUpdate(prevProps: { onChange: (event: React.ChangeEvent<HTMLInputElement>) => void, checked?: boolean, label?: string, id?: string }) {\n        if (this.props.hasOwnProperty('checked')) {\n            if (this.props.checked !== prevProps.checked) {\n                this.setState({\n                    checked: this.props.checked || false\n                })\n            }\n        }\n    }\n\n    public render() {\n        return (\n            <span>\n                <input id={this.props.id || ''} type=\"checkbox\" checked={this.props.checked || false} onChange={this.props.onChange} />\n                <label htmlFor=\"food\">{this.props.label || ''}</label>\n            </span>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport Table from \"../../components/Table\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport WizardStep from \"../../components/WizardStep\";\nimport { BillingReportCompensationEntry } from \"../../interfaces/BillingReport\";\nimport Contact from \"../../entities/Contact\";\nimport { MemberSelect } from \"../../components/MemberSelect\";\n\nexport interface Step2Props {\n    onNext: (data: StringIndexed<any>) => void,\n    onPrevious?: () => Promise<boolean>\n}\n\nexport default class AddBillingReportStep2 extends Component<Step2Props, { tableEntries: StringIndexed<BillingReportCompensationEntry>, vks: Array<Contact>, from: string, until: string, charge: boolean }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: Step2Props) {\n        super(props)\n        this.onAdd = this.onAdd.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.removeTableItem = this.removeTableItem.bind(this)\n        this.validate = this.validate.bind(this)\n\n        this.state = {\n            tableEntries: {},\n            vks: [],\n            from: '',\n            until: '',\n            charge: true\n        }\n    }\n\n    private onAdd(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (this.formEl) {\n            let selection = this.state.tableEntries\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                valid = this.state.vks.length > 0\n            }\n\n            if (valid) {\n                let from = new Date(\"01/01/1970 \" + this.state.from)\n                let until = new Date(\"01/01/1970 \" + this.state.until)\n                let totalHours = (until.getTime() - from.getTime()) / 1000 / 60 / 60\n\n                if (totalHours < 0) totalHours = totalHours + 24\n\n                for (let i of this.state.vks) {\n                    let id = Math.round(Math.random() * 100000)\n                    selection[id] = {\n                        id: i.id,\n                        member: i,\n                        from: from,\n                        until: until,\n                        charge: this.state.charge,\n                        totalHours: totalHours\n                    }\n                }\n\n                this.setState({\n                    tableEntries: selection,\n                    vks: [],\n                    from: '',\n                    until: '',\n                    charge: true\n                })\n            }\n        }\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private onSelectChange(opt: Contact) {\n        if (opt) {\n            let optlet: Array<Contact> = (opt as any) as Array<Contact>\n            this.setState({\n                vks: optlet\n            })\n        }\n    }\n\n    private removeTableItem(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentElement.getAttribute('data-key')\n\n            if (id) {\n                let entries = this.state.tableEntries\n                delete entries[id.replace('_', '')]\n                this.setState({\n                    tableEntries: entries\n                })\n            }\n        }\n    }\n\n    private async validate(): Promise<boolean> {\n        if (Object.keys(this.state.tableEntries).length > 0) {\n            this.props.onNext({\n                vks: this.state.tableEntries\n            })\n\n            return true\n        }\n\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Einsatzzeiten\" onNextStep={this.validate} onPreviousStep={this.props.onPrevious || async function () { return true }} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form}>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <h5>VKs</h5>\n                            <MemberSelect\n                                onChange={this.onSelectChange}\n                                isMulti={true}\n                                defaultValue={this.state.vks}\n                            />\n                        </div>\n                        <div className=\"col-2\">\n                            <h5>Verrechnen</h5>\n                            <span className=\"switch switch-sm\">\n                                <input type=\"checkbox\" className=\"switch\" id=\"charge\" name=\"charge\" checked={this.state.charge} onChange={this.onInputChange} />\n                                <label htmlFor=\"charge\"></label>\n                            </span>\n                        </div>\n                    </div>\n                    <br></br>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <h5>Von</h5>\n                            <input type=\"time\" name=\"from\" value={this.state.from} onChange={this.onInputChange} className='form-control' required={true} />\n                        </div>\n                        <div className=\"col\">\n                            <h5>Bis</h5>\n                            <input type=\"time\" name=\"until\" value={this.state.until} onChange={this.onInputChange} className='form-control' required={true} />\n                        </div>\n                    </div>\n                    <br></br>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <button className=\"btn btn-primary btn-block\" onClick={this.onAdd}>Hinzufgen</button>\n                        </div>\n                    </div>\n                </form>\n                <br></br>\n                <div className=\"row\">\n                    <Table<BillingReportCompensationEntry>\n                        columns={[\n                            { text: 'VK', keys: { 'member': ['firstname', 'lastname'] }, sortable: true },\n                            { text: 'Von', keys: ['from'], format: 'toLocaleTimeString', sortable: true },\n                            { text: 'Bis', keys: ['until'], format: 'toLocaleTimeString', sortable: true },\n                            { text: 'Anzahl Stunden', keys: ['totalHours'], sortable: true },\n                            { text: 'Verrechnet', keys: ['charge'], sortable: true },\n                            { text: 'Actions', keys: ['id'], content: <button className=\"btn btn-danger\" onClick={this.removeTableItem}></button> }\n                        ]}\n                        defaultSort={{ keys: ['from'], direction: 'asc' }}\n                        data={this.state.tableEntries}\n                    />\n                </div>\n            </WizardStep >\n        )\n    }\n}","import { UI } from \"./UIActions\";\nimport { CreateBillingReport, EditBillingReport, BillingReportCompensationEntry } from \"./../interfaces/BillingReport\";\nimport { AnyAction } from \"redux\";\nimport { ThunkAction, ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport axios, { AxiosError, AxiosResponse, AxiosRequestConfig } from 'axios'\nimport { CompensationEntry } from \"../interfaces/CompensationEntry\";\nimport Config from '../Config'\nimport { PutCollectionPoints } from \"../interfaces/CollectionPoints\";\nimport { EditMember } from \"../interfaces/Member\";\nimport { AddPayout } from \"../interfaces/Payout\";\n\nexport const DataActions = {\n    FETCH_USER: 'fetch_user',\n    GOT_USER: 'got_user',\n\n    FETCH_MEMBERS: 'fetch_members',\n    GOT_MEMBERS: 'got_members',\n    EDIT_MEMBER: 'edit_member',\n\n    FETCH_RANKS: 'fetch_ranks',\n    GOT_RANKS: 'got_ranks',\n\n    FETCH_CONTACTS: 'fetch_contacts',\n    GOT_CONTACTS: 'got_contacts',\n\n    FETCH_ORDERS: 'fetch_orders',\n    GOT_ORDERS: 'got_orders',\n\n    FETCH_OPEN_ORDERS: 'fetch_open_orders',\n    GOT_OPEN_ORDERS: 'got_open_orders',\n\n    FETCH_BILLING_REPORTS: 'fetch_billing_reports',\n    GOT_BILLING_REPORTS: 'got_billing_reports',\n    ADD_BILLING_REPORT: 'add_billing_report',\n    APPROVE_BILLING_REPORT: 'approve_billing_report',\n    DECLINE_BILLING_REPORT: 'decline_billing_report',\n    EDIT_BILLING_REPORT: 'edit_billing_report',\n\n    FETCH_COMPENSATION_ENTRIES: 'fetch_compensation_entries',\n    GOT_COMPENSATION_ENTRIES: 'got_compensation_entries',\n    ADD_COMPENSATION_ENTRIES: 'add_compensation_entries',\n    ADD_COMPENSATION_ENTRY: 'add_compensation_entry',\n    APPROVE_COMPENSATION_ENTRY: 'approve_compensation_entry',\n    DECLINE_COMPENSATION_ENTRY: 'dcline_compensation_entry',\n\n    FETCH_USERS: 'fetch_users',\n    GOT_USERS: 'got_users',\n\n    FETCH_COLLECTION_POINTS: 'fetch_collection_points',\n    GOT_COLLECTION_POINTS: 'got_collection_points',\n    ADD_COLLECTION_POINT: 'add_collection_point',\n\n    ADD_PAYOUT: 'add_payout',\n\n    FETCH_PAYOUTS: 'fetch_payouts',\n    GOT_PAYOUTS: 'got_payouts',\n    SENDING_PAYOUTS_MAILS: 'sending_payouts_mail',\n    SENT_PAYOUTS_MAILS: 'sent_payouts_mail',\n    SENDING_PAYOUTS_BEXIO: 'sending_payouts_bexio',\n    SENT_PAYOUTS_BEXIO: 'sent_payouts_bexio'\n}\n\nexport class Data {\n    public static fetchUser(filter: Object = {}): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/me', DataActions.FETCH_USER, DataActions.GOT_USER)\n    }\n\n    public static fetchContacts(filter: Object = {}): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/contacts', DataActions.FETCH_CONTACTS, DataActions.GOT_CONTACTS)\n    }\n\n    public static fetchMembers(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/members', DataActions.FETCH_MEMBERS, DataActions.GOT_MEMBERS)\n    }\n\n    public static editMember(data: EditMember): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.EDIT_MEMBER\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/members', data, dispatch, () => {\n                dispatch(Data.fetchContacts())\n            })\n        }\n    }\n\n    public static fetchRanks(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/ranks', DataActions.FETCH_RANKS, DataActions.GOT_RANKS)\n    }\n\n    public static fetchOrders(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/orders', DataActions.FETCH_ORDERS, DataActions.GOT_ORDERS)\n    }\n\n    public static fetchOpenOrders(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/billing-reports/open', DataActions.FETCH_OPEN_ORDERS, DataActions.GOT_OPEN_ORDERS)\n    }\n\n    public static fetchBillingReports(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/billing-reports', DataActions.FETCH_BILLING_REPORTS, DataActions.GOT_BILLING_REPORTS)\n    }\n\n    public static addBillingReport(data: CreateBillingReport): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            dispatch({\n                type: DataActions.ADD_BILLING_REPORT\n            })\n\n            return Data.sendToApi('put', Config.apiEndpoint + '/api/billing-reports', data, dispatch, () => {\n                dispatch(UI.showSuccess('Gespeichert!'))\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static approveBillingReport(id: string): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.APPROVE_BILLING_REPORT,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/billing-reports/approve', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static declineBillingReport(id: string): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.DECLINE_BILLING_REPORT,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/billing-reports/decline', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static editBillingReport(data: EditBillingReport): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.EDIT_BILLING_REPORT\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/billing-reports', data, dispatch, () => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static fetchCompensationEntries(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/compensations', DataActions.FETCH_COMPENSATION_ENTRIES, DataActions.GOT_COMPENSATION_ENTRIES)\n    }\n\n    public static addCompensationEntriesForBillingReport(data: { billingReportId: number, entries: Array<BillingReportCompensationEntry> }): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.ADD_COMPENSATION_ENTRIES\n            })\n\n            return Data.sendToApi('put', Config.apiEndpoint + '/api/compensations/bulk', data, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n                dispatch(UI.showSuccess('Gespeichert!'))\n            })\n        }\n    }\n\n    public static addCompensationEntry(data: CompensationEntry): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.ADD_COMPENSATION_ENTRY\n            })\n\n            return Data.sendToApi('put', Config.apiEndpoint + '/api/compensations', data, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n            })\n        }\n    }\n\n    public static approveCompensationEntry(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.APPROVE_COMPENSATION_ENTRY,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/compensations/approve', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n                dispatch(UI.showSuccess('Genehmigt!'))\n            })\n        }\n    }\n\n    public static deleteCompensationEntry(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.APPROVE_COMPENSATION_ENTRY,\n                payload: id\n            })\n\n            return Data.sendToApi('delete', Config.apiEndpoint + '/api/compensations', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n                dispatch(UI.showSuccess('Gelscht!'))\n            })\n        }\n    }\n\n    public static fetchUsers(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/users', DataActions.FETCH_USERS, DataActions.GOT_USERS)\n    }\n\n    public static fetchCollectionPoints(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/collection-points', DataActions.FETCH_COLLECTION_POINTS, DataActions.GOT_COLLECTION_POINTS)\n    }\n\n    public static addCollectionPoint(data: PutCollectionPoints): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: DataActions.ADD_COLLECTION_POINT\n                })\n\n                Data.sendToApi('put', Config.apiEndpoint + '/api/collection-points', data, dispatch).then(() => {\n                    dispatch(Data.fetchCollectionPoints())\n                    dispatch(UI.showSuccess('Gespeichert!'))\n                    resolve()\n                }).catch(err => {\n                    reject(err)\n                })\n            })\n        }\n    }\n\n    public static fetchPayouts(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/payouts', DataActions.FETCH_PAYOUTS, DataActions.GOT_PAYOUTS)\n    }\n\n    public static sendPayoutMails(payoutId: number, memberIds: Array<number>): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            dispatch({\n                type: DataActions.SENDING_PAYOUTS_MAILS\n            })\n\n            await Data.sendToApi('post', Config.apiEndpoint + '/api/payouts/email', { payoutId, memberIds }, dispatch)\n            dispatch({\n                type: DataActions.SENT_PAYOUTS_MAILS\n            })\n\n            dispatch(UI.showSuccess('Gesendet!'))\n        }\n    }\n\n    public static sendToBexio(payoutId: number, memberIds: Array<number>): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            dispatch({\n                type: DataActions.SENDING_PAYOUTS_BEXIO\n            })\n\n            await Data.sendToApi('post', Config.apiEndpoint + '/api/payouts/bexio', { payoutId, memberIds }, dispatch)\n            dispatch({\n                type: DataActions.SENT_PAYOUTS_BEXIO\n            })\n\n            dispatch(UI.showSuccess('bertragen!'))\n        }\n    }\n\n    public static addPayout(data: AddPayout): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: DataActions.ADD_PAYOUT\n                })\n\n                Data.sendToApi('put', Config.apiEndpoint + '/api/payouts', data, dispatch).then(() => {\n                    dispatch(Data.fetchPayouts())\n                    dispatch(UI.showSuccess('Gespeichert!'))\n                    resolve()\n                }).catch(err => {\n                    reject(err)\n                })\n            })\n        }\n    }\n\n    public static reclaimPayout(payoutId: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            await Data.sendToApi('post', Config.apiEndpoint + '/api/payouts/reclaim', { id: payoutId }, dispatch)\n            dispatch(Data.fetchPayouts())\n            dispatch(UI.showSuccess('Done!'))\n        }\n    }\n\n    private static fetchFromApi(route: string, fetchAction: string, gotAction: string): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: fetchAction\n                })\n\n                Data.getFromApi<any>(route, dispatch).then(data => {\n                    resolve(dispatch({\n                        type: gotAction,\n                        payload: data\n                    }))\n                }).catch((error: AxiosError) => {\n                    reject(error)\n                })\n            })\n\n        }\n    }\n\n    public static async getFromApi<T>(route: string, dispatch: ThunkDispatch<State, undefined, AnyAction>): Promise<T> {\n        try {\n            const response = await axios.get(route, { withCredentials: true })\n            const data = Data.deepParser(response.data)\n            return data\n        } catch (error) {\n            if (error.response && (error.response as AxiosResponse).status === 403) {\n                dispatch(UI.showError('Zugriff verweigert!'))\n            } else if (error.response && (error.response as AxiosResponse).status === 401) {\n                dispatch(UI.logout())\n            } else {\n                dispatch(UI.showError('Ooops... Da ist ein Fehler passiert!'))\n            }\n\n            throw error\n        }\n    }\n\n    public static sendToApi<T>(method: 'post' | 'put' | 'delete', route: string, data: any, dispatch: ThunkDispatch<State, undefined, AnyAction>, callback?: (data?: T) => void, axiosSettings?: AxiosRequestConfig, deepParse = true): Promise<T> {\n        return new Promise<T>((resolve, reject) => {\n            axios({\n                ...axiosSettings,\n                method: method,\n                url: route,\n                data: data,\n                withCredentials: true,\n                timeout: 600000\n            }).then(response => {\n                let data = response.data\n                if (deepParse) data = Data.deepParser(data)\n                if (callback) callback(data)\n                resolve(data)\n            }).catch((error: AxiosError) => {\n                if (error.response && (error.response as AxiosResponse).status === 403) {\n                    dispatch(UI.showError('Zugriff verweigert!'))\n                } else if (error.response && (error.response as AxiosResponse).status === 401) {\n                    dispatch(UI.logout())\n                } else {\n                    dispatch(UI.showError('Ooops... Da ist ein Fehler passiert!'))\n                }\n                reject(error)\n            })\n        })\n    }\n\n    public static deepParser(data: any) {\n        if (data instanceof Array || typeof data === 'object') {\n            for (let i in data) {\n                data[i] = Data.deepParser(data[i])\n            }\n            return data\n        } else {\n            let dateRegex = /([0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T(2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9].[0-9][0-9][0-9]Z|[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]))/\n            if (dateRegex.test(data)) {\n                return new Date(data)\n            } else {\n                return data\n            }\n        }\n    }\n}"],"sourceRoot":""}