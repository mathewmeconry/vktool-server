{"version":3,"sources":["views/AddBillingReportSteps/AddBillingReportStep2.tsx","interfaces/AuthRoles.ts","components/Column.tsx","components/Panel.tsx","actions/UIActions.ts","components/Swipe.tsx","components/Header.tsx","components/NavibarElement.tsx","components/NavibarLevelHeader.tsx","components/Navibar.tsx","components/Page.tsx","Config.ts","views/AddBillingReport.tsx","components/WizardNav.tsx","views/AddBillingReportSteps/AddBillingReportStep1.tsx","views/AddBillingReportSteps/AddBillingReportStep3.tsx","views/AddBillingReportSteps/AddBillingReportStep4.tsx","components/Row.tsx","components/Button.tsx","components/Loading.tsx","components/Table.tsx","components/DataList.tsx","fontawesome_init.ts","reducers/UIReducer.ts","reducers/DataReducer.ts","reducers/IndexReducer.ts","entities/Logoff.ts","components/Errors/403.tsx","components/SecureRoute.tsx","components/ContactCompensation.tsx","components/ContactLogoffs.tsx","views/Dashboard.tsx","components/Action.tsx","views/Members.tsx","components/FormEntry.tsx","entities/Base.ts","entities/CollectionPoint.ts","components/CollectionPointSelect.tsx","views/Contact.tsx","views/Orders.tsx","views/Order.tsx","views/BillingReports.tsx","components/Modal.tsx","views/Compensations.tsx","views/Login.tsx","views/Users.tsx","views/User.tsx","components/OrderSelect.tsx","views/BillingReport.tsx","views/AddCompensation.tsx","entities/Compensation.ts","components/Errors/404.tsx","views/Compensation.tsx","views/MailingLists.tsx","views/CollectionPoints.tsx","views/AddCollectionPoint.tsx","views/Payouts.tsx","views/Payout.tsx","views/PayoutMember.tsx","views/AddPayout.tsx","views/Logoffs.tsx","views/Logoff.tsx","views/AddLogoff.tsx","Root.tsx","Store.ts","serviceWorker.js","index.tsx","components/MemberSelect.tsx","components/WizardStep.tsx","actions/DataActions.ts","components/Checkbox.tsx","components/Input.tsx"],"names":["AddBillingReportStep2","props","_this","Object","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","onAdd","bind","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","onInputChange","onSelectChange","removeTableItem","validate","state","tableEntries","vks","from","until","charge","event","preventDefault","formEl","selection","valid","checkValidity","className","length","Date","totalHours","getTime","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","i","value","Math","round","random","id","member","err","return","setState","target","type","checked","name","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","opt","optlet","currentTarget","parentNode","parentElement","getAttribute","entries","replace","keys","onNext","_this2","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","_components_WizardStep__WEBPACK_IMPORTED_MODULE_11__","assign","title","onNextStep","onPreviousStep","onPrevious","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee2","wrap","_context2","prev","abrupt","stop","ref","form","_components_MemberSelect__WEBPACK_IMPORTED_MODULE_12__","onChange","isMulti","defaultValue","htmlFor","required","onClick","_components_Table__WEBPACK_IMPORTED_MODULE_10__","columns","text","sortable","format","content","defaultSort","direction","data","Component","AuthRoles","__webpack_require__","d","__webpack_exports__","Column","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","indexOf","react__WEBPACK_IMPORTED_MODULE_5___default","children","Panel","header","actions","map","el","concat","scrollable","UIActions","NAVIBAR_TOGGLE","NAVIBAR_OPEN","NAVIBAR_CLOSE","NAVIBAR_LEVEL_OPEN","NAVIBAR_LEVEL_COLLAPSE","NOTIFICATION_SUCCESS","NOTIFICATION_ERROR","LOGOUT","UI","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","key","payload","message","_ref","_callee","dispatch","_context","push","_x","apply","arguments","Swipe","classCallCheck","possibleConstructorReturn","getPrototypeOf","scrolling","minThreshold","maxThreshold","minDurationThreshold","maxDurationThreshold","onStart","assertThisInitialized","onMove","onEnd","onScroll","capturing","start","x","y","clientX","mouseMove","touches","clientY","startTime","current","end","fireRunningEvents","calculateDirection","changedTouches","endTime","fireFinishEvents","scrollTimeout","clearTimeout","setTimeout","abs","duration","swipedUp","swipedRight","swipedDown","swipedLeft","swipingUp","swipingRight","swipingDown","swipingLeft","react_default","onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onMouseMove","onMouseUp","_Header","_Component","inherits","createClass","open","user","displayName","index_es","icon","Header","connect","ui","navibar_open","toggleNavibar","_NavibarElement","level","onClose","CurrentDevice","mobile","to","match","href","NavLink","exact","activeClassName","leftIcon","rightIcon","renderLinkElement","NavibarElement","withRouter","collapseNavibarLevel","_NavibarLevelHeader","open_level","onOpen","openClass","toString","Children","child","cloneElement","NavibarLevelHeader","navibar_level","openNavibarLevel","_Navibar","element","roles","role","includes","ADMIN","renderElement","AUTHENTICATED","MEMBERS_READ","DRAFT_READ","LOGOFFS_READ","ORDERS_READ","BILLINGREPORTS_CREATE","BILLINGREPORTS_READ","COMPENSATIONS_CREATE","COMPENSATIONS_READ","PAYOUTS_READ","Config","apiEndpoint","Navibar","pure","_Page","openNavibar","closeNavibar","Swipe_Swipe","Page","window","location","protocol","host","isMode","mode","process","toLowerCase","_AddBillingReport","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","save","setImmediate","fetchOpenOrders","fetchMembers","els","drivers","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__","_save","compensationEntries","orderId","order","date","food","remarks","creatorId","history","loading","_components_Page__WEBPACK_IMPORTED_MODULE_10__","_components_Loading__WEBPACK_IMPORTED_MODULE_21__","_components_Row__WEBPACK_IMPORTED_MODULE_11__","_components_Column__WEBPACK_IMPORTED_MODULE_12__","_components_Panel__WEBPACK_IMPORTED_MODULE_13__","react_step_wizard__WEBPACK_IMPORTED_MODULE_8___default","nav","_components_WizardNav__WEBPACK_IMPORTED_MODULE_16__","_AddBillingReportSteps_AddBillingReportStep1__WEBPACK_IMPORTED_MODULE_17__","openOrders","_AddBillingReportSteps_AddBillingReportStep2__WEBPACK_IMPORTED_MODULE_18__","_AddBillingReportSteps_AddBillingReportStep3__WEBPACK_IMPORTED_MODULE_19__","_AddBillingReportSteps_AddBillingReportStep4__WEBPACK_IMPORTED_MODULE_20__","firstname","lastname","driver","AddBillingReport","members","ids","Data","addBillingReport","WizardNav","steps","totalSteps","classes","currentStep","renderSteps","AddBillingReportStep1","options","byId","contact","documentNr","parseInt","_components_WizardStep__WEBPACK_IMPORTED_MODULE_10__","renderOptions","AddBillingReportStep3","onELChange","onDriversChange","stateName","elSelect","_this3","select","driversSelect","_components_Checkbox__WEBPACK_IMPORTED_MODULE_11__","label","AddBillingReportStep4","_components_WizardStep__WEBPACK_IMPORTED_MODULE_6__","toLocaleDateString","_components_Table__WEBPACK_IMPORTED_MODULE_7__","join","Row","Button","react__WEBPACK_IMPORTED_MODULE_8___default","react_bootstrap__WEBPACK_IMPORTED_MODULE_9__","viewBox","fill-opacity","attributeName","dur","repeatCount","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__","Loading","fullscreen","Table","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","sortClick","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","search","onColumnDataChange","sortKey","sortDirection","searchableKeys","genSearchKeys","columnKey","newly","column","find","colKey","Array","k","prevProps","table","genSortKeys","prepared","sortValues","b","sort","aValue","bValue","parseFloat","isNaN","sorted","_i","_prepared","split","finalKeys","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","dataKey","dataset","onSort","searchKeys","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","searchable","searchString","result","record","searchableString","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","f","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","hasOwnProperty","rows","_loop","dataEntry","row","checkable","react__WEBPACK_IMPORTED_MODULE_7___default","style","width","_components_Checkbox__WEBPACK_IMPORTED_MODULE_9__","onCheck","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_loop3","tdKey","param","command","entry","_loop4","link","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","linkPrefix","prefix","suffix","editable","_Input__WEBPACK_IMPORTED_MODULE_10__","_iterator7","trKey","data-key","addNew","newRow","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_loop2","_iterator6","sortIndicator","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__","scope","cursor","renderRows","DataList","fetchData","elementView","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","textSearch","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","button","document","origin","viewLocation","nextProps","nextState","onSearch","react__WEBPACK_IMPORTED_MODULE_6___default","_Loading__WEBPACK_IMPORTED_MODULE_13__","dataById","_components_Table__WEBPACK_IMPORTED_MODULE_11__","tableColumns","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_12__","rowActions","_components_Page__WEBPACK_IMPORTED_MODULE_7__","_components_Row__WEBPACK_IMPORTED_MODULE_8__","_components_Column__WEBPACK_IMPORTED_MODULE_9__","_components_Panel__WEBPACK_IMPORTED_MODULE_10__","panelActions","placeholder","renderTable","library","add","fab","faUserTimes","faCheckCircle","faFileInvoiceDollar","faFileWord","faFilePdf","faExternalLinkAlt","faFileExcel","faPowerOff","faTrash","faSave","faAddressBook","faMapMarkerAlt","faDownload","faClipboard","faBars","faTachometerAlt","faUsers","faCircleNotch","faTimes","faCheck","faSortUp","faSortDown","faPencilAlt","faFileAlt","faEye","faFileSignature","faPlus","faList","faDollarSign","faUser","faAngleDown","faAngleUp","faMailBulk","combineReducers","action","notification","toast","success","autoClose","position","error","IndexReducer","UIReducer","logoffs","DataActions","FETCH_LOGOFFS","GOT_LOGOFFS","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","logoff","APPROVE_LOGOFF","approved","DECLINE_LOGOFF","filter","payouts","FETCH_PAYOUTS","GOT_PAYOUTS","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","byMember","compensations","compensation","billingReport","description","compensationsByMember","totalWithoutMinus","total","comp","amount","reduce","_iterator11","collectionPoints","FETCH_COLLECTION_POINTS","GOT_COLLECTION_POINTS","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","FETCH_USER","GOT_USER","users","FETCH_USERS","GOT_USERS","contacts","FETCH_CONTACTS","GOT_CONTACTS","FETCH_MEMBERS","GOT_MEMBERS","ranks","FETCH_RANKS","GOT_RANKS","rank","orders","FETCH_ORDERS","GOT_ORDERS","FETCH_OPEN_ORDERS","GOT_OPEN_ORDERS","billingReports","FETCH_BILLING_REPORTS","GOT_BILLING_REPORTS","report","APPROVE_BILLING_REPORT","status","FETCH_COMPENSATION_ENTRIES","GOT_COMPENSATION_ENTRIES","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","APPROVE_COMPENSATION_ENTRY","DELETE_COMPENSATION_ENTRY","mailingLists","all","squad","vst","con","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","mail","mailSecond","moreMails","contactGroups","group","bexioId","LogoffState","Error403","_SecureRoute","Route","path","component","showError","Redirect","pathname","prevLocation","SecureRoute","_ContactCompensation","compensationView","openCompensationsSum","forEach","getContactCompensations","paied","variant","react_fontawesome_index_es","bexioContact","toFixed","ContactCompensation","fetchCompensationEntries","_ContactLogoff","logoffView","getContactLogoffs","ContactLogoff","fetchLogoffs","_Dashboard","fetchUser","shortcuts","Link","renderShortcuts","renderCompensations","renderLogoffs","Dashboard","Action","components_Button","_Members","excelExport","_excelExport","asyncToGenerator","regenerator_default","membersAsArray","germanizedMember","sheet","book","Nachname","Vorname","Rang","Funktionen","functions","Geburtstag","birthday","Adresse","address","postcode","city","Abholpunkt","E-Mail","E-Mail 2","Festnetz","phoneFixed","Mobile","phoneMobile","collectionPoint","Xlsx","utils","json_to_sheet","book_new","book_append_sheet","writeFile","Action_Action","memberlistPdf","Members","_memberlistPdf","FormEntry","Input","renderChildren","Base","CollectionPoint","_CollectionPointSelect","valueProps","JSON","stringify","fetchCollectionPoints","ops","o","react_select_esm","isClearable","prepareOptions","backspaceRemovesValue","hideSelectedOptions","openMenuOnFocus","prepareValue","CollectionPointSelect","_Contact","groups","loadContacts","onSave","onAbort","renderCollectionPoint","renderPanelActions","onMoreMailsChange","entryDate","exitDate","bankName","iban","accountHolder","defineProperty","index","toConsumableArray","slice","editMember","collectionPointId","opts","multi","MEMBERS_EDIT","CONTACTS_EDIT","_callee3","_context3","isAdmin","CONTACTS_READ","_this4","params","_403_Error403","FormEntry_FormEntry","phoneFixedSecond","removeMoreMailEntry","Fragment","renderActions","Contact","fetchContacts","Orders","fetchOrders","_Order","loadOrders","positionsRendered","positions","pos","dangerouslySetInnerHTML","__html","positionTotal","execDates","deliveryAddress","renderPositions","Order","BillingReports","creator","fetchBillingReports","Modal","handleClose","onHide","esm_Modal","show","dialogClassName","closeButton","Body","body","Footer","footer","_Compensations","deleteCompensation","deleteCompensationConfirmed","showModal","hideModal","modalShow","toDeleteCompensation","delete","Modal_Modal","ButtonGroup","renderModal","Compensations","deleteCompensationEntry","_Login","mounted","loaded","_componentDidMount","_componentWillUnmount","showSuccess","errorShown","Login","Users","fetchUsers","_User","renderRolePart","renderBexioPart","User","_OrderSelect","OrderSelect","_BillingReport","approve","decline","onInformationEdit","onInformationSave","getCompensationActions","addCompensations","informationEdit","_onInformationEdit","_onAbort","_x2","_onInformationSave","edit","_x3","_elementView","_callee4","_id","_context4","_x4","_deleteCompensation","_callee5","_id2","_context5","_x5","_deleteCompensationConfirmed","_callee6","_context6","_addCompensations","_callee7","_context7","addCompensationEntries","billingReportId","_x6","_showModal","_callee8","_context8","_hideModal","_callee9","_context9","BILLINGREPORTS_APPROVE","block","MemberSelect","statusBadgeClass","BILLINGREPORTS_EDIT","renderOrder","toISOString","renderEls","renderDrivers","renderCompensationDeletionModal","renderCompensationsAddModal","renderInformations","prepareCompensationsForTable","BillingReport","approveBillingReport","declineBillingReport","editBillingReport","_deleteCompensation2","_callee10","_context10","then","_x7","addCompensationEntriesForBillingReport","_AddCompensation","_onSave","prepareMembers","step","AddCompensation","addCompensationEntry","Compensation","payout","Error404","src","_Compensation","renderBillingReport","fetchCompensations","react","CompensationEntity","isOrderBased","toLocaleTimeString","compensationIds","_404_Error404","isCustom","bexioBill","transferCompensation","approveCompensationEntry","_MailingLists","navigator","permissions","query","clipboard","writeText","catch","console","copy","log","readOnly","addCopy","MailingLists","CollectionPoints","_AddCollectionPoint","minLength","maxLength","AddCollectionPoint","addCollectionPoint","Payouts","fetchPayouts","_Payout","showMailModal","showBexioModal","sendMails","sendToBexio","reclaim","transfer","modalType","selected","_showMailModal","_showBexioModal","_sendMails","_sendToBexio","_reclaim","_transfer","newId","records","getBankingXml","Payout","downloader","blob","filename","url","URL","createObjectURL","download","appendChild","click","removeChild","payoutId","memberIds","sendPayoutMails","reclaimPayout","_getBankingXml","sendToApi","sent","Blob","_PayoutMember","memberPdf","PayoutMember","memberId","revokeObjectURL","_memberPdf","responseType","_AddPayout","AddPayout","addPayout","_Logoffs","deleteLogoff","deleteLogoffConfirmed","toDeleteLogoff","Logoffs","_Logoff","PENDING","_this$props$logoff","_this$props$logoff$ch","logoffIds","APPROVED","DECLINED","createdBy","changedStateBy","Logoff","approveLogoff","declineLogoff","_AddLogoff","onLogoffChange","AddLogoff","addLogoffs","Root","loadConfig","createBrowserHistory","basename","store","createStore","objectSpread","router","connectRouter","composeWithDevTools","applyMiddleware","thunkMiddleware","routerMiddleware","getState","es","lib","hideProgressBar","newestOnTop","closeOnClick","rtl","draggable","pauseOnHover","esm","Switch","MAILING_LISTS","DRAFT_EDIT","DRAFT_CREATE","LOGOFFS_CREATE","PAYOUTS_CREATE","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","Root_Root","getElementById","addEventListener","fetch","response","contentType","headers","get","ready","unregister","reload","checkValidServiceWorker","_MemberSelect","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","react_select__WEBPACK_IMPORTED_MODULE_7__","WizardStep","previousStep","nextStep","renderBackButton","_Button__WEBPACK_IMPORTED_MODULE_9__","nextButtonText","nextButtonClasses","EDIT_MEMBER","ADD_BILLING_REPORT","DECLINE_BILLING_REPORT","EDIT_BILLING_REPORT","ADD_COMPENSATION_ENTRIES","ADD_COMPENSATION_ENTRY","DECLINE_COMPENSATION_ENTRY","ADD_COLLECTION_POINT","ADD_PAYOUT","SENDING_PAYOUTS_MAILS","SENT_PAYOUTS_MAILS","SENDING_PAYOUTS_BEXIO","SENT_PAYOUTS_BEXIO","ADD_LOGOFFS","ADD_LOGOFF","DELETE_LOGOFF","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__","fetchFromApi","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_x8","_ref9","_x9","_ref10","Promise","resolve","reject","_x10","_ref11","_callee11","_context11","_x11","_ref12","_callee12","_context12","_x12","_ref13","_callee13","_context13","_x13","_ref14","_callee14","_context14","_x14","_ref15","_callee15","_context15","_x15","_ref16","_callee16","_context16","_x16","_ref17","_callee17","_context17","_x17","_ref18","_callee18","_context18","_x18","_ref19","_callee19","_context19","_x19","route","fetchAction","gotAction","_ref20","_callee20","_context20","getFromApi","_x20","_getFromApi","_callee21","_context21","axios","withCredentials","deepParser","t0","logout","_x21","_x22","method","callback","axiosSettings","deepParse","_home_mathias_Documents_VK_app_webclient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","timeout","test","Checkbox","_Checkbox__WEBPACK_IMPORTED_MODULE_6__","react_datepicker__WEBPACK_IMPORTED_MODULE_7___default","allowSameDay","dateFormat","disabledKeyboardNavigation","showTimeSelect","timeFormat","shouldCloseOnSelect","toLocaleString","option"],"mappings":"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","file":"static/js/main.0b19d05c.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport Table from \"../../components/Table\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport WizardStep from \"../../components/WizardStep\";\nimport { BillingReportCompensationEntry } from \"../../interfaces/BillingReport\";\nimport Contact from \"../../entities/Contact\";\nimport { MemberSelect } from \"../../components/MemberSelect\";\n\nexport interface Step2Props {\n    onNext: (data: StringIndexed<any>) => void,\n    onPrevious?: () => Promise<boolean>\n}\n\nexport default class AddBillingReportStep2 extends Component<Step2Props, { tableEntries: StringIndexed<BillingReportCompensationEntry>, vks: Array<Contact>, from: string, until: string, charge: boolean }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: Step2Props) {\n        super(props)\n        this.onAdd = this.onAdd.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.removeTableItem = this.removeTableItem.bind(this)\n        this.validate = this.validate.bind(this)\n\n        this.state = {\n            tableEntries: {},\n            vks: [],\n            from: '',\n            until: '',\n            charge: true\n        }\n    }\n\n    private onAdd(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (this.formEl) {\n            let selection = this.state.tableEntries\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                valid = this.state.vks.length > 0\n            }\n\n            if (valid) {\n                let from = new Date(\"01/01/1970 \" + this.state.from)\n                let until = new Date(\"01/01/1970 \" + this.state.until)\n                let totalHours = (until.getTime() - from.getTime()) / 1000 / 60 / 60\n\n                if (totalHours < 0) totalHours = totalHours + 24\n\n                for (let i of this.state.vks) {\n                    let id = Math.round(Math.random() * 100000)\n                    selection[id] = {\n                        id: i.id,\n                        member: i,\n                        from: from,\n                        until: until,\n                        charge: this.state.charge,\n                        totalHours: totalHours\n                    }\n                }\n\n                this.setState({\n                    tableEntries: selection,\n                    vks: [],\n                    from: '',\n                    until: '',\n                    charge: true\n                })\n            }\n        }\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private onSelectChange(opt: Contact) {\n        if (opt) {\n            let optlet: Array<Contact> = (opt as any) as Array<Contact>\n            this.setState({\n                vks: optlet\n            })\n        }\n    }\n\n    private removeTableItem(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentElement.getAttribute('data-key')\n\n            if (id) {\n                let entries = this.state.tableEntries\n                delete entries[id.replace('_', '')]\n                this.setState({\n                    tableEntries: entries\n                })\n            }\n        }\n    }\n\n    private async validate(): Promise<boolean> {\n        if (Object.keys(this.state.tableEntries).length > 0) {\n            this.props.onNext({\n                vks: this.state.tableEntries\n            })\n\n            return true\n        }\n\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Einsatzzeiten\" onNextStep={this.validate} onPreviousStep={this.props.onPrevious || async function () { return true }} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form}>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <h5>VKs</h5>\n                            <MemberSelect\n                                onChange={this.onSelectChange}\n                                isMulti={true}\n                                defaultValue={this.state.vks}\n                            />\n                        </div>\n                        <div className=\"col-2\">\n                            <h5>Verrechnen</h5>\n                            <span className=\"switch switch-sm\">\n                                <input type=\"checkbox\" className=\"switch\" id=\"charge\" name=\"charge\" checked={this.state.charge} onChange={this.onInputChange} />\n                                <label htmlFor=\"charge\"></label>\n                            </span>\n                        </div>\n                    </div>\n                    <br></br>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <h5>Von</h5>\n                            <input type=\"time\" name=\"from\" value={this.state.from} onChange={this.onInputChange} className='form-control' required={true} />\n                        </div>\n                        <div className=\"col\">\n                            <h5>Bis</h5>\n                            <input type=\"time\" name=\"until\" value={this.state.until} onChange={this.onInputChange} className='form-control' required={true} />\n                        </div>\n                    </div>\n                    <br></br>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <button className=\"btn btn-primary btn-block\" onClick={this.onAdd}>Hinzufügen</button>\n                        </div>\n                    </div>\n                </form>\n                <br></br>\n                <div className=\"row\">\n                    <Table<BillingReportCompensationEntry>\n                        columns={[\n                            { text: 'VK', keys: { 'member': ['firstname', 'lastname'] }, sortable: true },\n                            { text: 'Von', keys: ['from'], format: 'toLocaleTimeString', sortable: true },\n                            { text: 'Bis', keys: ['until'], format: 'toLocaleTimeString', sortable: true },\n                            { text: 'Anzahl Stunden', keys: ['totalHours'], sortable: true },\n                            { text: 'Verrechnet', keys: ['charge'], sortable: true },\n                            { text: 'Actions', keys: ['id'], content: <button className=\"btn btn-danger\" onClick={this.removeTableItem}>⨯</button> }\n                        ]}\n                        defaultSort={{ keys: ['from'], direction: 'asc' }}\n                        data={this.state.tableEntries}\n                    />\n                </div>\n            </WizardStep >\n        )\n    }\n}","export enum AuthRoles {\n    AUTHENTICATED = 'authenticated',\n\n    CONTACTS_READ = 'contacts_read',\n    CONTACTS_EDIT = 'contacts_edit',\n\n    MEMBERS_READ = 'members_read',\n    MEMBERS_EDIT = 'members_edit',\n\n    MAILING_LISTS = 'mailing_lists',\n\n    RANKS_READ = 'ranks_read',\n    RANKS_EDIT = 'ranks_edit',\n\n    ORDERS_READ = 'orders_read',\n    ORDERS_EDIT = 'orders_edit',\n\n    COMPENSATIONS_READ = 'compensations_read',\n    COMPENSATIONS_CREATE = 'compensations_create',\n    COMPENSATIONS_EDIT = 'compensations_edit',\n    COMPENSATIONS_APPROVE = 'compensations_approve',\n\n    BILLINGREPORTS_READ = 'billingreports_read',\n    BILLINGREPORTS_CREATE = 'billingreports_create',\n    BILLINGREPORTS_EDIT = 'billingreports_edit',\n    BILLINGREPORTS_APPROVE = 'billingrepors_approve',\n\n    DRAFT_READ = 'draft_read',\n    DRAFT_CREATE = 'draft_create',\n    DRAFT_EDIT = 'draft_edit',\n\n    PAYOUTS_READ = 'payouts_read',\n    PAYOUTS_CREATE = 'payouts_create',\n    PAYOUTS_SEND = 'payouts_send',\n\n    LOGOFFS_READ = 'logoffs_read',\n    LOGOFFS_CREATE = 'logoffs_create',\n    LOGOFFS_EDIT = 'logoffs_edit',\n    LOGOFFS_APPROVE = 'logoffs_approve',\n\n    ADMIN = 'admin'\n}","import React, { Component } from \"react\";\n\nexport default class Column extends Component<{ className?: string }> {\n    private className = 'col'\n\n    constructor(props: { className?: string }) {\n        super(props)\n\n        if (this.props.className && this.props.className.indexOf('col') > -1) {\n            this.className = this.props.className\n        } else if (this.props.className) {\n            this.className += ' ' + this.props.className\n        }\n    }\n\n    public render() {\n        return (\n            <div className={this.className}>\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\n\nexport default class Panel extends Component<{ title?: string | React.ReactNode, actions?: Array<any>, className?: string, scrollable?: boolean }> {\n    public render() {\n        let header;\n        let actions = this.props.actions || []\n\n        if (this.props.title) {\n            header = <div className=\"panel-header\"><span className=\"panel-title\">{this.props.title}</span>\n                <div className=\"panel-actions\">\n                    {actions.map(el => el)}\n                </div>\n            </div>\n        } else if (this.props.actions && this.props.actions.length > 0) {\n            header = <div className=\"panel-header\">\n                <div className=\"panel-actions\">\n                    {actions.map(el => el)}\n                </div>\n            </div>\n        }\n\n        return (\n            <div className={\"panel \" + (this.props.className || '')}>\n                {header}\n                <div className={`panel-body ${(this.props.scrollable) ? 'panel-body-scrollable' : ''}`}>\n                    {this.props.children}\n                </div>\n            </div>\n        )\n    }\n}","import { ThunkAction } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction, Dispatch } from \"redux\";\nimport { push } from \"connected-react-router\";\n\nexport const UIActions = {\n    NAVIBAR_TOGGLE: 'navibar_toggle',\n    NAVIBAR_OPEN: 'navibar_open',\n    NAVIBAR_CLOSE: 'navibar_close',\n    NAVIBAR_LEVEL_OPEN: 'navibar_level_open',\n    NAVIBAR_LEVEL_COLLAPSE: 'navibar_level_collapse',\n\n    NOTIFICATION_SUCCESS: 'notification_success',\n    NOTIFICATION_ERROR: 'notification_error',\n\n    LOGOUT: 'logout'\n}\n\nexport class UI {\n    public static toggleNavibar() {\n        return {\n            type: UIActions.NAVIBAR_TOGGLE\n        }\n    }\n\n    public static openNavibar() {\n        return {\n            type: UIActions.NAVIBAR_OPEN\n        }\n    }\n\n    public static closeNavibar() {\n        return {\n            type: UIActions.NAVIBAR_CLOSE\n        }\n    }\n\n    public static openNavibarLevel(id: string) {\n        return {\n            type: UIActions.NAVIBAR_LEVEL_OPEN,\n            payload: id\n        }\n    }\n\n    public static collapseNavibarLevel() {\n        return {\n            type: UIActions.NAVIBAR_LEVEL_COLLAPSE\n        }\n    }\n\n    public static showError(message: string) {\n        return {\n            type: UIActions.NOTIFICATION_ERROR,\n            payload: message\n        }\n    }\n\n    public static showSuccess(message: string) {\n        return {\n            type: UIActions.NOTIFICATION_SUCCESS,\n            payload: message\n        }\n    }\n\n    public static logout(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: Dispatch) => {\n            dispatch(push('/login'))\n            return { type: UIActions.LOGOUT }\n        }\n    }\n}","import React, { Component, HTMLAttributes, SyntheticEvent, MouseEvent } from \"react\";\n\nexport interface SwipeProps extends HTMLAttributes<{}> {\n    minThreshold?: number,\n    maxThreshold?: number,\n    minDurationThreshold?: number,\n    maxDurationThreshold?: number,\n    mouseMove?: boolean,\n    swipingRight?: (event: any) => void\n    swipingLeft?: (event: any) => void\n    swipingUp?: (event: any) => void\n    swipingDown?: (event: any) => void\n    swipedRight?: (event: any) => void\n    swipedLeft?: (event: any) => void\n    swipedUp?: (event: any) => void\n    swipedDown?: (event: any) => void\n}\n\ninterface Coordinates {\n    x: number,\n    y: number\n}\n\ninterface SwipeState {\n    capturing: boolean\n    start: Coordinates,\n    startTime?: Date,\n    end?: Coordinates,\n    endTime?: Date,\n    current?: Coordinates\n}\n\nexport default class Swipe extends Component<SwipeProps, SwipeState> {\n    private scrolling: boolean = false\n    private scrollTimeout: NodeJS.Timeout\n    private minThreshold: number\n    private maxThreshold: number\n    private minDurationThreshold: number\n    private maxDurationThreshold: number\n\n    constructor(props: SwipeProps) {\n        super(props)\n\n        this.minThreshold = props.minThreshold || 10\n        this.maxThreshold = props.maxThreshold || 100\n        this.minDurationThreshold = props.minDurationThreshold || 0\n        this.maxDurationThreshold = props.maxDurationThreshold || 100\n\n        this.onStart = this.onStart.bind(this)\n        this.onMove = this.onMove.bind(this)\n        this.onEnd = this.onEnd.bind(this)\n        this.onScroll = this.onScroll.bind(this)\n\n        this.state = {\n            capturing: false,\n            start: { x: -1, y: -1 }\n        }\n    }\n\n    private onStart(event: any): void {\n        if (!this.scrolling && ((event.clientX && this.props.mouseMove) || event.touches)) {\n            let x = 0, y = 0\n            if (event.clientX) {\n                x = event.clientX\n                y = event.clientY\n            } else if (event.touches) {\n                x = event.touches[0].clientX\n                y = event.touches[0].clientY\n            }\n\n            this.setState({\n                capturing: true,\n                start: { x: x, y: y },\n                startTime: new Date(),\n                current: undefined,\n                end: undefined\n            })\n        }\n    }\n\n    private onMove(event: any): void {\n        if (this.state.capturing) {\n            let x = 0, y = 0\n            if (event.clientX) {\n                x = event.clientX\n                y = event.clientY\n            } else if (event.touches) {\n                x = event.touches[0].clientX\n                y = event.touches[0].clientY\n            }\n\n            this.setState({\n                current: { x: x, y: y }\n            })\n\n            this.fireRunningEvents(this.calculateDirection(this.state.start, { x: x, y: y }), event)\n        }\n    }\n\n    private onEnd(event: any): void {\n        if (this.state.capturing && this.state.start && this.state.startTime) {\n            let x = 0, y = 0\n            if (event.clientX) {\n                x = event.clientX\n                y = event.clientY\n            } else if (event.touches) {\n                x = event.changedTouches[0].clientX\n                y = event.changedTouches[0].clientY\n            }\n\n            this.setState({\n                capturing: false,\n                end: { x: x, y: y },\n                endTime: new Date()\n            })\n\n            this.fireFinishEvents(this.calculateDirection(this.state.start, { x: x, y: y }), new Date().getTime() - this.state.startTime.getTime(), event)\n        }\n    }\n\n    private onScroll(event: SyntheticEvent): void {\n        this.scrolling = true\n        if (this.scrollTimeout) {\n            clearTimeout(this.scrollTimeout)\n        }\n\n        this.scrollTimeout = setTimeout(() => { this.scrolling = false }, 150)\n    }\n\n    private calculateDirection(start: Coordinates, end: Coordinates): string {\n        let x = Math.abs(start.x - end.x)\n        let y = Math.abs(start.y - end.y)\n\n        if (x > y) {\n            if (x > this.minThreshold && x < this.maxThreshold) {\n                if (start.x > end.x) {\n                    return 'left'\n                }\n                return 'right'\n            }\n        } else {\n            if (y > this.minThreshold && y < this.maxThreshold) {\n                if (start.y > end.y) {\n                    return 'up'\n                }\n                return 'down'\n            }\n        }\n\n        return ''\n    }\n\n    private fireFinishEvents(direction: string, duration: number, event: any): void {\n        if (duration > this.minDurationThreshold && duration < this.maxDurationThreshold) {\n            switch (direction) {\n                case 'up':\n                    if (this.props.swipedUp) this.props.swipedUp(event)\n                    break\n                case 'right':\n                    if (this.props.swipedRight) this.props.swipedRight(event)\n                    break\n                case 'down':\n                    if (this.props.swipedDown) this.props.swipedDown(event)\n                    break\n                case 'left':\n                    if (this.props.swipedLeft) this.props.swipedLeft(event)\n                    break\n            }\n        }\n    }\n\n    private fireRunningEvents(direction: string, event: any): void {\n        switch (direction) {\n            case 'up':\n                if (this.props.swipingUp) this.props.swipingUp(event)\n                break\n            case 'right':\n                if (this.props.swipingRight) this.props.swipingRight(event)\n                break\n            case 'down':\n                if (this.props.swipingDown) this.props.swipingDown(event)\n                break\n            case 'left':\n                if (this.props.swipingLeft) this.props.swipingLeft(event)\n                break\n        }\n    }\n\n    public render() {\n        return (\n            <div\n                onScroll={this.onScroll}\n                onTouchStart={this.onStart}\n                onTouchMove={this.onMove}\n                onTouchEnd={this.onEnd}\n                onMouseDown={this.onStart}\n                onMouseMove={this.onMove}\n                onMouseUp={this.onEnd}\n                className={this.props.className}\n            >\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { Dispatch } from \"redux\";\nimport { UI } from \"../actions/UIActions\";\nimport User from \"../entities/User\";\nimport { RouterProps } from \"react-router\";\nimport Config from \"../Config\";\n\nexport class _Header extends Component<{ open: boolean, user: User, onClick: () => {} } & RouterProps, {}> {\n    public render() {\n        let className = 'navibar-open'\n        if (!this.props.open) {\n            className = 'navibar-collapsed'\n        }\n\n        if (this.props.user) {\n            return (\n                <div id=\"header\">\n                    <div id=\"header-title\" className={className}>\n                        <div id=\"user\">\n                            {this.props.user.displayName}\n                        </div>\n                    </div>\n                    <div id=\"header-bars\" onClick={this.props.onClick}>\n                        <span>\n                            <FontAwesomeIcon icon=\"bars\" />\n                        </span>\n                    </div>\n                </div>\n            )\n        }\n\n        return (\n            <div></div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open: state.ui.navibar_open,\n        user: state.data.user.data\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        onClick: () => {\n            dispatch(UI.toggleNavibar())\n        }\n    }\n}\n\n//@ts-ignore\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(_Header)","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { NavLink } from \"react-router-dom\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport { UI } from \"../actions/UIActions\";\nimport { connect } from \"react-redux\";\nimport { AnyAction } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport CurrentDevice from 'current-device'\nimport { withRouter } from 'react-router-dom'\n\nexport interface NavibarElementProps {\n    level?: number,\n    leftIcon?: IconProp,\n    rightIcon?: IconProp,\n    to?: string,\n    text: string,\n    navibar_open?: boolean,\n    onMouseUp?: (event: React.MouseEvent<HTMLElement>) => void,\n    onClose?: () => void,\n    toggleNavibar?: () => void\n}\n\nexport class _NavibarElement extends Component<NavibarElementProps> {\n    private level: number\n\n    constructor(props: NavibarElementProps) {\n        super(props)\n\n        this.onMouseUp = this.onMouseUp.bind(this)\n        this.level = this.props.level || 0\n    }\n\n    private onMouseUp(event: React.MouseEvent<HTMLElement>) {\n        if (this.level === 0 && this.props.onClose) this.props.onClose()\n        if (this.props.onMouseUp) this.props.onMouseUp(event)\n        if (CurrentDevice.mobile() && this.props.toggleNavibar && this.props.to) this.props.toggleNavibar()\n    }\n\n    private renderLinkElement(to: string, content: Array<JSX.Element>, onMouseUp: (event: React.MouseEvent<HTMLElement>) => void) {\n        if (to.match(/^(http|https):\\/\\//)) {\n            return (\n                <a href={to} className=\"navibar-element\" onMouseUp={onMouseUp} target=\"_blank\">\n                    {content}\n                </a>\n            )\n        } else {\n            return (\n                <NavLink exact to={to} className=\"navibar-element\" activeClassName=\"navibar-element-active\" onMouseUp={onMouseUp} >\n                    {content}\n                </ NavLink>\n            )\n        }\n    }\n\n    public render() {\n        let leftIcon\n        let rightIcon: JSX.Element = <p></p>\n\n        if (this.props.leftIcon) leftIcon = <FontAwesomeIcon icon={this.props.leftIcon} className=\"navibar-element-icon\" />\n        if (this.props.rightIcon) rightIcon = <FontAwesomeIcon icon={this.props.rightIcon} className=\"navibar-element-icon navibar-element-icon-right float-right\" />\n\n        if (this.props.to) {\n            return this.renderLinkElement(this.props.to, [\n                <li key={this.props.to}>\n                    {leftIcon}\n                    <p className=\"navibar-element-text\">{this.props.text}</p>\n                    {rightIcon}\n                </li>\n            ], this.onMouseUp)\n        } else {\n            return (\n                <li className=\"navibar-element\" onMouseUp={this.onMouseUp} key={this.props.text}>\n                    {leftIcon}\n                    <p className=\"navibar-element-text\">{this.props.text}</p>\n                    {rightIcon}\n                </li>\n            )\n        }\n    }\n}\n\n\nconst mapStateToProps = (state: State) => {\n    return {\n        navibar_open: state.ui.navibar_open\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        onClose: () => {\n            dispatch(UI.collapseNavibarLevel())\n        },\n        toggleNavibar: () => {\n            dispatch(UI.toggleNavibar())\n        }\n    }\n}\n\n//@ts-ignore\nexport const NavibarElement = withRouter(connect(mapStateToProps, mapDispatchToProps)(_NavibarElement))","import { NavibarElement } from \"./NavibarElement\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport React, { Component, Children, cloneElement, ReactElement, PropsWithChildren } from \"react\";\nimport { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { UI } from \"../actions/UIActions\";\n\nexport interface NavibarLevelHeaderProps {\n    leftIcon?: IconProp,\n    text: string,\n    id: string,\n    level: number,\n    open_level: string,\n    onOpen: (id: string) => void,\n    onClose: () => void\n}\n\nexport default class _NavibarLevelHeader extends Component<PropsWithChildren<NavibarLevelHeaderProps>> {\n\n    constructor(props: NavibarLevelHeaderProps) {\n        super(props)\n        this.onClick = this.onClick.bind(this)\n    }\n\n    private onClick(event: React.MouseEvent<HTMLElement>) {\n        if (this.props.open_level === this.props.id) {\n            this.props.onClose()\n        } else {\n            this.props.onOpen(this.props.id)\n        }\n    }\n\n    public render() {\n        let openClass = ''\n        let rightIcon: IconProp = 'angle-up'\n\n        if (this.props.id !== this.props.open_level) {\n            openClass = ' level-collapsed'\n            rightIcon = 'angle-down'\n        }\n\n        return (\n            <div>\n                <NavibarElement leftIcon={this.props.leftIcon} rightIcon={rightIcon} text={this.props.text} onMouseUp={this.onClick} />\n                <div key={\"levelContainer-\" + this.props.id} className={\"level-container\" + \" level-\" + this.props.level.toString() + openClass}>\n                    {\n                        Children.map(this.props.children, child => {\n                            if (child) {\n                                return cloneElement(child as ReactElement<any>, { level: this.props.level })\n                            }\n                        })\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open_level: state.ui.navibar_level\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        onOpen: (id: string) => {\n            dispatch(UI.openNavibarLevel(id))\n        },\n        onClose: () => {\n            dispatch(UI.collapseNavibarLevel())\n        },\n    }\n}\n\n\n//@ts-ignore\nexport const NavibarLevelHeader = connect(mapStateToProps, mapDispatchToProps)(_NavibarLevelHeader)","import React, { Component } from \"react\"\nimport { NavibarElement } from \"./NavibarElement\"\nimport { connect } from \"react-redux\"\nimport { State } from '../reducers/IndexReducer'\nimport { NavibarLevelHeader } from \"./NavibarLevelHeader\"\nimport { AuthRoles } from \"../interfaces/AuthRoles\"\nimport User from \"../entities/User\"\nimport Config from \"../Config\"\n\nexport class _Navibar extends Component<{ open: boolean, user?: User }> {\n    public renderElement(element: JSX.Element, roles?: Array<AuthRoles>) {\n        if (roles) {\n            for (let role of roles) {\n                if (this.props.user && (this.props.user.roles.includes(role) || this.props.user.roles.includes(AuthRoles.ADMIN))) {\n                    return element\n                }\n            }\n        } else {\n            return element\n        }\n    }\n\n    public render() {\n        let className = 'navibar-open'\n        if (!this.props.open) {\n            className = 'navibar-collapsed'\n        }\n\n        if (this.props.user) {\n            return (\n                <div id=\"navibar\" className={className}>\n                    <ol>\n                        {this.renderElement(<NavibarElement to=\"/dashboard\" text=\"Dashboard\" leftIcon=\"tachometer-alt\" />, [AuthRoles.AUTHENTICATED])}\n                        {this.renderElement(<NavibarElement to=\"/members\" text=\"Mitglieder\" leftIcon=\"users\" />, [AuthRoles.MEMBERS_READ])}\n                        {this.renderElement(<NavibarElement to=\"/mailing-lists\" text=\"Verteiler\" leftIcon=\"mail-bulk\" />, [AuthRoles.MEMBERS_READ])}\n                        {this.renderElement(\n                            <NavibarLevelHeader text=\"Aufgebot\" leftIcon=\"address-book\" id=\"draft\" level={1}>\n                                {this.renderElement(<NavibarElement to=\"/draft/collection-points\" leftIcon=\"map-marker-alt\" text=\"Abholpunkte\" />, [AuthRoles.DRAFT_READ])}\n                                {this.renderElement(<NavibarElement to=\"/draft/logoffs\" leftIcon=\"user-times\" text=\"Abmeldungen\" />, [AuthRoles.LOGOFFS_READ])}\n                            </NavibarLevelHeader>\n                            , [AuthRoles.DRAFT_READ, AuthRoles.LOGOFFS_READ]\n                        )}\n                        {this.renderElement(<NavibarElement to=\"/orders\" text=\"Aufträge\" leftIcon=\"file-alt\" />, [AuthRoles.ORDERS_READ])}\n                        {this.renderElement(\n                            <NavibarLevelHeader text=\"Verrechnungsrapporte\" leftIcon=\"file-signature\" id=\"billingreports\" level={1}>\n                                {this.renderElement(<NavibarElement to=\"/billing-reports/add\" leftIcon=\"plus\" text=\"Erstellen\" />, [AuthRoles.BILLINGREPORTS_CREATE])}\n                                <NavibarElement to=\"/billing-reports\" leftIcon=\"list\" text=\"Alle\" />\n                                <NavibarElement to=\"https://vkazu.sharepoint.com/:w:/r/Vorlagen/Verrechungsrapport.docx?d=w66977fb79dfd4ab3832ca05fd6d9b8d2&csf=1&e=Spme13\" text=\"Word Vorlage\" leftIcon=\"file-word\" />\n                            </NavibarLevelHeader>\n                            , [AuthRoles.BILLINGREPORTS_READ, AuthRoles.BILLINGREPORTS_CREATE]\n                        )}\n                        {this.renderElement(\n                            <NavibarLevelHeader text=\"Entschädigungen\" leftIcon=\"dollar-sign\" id=\"compensations\" level={1}>\n                                {this.renderElement(<NavibarElement to=\"/compensations/add\" leftIcon=\"plus\" text=\"Erstellen\" />, [AuthRoles.COMPENSATIONS_CREATE])}\n                                <NavibarElement to=\"/compensations\" leftIcon=\"list\" text=\"Alle\" />\n                            </NavibarLevelHeader>\n                            , [AuthRoles.COMPENSATIONS_READ]\n                        )}\n                        {this.renderElement(<NavibarElement to=\"/payouts\" text=\"Auszahlungen\" leftIcon=\"file-invoice-dollar\" />, [AuthRoles.PAYOUTS_READ])}\n                        {this.renderElement(<NavibarElement to=\"/users\" text=\"Benutzer\" leftIcon=\"user\" />, [AuthRoles.ADMIN])}\n                        <NavibarElement to=\"https://vkazu.sharepoint.com/Dokumente\" text=\"Dokumente\" leftIcon=\"external-link-alt\" />\n                        <NavibarElement to={`${Config.apiEndpoint}/api/logout`} text=\"Abmelden\" leftIcon=\"power-off\" />\n                    </ol>\n                </div>\n            )\n        }\n\n        return (\n            <div></div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open: state.ui.navibar_open,\n        user: state.data.user.data\n    }\n}\n\nexport const Navibar = connect(mapStateToProps, {}, null, { pure: false })(_Navibar)","import React, { Component, PropsWithChildren } from \"react\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport { UI } from \"../actions/UIActions\";\nimport Swipe from \"./Swipe\";\nimport { Header } from \"./Header\";\nimport { Navibar } from \"./Navibar\";\n\nexport interface PageProps  {\n    title: string,\n    open: boolean,\n    openNavibar?: () => void,\n    closeNavibar?: () => void\n}\n\nexport class _Page extends Component<PropsWithChildren<PageProps>> {\n    constructor(props: PageProps) {\n        super(props)\n\n        this.swipedRight = this.swipedRight.bind(this)\n        this.swipedLeft = this.swipedLeft.bind(this)\n    }\n\n    public swipedRight() {\n        if (this.props.openNavibar) this.props.openNavibar()\n    }\n\n    public swipedLeft() {\n        if (this.props.closeNavibar) this.props.closeNavibar()\n    }\n\n    public render() {\n        let className = 'navibar-open'\n        if (!this.props.open) {\n            className = 'navibar-collapsed'\n        }\n\n        return (\n            <div className=\"body\">\n                <Header />\n                <Navibar />\n                <Swipe className={className + ' content'} mouseMove={true} swipedRight={this.swipedRight} swipedLeft={this.swipedLeft}>\n                    <div className=\"content-top\">\n                        <h1 className=\"page-title\">{this.props.title}</h1>\n                    </div>\n                    <div className=\"content-body container-fluid\">\n                        {this.props.children}\n                    </div>\n                </Swipe>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        open: state.ui.navibar_open\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        closeNavibar: () => {\n            dispatch(UI.closeNavibar())\n        },\n        openNavibar: () => {\n            dispatch(UI.openNavibar())\n        }\n    }\n}\n\nexport const Page = connect(mapStateToProps, mapDispatchToProps)(_Page)","export default class Config {\n    static apiEndpoint: string\n\n    public static loadConfig(): void {\n        if (process.env.NODE_ENV && process.env.NODE_ENV === 'development') {\n            Config.apiEndpoint = \"http://localhost:8000\"\n        } else {\n            Config.apiEndpoint = `${window.location.protocol}//${window.location.host}`\n        }\n    }\n\n    public static isModeProduction(): boolean {\n        return Config.isMode('production')\n    }\n\n    public static isModeDev(): boolean {\n        return Config.isMode('development')\n    }\n\n    private static isMode(mode: string): boolean {\n        return (process.env.NODE_ENV || 'production').toLowerCase() === mode.toLowerCase()\n    }\n}","//@ts-ignore\nimport StepWizard from 'react-step-wizard';\nimport React, { Component } from 'react';\nimport { Page } from '../components/Page';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { Data } from '../actions/DataActions';\nimport { connect } from 'react-redux';\nimport { DataInterface } from '../reducers/DataReducer';\nimport WizardNav from '../components/WizardNav';\nimport AddBillingReportStep1 from './AddBillingReportSteps/AddBillingReportStep1';\nimport AddBillingReportStep2 from './AddBillingReportSteps/AddBillingReportStep2';\nimport AddBillingReportStep3 from './AddBillingReportSteps/AddBillingReportStep3';\nimport AddBillingReportStep4 from './AddBillingReportSteps/AddBillingReportStep4';\nimport StringIndexed from '../interfaces/StringIndexed';\nimport { BillingReportCompensationEntry, CreateBillingReport } from '../interfaces/BillingReport';\nimport { History } from \"history\";\nimport Loading from '../components/Loading';\nimport User from '../entities/User';\nimport Order from '../entities/Order';\nimport Contact from '../entities/Contact';\n\nexport interface AddBillingReportProps {\n    user: User,\n    openOrders: DataInterface<Order>,\n    members: DataInterface<Contact>,\n    loading: boolean,\n    fetchOpenOrders: Function,\n    fetchMembers: Function,\n    save: (data: CreateBillingReport) => Promise<void>,\n    history: History\n}\n\ninterface AddBillingReportState {\n    order: Order,\n    date: Date,\n    vks: StringIndexed<BillingReportCompensationEntry>,\n    els: Array<Contact>,\n    drivers: Array<Contact>,\n    food: boolean,\n    remarks: string,\n    [index: string]: any\n}\n\nexport class _AddBillingReport extends Component<AddBillingReportProps, AddBillingReportState> {\n    constructor(props: AddBillingReportProps) {\n        super(props)\n\n        this.onNext = this.onNext.bind(this)\n        this.save = this.save.bind(this)\n\n        setImmediate(() => {\n            this.props.fetchOpenOrders()\n            this.props.fetchMembers()\n        })\n\n        // init it with forced nulls\n        //@ts-ignore\n        this.state = { els: [], drivers: [] }\n    }\n\n    private onNext(data: StringIndexed<any>): void {\n        let state: AddBillingReportState = this.state\n        for (let i in data) {\n            state[i] = data[i]\n        }\n        this.setState(state)\n    }\n\n    private async save(): Promise<boolean> {\n        let compensationEntries: StringIndexed<BillingReportCompensationEntry<number>> = {}\n\n        for (let i in this.state.vks) {\n            //@ts-ignore\n            compensationEntries[i] = this.state.vks[i]\n            compensationEntries[i].member = this.state.vks[i].member.id\n        }\n\n        await this.props.save({\n            orderId: this.state.order.id,\n            date: this.state.date,\n            compensationEntries: this.state.vks,\n            els: this.state.els,\n            drivers: this.state.drivers,\n            food: this.state.food,\n            remarks: this.state.remarks,\n            creatorId: this.props.user.id\n        })\n        \n        this.props.history.push('/billing-reports')\n\n        return true\n    }\n\n    public render() {\n        if (this.props.loading) {\n            return (\n                <Page title=\"Verrechnungsrapport erfassen\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Verrechnungsrapport erfassen\">\n                <Row>\n                    <Column className=\"col\">\n                        <Panel title=\"\">\n                            <StepWizard nav={<WizardNav />}>\n                                <AddBillingReportStep1 openOrders={this.props.openOrders} onNext={this.onNext} />\n                                <AddBillingReportStep2 onNext={this.onNext} />\n                                <AddBillingReportStep3 onNext={this.onNext} />\n                                <AddBillingReportStep4\n                                    onNext={this.save}\n                                    order={this.state.order}\n                                    date={this.state.date}\n                                    vks={this.state.vks}\n                                    els={this.state.els.map(el =>  el.firstname + ' ' + el.lastname )}\n                                    drivers={this.state.drivers.map(driver => driver.firstname + ' ' + driver.lastname )}\n                                    food={this.state.food}\n                                    remarks={this.state.remarks}\n                                />\n                            </StepWizard>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user.data,\n        openOrders: state.data.openOrders,\n        members: state.data.members,\n        loading: state.data.openOrders.loading ||\n            state.data.members.loading ||\n            state.data.user.loading ||\n            !state.data.openOrders.ids ||\n            !state.data.members.ids ||\n            Object.keys(state.data.user.data as User).length < 0\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchOpenOrders: () => {\n            dispatch(Data.fetchOpenOrders())\n        },\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        save: (data: CreateBillingReport) => {\n            return dispatch(Data.addBillingReport(data))\n        }\n    }\n}\n\n//@ts-ignore\nexport const AddBillingReport = connect(mapStateToProps, mapDispatchToProps)(_AddBillingReport)","import React, { Component } from \"react\";\n\nexport interface WizardNavProps {\n    isActive?: boolean,\n    currentStep?: number,\n    totalSteps?: number,\n    fistStep?: () => void,\n    lastStep?: () => void,\n    nextStep?: () => void,\n    previousStep?: () => void,\n    gotoStep?: (step: number) => void\n}\n\nexport default class WizardNav extends Component<WizardNavProps> {\n    private renderSteps() {\n        let steps = []\n        let totalSteps = this.props.totalSteps || 0\n\n        for (let i = 1; i <= totalSteps; i++) {\n            let classes = 'dot'\n            if (i == this.props.currentStep) {\n                classes += ' active'\n            }\n            steps.push(<span key={i} className={classes}>•</span>)\n        }\n\n        return steps\n    }\n\n    public render() {\n        return (\n            <div key=\"WizardNav\" id=\"WizardNav\" className=\"d-flex justify-content-center\">\n                {this.renderSteps()}\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { DataInterface } from \"../../reducers/DataReducer\";\nimport WizardStep from \"../../components/WizardStep\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport Order from \"../../entities/Order\";\n\nexport interface Step1Props {\n    onNext: (data: StringIndexed<any>) => void,\n    openOrders: DataInterface<Order>\n}\n\nexport default class AddBillingReportStep1 extends Component<Step1Props, { order: string, date: string }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: Step1Props) {\n        super(props)\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.validate = this.validate.bind(this)\n\n        this.state = {\n            order: '',\n            date: ''\n        }\n    }\n\n    private renderOptions() {\n        let options = [<option key=\"none\" value=\"\">Bitte Wählen</option>]\n        for (let i of this.props.openOrders.ids) {\n            let order = this.props.openOrders.byId[i]\n            // only show the contact if the contact is not a privat person (identified that companies doesn't have any firstname)\n            if (!order.contact.firstname) {\n                options.push(<option key={order.documentNr} value={order.id}>{`${order.title} (${order.contact.lastname})`}</option>)\n            } else {\n                options.push(<option key={order.documentNr} value={order.id}>{`${order.title}`}</option>)\n            }\n        }\n\n        return options\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private async validate(): Promise<boolean> {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                this.props.onNext({\n                    order: this.props.openOrders.byId[parseInt(this.state.order)],\n                    date: new Date(this.state.date)\n                })\n            }\n            return valid\n        }\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Details\" onNextStep={this.validate} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form}>\n                    <h5>Einsatz</h5>\n                    <select className='form-control' name=\"order\" id=\"order\" onChange={this.onInputChange} value={this.state.order} required={true}>\n                        {this.renderOptions()}\n                    </select>\n                    <br></br>\n                    <h5>Datum</h5>\n                    <input type=\"Date\" name=\"date\" id=\"date\" className='form-control' value={this.state.date} onChange={this.onInputChange} required={true}></input>\n                </form>\n            </WizardStep>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport WizardStep from \"../../components/WizardStep\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport { DataInterface } from \"../../reducers/DataReducer\";\nimport Contact from \"../../entities/Contact\";\nimport { ValueType } from \"react-select/lib/types\";\nimport Select from 'react-select';\nimport Checkbox from \"../../components/Checkbox\";\nimport { MemberSelect } from \"../../components/MemberSelect\";\n\nexport interface AddBillingReportStep3Props {\n    onNext: (data: StringIndexed<any>) => void\n}\n\nexport default class AddBillingReportStep3 extends Component<AddBillingReportStep3Props, { els: Array<Contact>, drivers: Array<Contact>, food: boolean, remarks: string }> {\n    private onELChange: (opt: Array<Contact>) => void\n    private onDriversChange: (opt: Array<Contact>) => void\n    private formEl?: HTMLFormElement\n    private elSelect?: Select<{}>\n    private driversSelect?: Select<{}>\n\n    constructor(props: AddBillingReportStep3Props) {\n        super(props)\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onNext = this.onNext.bind(this)\n        this.onELChange = this.onSelectChange('els')\n        this.onDriversChange = this.onSelectChange('drivers')\n\n        this.state = {\n            els: [],\n            drivers: [],\n            food: false,\n            remarks: ''\n        }\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? (target as HTMLInputElement).checked : target.value;\n        const id = target.id;\n        //@ts-ignore\n        this.setState({\n            [id]: value\n        });\n    }\n\n    private onSelectChange(stateName: string) {\n        return (opt: Array<Contact>) => {\n            if (opt) {\n                //@ts-ignore\n                this.setState({\n                    [stateName]: opt\n                })\n            } else {\n                //@ts-ignore\n                this.setState({\n                    [stateName]: []\n                })\n            }\n        }\n    }\n\n    private async onNext(): Promise<boolean> {\n        if (this.elSelect) {\n            let valid = true\n            if (this.state.els.length <= 0) valid = false\n\n            if (valid) {\n                this.props.onNext(this.state)\n                return true\n            }\n        }\n\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Weiteres\" onNextStep={this.onNext} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form} className=\"was-validated\">\n                    <h5>ELs</h5>\n                    <MemberSelect\n                        ref={(select: any) => this.elSelect = select}\n                        onChange={this.onELChange}\n                        isMulti={true}\n                        required={true}\n                    />\n                    <br></br>\n                    <h5>Fahrer</h5>\n                    <MemberSelect\n                        ref={(select: any) => this.driversSelect = select}\n                        onChange={this.onDriversChange}\n                        isMulti={true}\n                        required={false}\n                    />\n                    <br></br>\n                    <h5>Diverses</h5>\n                    <Checkbox id='food' checked={this.state.food} onChange={this.onInputChange} label=\"Verpflegung\" />\n                    <br></br>\n                    <h5>Bemerkungen</h5>\n                    <small className=\"text-muted\">Bei mehreren EL bitte die Schichtzeiten hier eingeben</small>\n                    <textarea id=\"remarks\" value={this.state.remarks} onChange={this.onInputChange} className='form-control'></textarea>\n                </form>\n            </WizardStep>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport WizardStep from \"../../components/WizardStep\";\nimport Table from \"../../components/Table\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\nimport { BillingReportCompensationEntry } from \"../../interfaces/BillingReport\";\nimport Order from \"../../entities/Order\";\n\nexport default class AddBillingReportStep4 extends Component<{ onNext: () => Promise<boolean>, order: Order, date: Date, vks: StringIndexed<BillingReportCompensationEntry>, els: Array<string>, drivers: Array<string>, food: boolean, remarks: string }> {\n    public render() {\n        return (\n            <WizardStep title=\"Zusammenfassung\" onNextStep={this.props.onNext} {...this.props}>\n                <h5>Einsatz</h5>\n                <p>{(this.props.order) ? this.props.order.title : ''}</p>\n\n                <h5>Datum</h5>\n                <p>{(this.props.date) ? this.props.date.toLocaleDateString() : ''}</p>\n\n                <h5>VKs</h5>\n                <Table<BillingReportCompensationEntry>\n                    columns={[\n                        { text: 'VK', keys: { 'member': ['firstname', 'lastname'] } },\n                        { text: 'Von', keys: ['from'], format: 'toLocaleTimeString' },\n                        { text: 'Bis', keys: ['until'], format: 'toLocaleTimeString' },\n                        { text: 'Verrechnet', keys: ['charge'] },\n                        { text: 'Anzahl Stunden', keys: ['totalHours'] }\n                    ]}\n                    defaultSort={{ keys: ['from'], direction: 'asc' }}\n                    data={(this.props.vks) ? this.props.vks : {}}\n                />\n\n                <h5>ELs</h5>\n                <p>{this.props.els.join(',')}</p>\n\n                <h5>Fahrer</h5>\n                <p>{this.props.drivers.join(',')}</p>\n\n                <h5>Diverses</h5>\n                <p className=\"switch switch-sm\">\n                    <input type=\"checkbox\" className=\"switch\" id=\"food\" name=\"food\" checked={this.props.food} />\n                    <label htmlFor=\"food\">Verpflegung</label>\n                </p>\n\n                <h5>Bemerkungen</h5>\n                <p>{(this.props.remarks) ? this.props.remarks : ''}</p>\n            </WizardStep>\n        )\n    }\n}","import React, { Component } from \"react\";\n\nexport default class Row extends Component<{ className?: string }> {\n    public render() {\n        return (\n            <div className={\"row \" + this.props.className}>\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component, ButtonHTMLAttributes } from \"react\";\nimport * as Bootstrap from 'react-bootstrap'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n    onClick: (event: React.MouseEvent<HTMLButtonElement>) => Promise<any>;\n    type?: \"button\" | \"reset\" | \"submit\",\n    active?: boolean\n    block?: boolean\n    variant?:\n    | 'primary'\n    | 'secondary'\n    | 'success'\n    | 'danger'\n    | 'warning'\n    | 'info'\n    | 'dark'\n    | 'light'\n    | 'link'\n    | 'outline-primary'\n    | 'outline-secondary'\n    | 'outline-success'\n    | 'outline-danger'\n    | 'outline-warning'\n    | 'outline-info'\n    | 'outline-dark'\n    | 'outline-light'\n    size?: 'sm' | 'lg'\n    href?: string\n    disabled?: boolean\n};\n\nexport default class Button extends Component<ButtonProps, { state: 'normal' | 'inProgress' | 'done' }> {\n    constructor(props: ButtonProps) {\n        super(props)\n\n        this.onClick = this.onClick.bind(this)\n\n        this.state = {\n            state: 'normal'\n        }\n    }\n\n    private async onClick(event: React.MouseEvent<HTMLButtonElement>) {\n        if (this.state.state === 'normal') {\n            this.setState({ state: 'inProgress' })\n            await this.props.onClick(event)\n            this.setState({ state: 'done' })\n            setTimeout(() => {\n                this.setState({ state: 'normal' })\n            }, 1000)\n        }\n    }\n\n    public render() {\n        switch (this.state.state) {\n            case 'normal':\n                return (<Bootstrap.Button {...this.props} onClick={this.onClick}>{this.props.children}</Bootstrap.Button>)\n            case 'inProgress':\n                return (<Bootstrap.Button {...this.props} onClick={this.onClick}>\n                    <svg className=\"button-loading\" viewBox=\"0 0 128 128\">\n                        <g>\n                            <path d=\"M64 127.75A63.76 63.76 0 0 1 52.8 1.23v14.23a49.8 49.8 0 1 0 22.4 0V1.23A63.76 63.76 0 0 1 64 127.75z\" fill-opacity=\"1\" />\n                            <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 64 64\" to=\"360 64 64\" dur=\"2160ms\" repeatCount=\"indefinite\"></animateTransform>\n                        </g>\n                    </svg>\n                </Bootstrap.Button >)\n            case 'done':\n                return (<Bootstrap.Button {...this.props} onClick={this.onClick}><FontAwesomeIcon icon=\"check-circle\" /></Bootstrap.Button>)\n            default:\n                return (<Bootstrap.Button {...this.props} onClick={this.onClick}>{this.props.children}</Bootstrap.Button>)\n        }\n    }\n}","import React, { Component } from 'react'\n\nexport default class Loading extends Component<{ fullscreen?: boolean }> {\n    public render() {\n        return (\n            <div className={\"loading-animation \" + ((this.props.fullscreen) ? 'fullscreen' : '')}>\n                <div className=\"sk-folding-cube\">\n                    <div className=\"sk-cube1 sk-cube\"></div>\n                    <div className=\"sk-cube2 sk-cube\"></div>\n                    <div className=\"sk-cube4 sk-cube\"></div>\n                    <div className=\"sk-cube3 sk-cube\"></div>\n                </div>\n                {this.props.children}\n            </div>\n        )\n    }\n}","import React, { Component, MouseEvent } from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport StringIndexed from \"../interfaces/StringIndexed\"\nimport Checkbox from \"../components/Checkbox\"\nimport Input from \"./Input\"\n\nexport interface TableColumn {\n    text: string\n    keys: Array<string> | { [index: string]: Array<string> }\n    content?: JSX.Element\n    link?: boolean\n    linkPrefix?: string,\n    sortable?: boolean,\n    searchable?: boolean,\n    prefix?: string\n    suffix?: string\n    format?: string\n    className?: string\n    editable?: boolean,\n    type?: string,\n    options?: string[],\n    required?: boolean,\n    onChange?: (id: string | number | null, field: string, value: any, newly: boolean) => void\n}\n\ninterface TableProps<T> {\n    columns: Array<TableColumn>,\n    data: StringIndexed<T> | Array<T>,\n    onSort?: (event: MouseEvent<HTMLTableHeaderCellElement>, clickedKeys: Array<string> | StringIndexed<any>, sortDirection: 'asc' | 'desc') => void,\n    defaultSort?: { keys: Array<string> | StringIndexed<any>, direction: 'asc' | 'desc' },\n    searchString?: string,\n    ref?: Function,\n    className?: string,\n    checkable?: boolean,\n    onCheck?: (event: React.ChangeEvent<HTMLInputElement>) => void\n    addNew?: boolean\n}\n\ninterface TableState<T> {\n    sortKey: string,\n    sortDirection: 'asc' | 'desc',\n    searchableKeys: Array<string | { [index: string]: Array<string> }>\n}\n\nexport default class Table<T extends { id: string | number }> extends Component<TableProps<T>, TableState<T>> {\n    constructor(props: TableProps<T>) {\n        super(props)\n        this.sortClick = this.sortClick.bind(this)\n        this.search = this.search.bind(this)\n        this.ref = this.ref.bind(this)\n        this.onColumnDataChange = this.onColumnDataChange.bind(this)\n\n        if (this.props.defaultSort) {\n            this.state = {\n                sortKey: this.props.defaultSort.keys.join('-'),\n                sortDirection: this.props.defaultSort.direction,\n                searchableKeys: this.genSearchKeys(this.props.columns)\n            }\n        } else {\n            this.state = {\n                sortKey: '',\n                sortDirection: 'asc',\n                searchableKeys: this.genSearchKeys(this.props.columns)\n            }\n        }\n    }\n\n    private onColumnDataChange(columnKey: string, id: string | number | null, value: any, newly = false): void {\n        const column = this.props.columns.find(column => {\n            let colKey = ''\n            if (column.keys instanceof Array) {\n                colKey = column.keys.join('-')\n            } else {\n                for (let k in column.keys) {\n                    colKey += '_' + k + '.' + column.keys[k].join('-')\n                }\n            }\n            return colKey === columnKey\n        })\n        if (column && column.onChange) {\n            column.onChange(id, columnKey, value, newly)\n\n        }\n    }\n\n    public componentDidUpdate(prevProps: TableProps<T>) {\n        if (prevProps !== this.props) {\n            this.setState({\n                searchableKeys: this.genSearchKeys(this.props.columns)\n            })\n        }\n    }\n\n    private ref(table: HTMLTableElement) {\n        if (this.props.ref) this.props.ref(table)\n    }\n\n    private sort(sortKey: string, direction: 'asc' | 'desc', data?: StringIndexed<T> | Array<T>): StringIndexed<T> | Array<T> {\n        let keys = this.genSortKeys(sortKey)\n        let prepared = []\n        data = data || this.props.data\n        for (let a in data) {\n            //@ts-ignore\n            let element = data[a]\n            let sortValues = []\n            for (let i in keys) {\n                //@ts-ignore\n                let key = keys[i]\n                if (key instanceof Array) {\n                    for (let b of key) {\n                        if (element[i]) {\n                            if (b.indexOf('phone') > -1) {\n                                //@ts-ignore\n                                sortValues.push(element[i][b].replace(' ', ''))\n                            } else if (element[key] instanceof Date) {\n                                sortValues.push(element[key].getTime())\n                            } else {\n                                //@ts-ignore\n                                sortValues.push(element[i][b])\n                            }\n                        }\n                    }\n                } else {\n                    if (key.indexOf('phone') > -1) {\n                        //@ts-ignore\n                        sortValues.push(element[key].replace(' ', ''))\n                    } else if (element[key] instanceof Date) {\n                        sortValues.push(element[key].getTime())\n                    } else {\n                        //@ts-ignore\n                        sortValues.push(element[key])\n                    }\n                }\n\n            }\n            prepared.push({ id: a, value: sortValues.join(' ').toLowerCase() })\n        }\n\n        prepared.sort((a, b) => {\n            let aValue, bValue\n            aValue = parseFloat(a.value)\n            bValue = parseFloat(b.value)\n            if (isNaN(aValue) || isNaN(bValue)) {\n                aValue = a.value\n                bValue = b.value\n            }\n\n            if (aValue < bValue)\n                return (direction === 'asc') ? -1 : 1\n            if (aValue > bValue)\n                return (direction === 'asc') ? 1 : -1\n            return 0\n        })\n\n        let sorted = {}\n        for (let id of prepared) {\n            //@ts-ignore\n            sorted[`_${id.id}`] = this.props.data[id.id]\n        }\n\n        return sorted\n    }\n\n    private genSortKeys(key: string): Array<string> | StringIndexed<any> {\n        let keys = [key]\n        if (key.indexOf('_') > -1) keys = key.split('_')\n\n        let finalKeys: StringIndexed<any> | Array<string> = {}\n        for (let key of keys) {\n            if (key) {\n                if (key.indexOf('.') > -1) {\n                    (finalKeys as StringIndexed<any>)[key.split('.')[0]] = key.split('.')[1].split('-')\n                } else {\n                    (finalKeys as Array<string>) = key.split('-')\n                }\n            }\n        }\n\n        return finalKeys\n    }\n\n    private sortClick(event: MouseEvent<HTMLTableHeaderCellElement>) {\n        let dataKey = (event.target as HTMLElement).dataset.key as string\n        if (!dataKey) dataKey = ((event.target as HTMLElement).parentElement as HTMLElement).dataset.key as string\n        let direction: 'asc' | 'desc' = 'asc'\n\n        if (this.state.sortKey === dataKey) {\n            if (this.state.sortDirection === 'asc') {\n                direction = 'desc'\n            } else {\n                direction = 'asc'\n            }\n        }\n\n        if (this.props.onSort) this.props.onSort(event, this.genSortKeys(dataKey), direction)\n\n        this.setState({\n            sortDirection: direction,\n            sortKey: dataKey\n        })\n    }\n\n    private genSearchKeys(columns: Array<TableColumn>): Array<string | { [index: string]: Array<string> }> {\n        let searchKeys: Array<string | { [index: string]: Array<string> }> = []\n        for (let column of columns) {\n            if (column.searchable) {\n                if (column.keys instanceof Array) {\n                    searchKeys = searchKeys.concat(column.keys)\n                } else {\n                    searchKeys.push(column.keys)\n                }\n            }\n        }\n\n        return searchKeys\n    }\n\n    private search(searchString: string, data?: StringIndexed<T> | Array<T>): StringIndexed<T> | Array<T> {\n        let result: StringIndexed<T> | Array<T> = {}\n        data = data || this.props.data\n\n        if (searchString && this.state.searchableKeys.length > 0) {\n            for (let a in data) {\n                //@ts-ignore\n                let record = data[a]\n                let searchableString = ''\n                for (let key of this.state.searchableKeys) {\n\n                    if (key instanceof Object) {\n                        for (let f in key) {\n                            for (let k of key[f]) {\n                                if (record[f] && record[f][k]) {\n                                    if (k.indexOf('phone') > -1) {\n                                        //@ts-ignore\n                                        searchableString += record[f][k].toString().replace(' ', '') + ' '\n                                    }\n                                    //@ts-ignore\n                                    searchableString += record[f][k].toString() + ' '\n                                }\n                            }\n                        }\n                    } else if (typeof key === 'string' && record.hasOwnProperty(key) && record[key] !== null) {\n                        if (key.indexOf('phone') > -1) {\n                            //@ts-ignore\n                            searchableString += record[key].toString().replace(' ', '') + ' '\n                        }\n                        //@ts-ignore\n                        searchableString += record[key].toString() + ' '\n                    }\n                }\n\n                if (searchableString.toLowerCase().indexOf(searchString.toLowerCase()) > -1 && !result.hasOwnProperty(a)) {\n                    //@ts-ignore\n                    result[a] = record\n                }\n            }\n            return result\n        }\n\n        return data\n    }\n\n    private renderRows() {\n        let rows = []\n        let data = this.props.data\n        data = this.sort(this.state.sortKey, this.state.sortDirection, data)\n        data = this.search(this.props.searchString || '', data)\n\n        for (let id in data) {\n            //@ts-ignore\n            let dataEntry = data[id]\n            let row = []\n\n            if (this.props.checkable) {\n                row.push(<td style={{ width: '40px' }}><Checkbox onChange={this.props.onCheck || (() => { })} /></td>)\n            }\n\n            for (let column of this.props.columns) {\n                let tdKey = ''\n\n                if (column.content) {\n                    row.push(<td key={(column.keys instanceof Array) ? column.keys.join('-') : Object.keys(column.keys).map((el: string) => ((column.keys as StringIndexed<Array<string>>)[el].join('-'))).join('-')}>{column.content || ''}</td>)\n                } else {\n                    let content: Array<string> = []\n                    if (column.keys instanceof Array) {\n                        content = column.keys.map((key) => {\n                            tdKey = key\n                            //@ts-ignore\n                            if (dataEntry[key] instanceof Date) {\n                                if (column.format) {\n                                    let param\n                                    let command = column.format\n                                    if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                                        const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                                        if (match && match.length > 2) {\n                                            command = match[1]\n                                            param = match[2]\n                                        }\n                                    }\n                                    //@ts-ignore\n                                    return dataEntry[key][command](param)\n                                }\n                                //@ts-ignore\n                                return dataEntry[key]\n                                //@ts-ignore\n                            } else if (typeof dataEntry[key] === 'boolean') {\n                                //@ts-ignore\n                                if (dataEntry[key]) {\n                                    return '✓'\n                                }\n                                return '⨯'\n                                //@ts-ignore\n                            } else if (dataEntry[key] instanceof Array) {\n                                //@ts-ignore\n                                return dataEntry[key].map((entry: any) => {\n                                    if (entry instanceof Date) {\n                                        if (column.format) {\n                                            let param\n                                            let command = column.format\n                                            if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                                                const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                                                if (match && match.length > 2) {\n                                                    command = match[1]\n                                                    param = match[2]\n                                                }\n                                            }\n                                            //@ts-ignore\n                                            return entry[command](param)\n                                        }\n                                        return entry\n                                    } else if (typeof entry === 'boolean') {\n                                        if (entry) {\n                                            return '✓'\n                                        }\n                                        return '⨯'\n                                    }\n\n                                    if (column.format) {\n                                        let param\n                                        let command = column.format\n                                        if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                                            const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                                            if (match && match.length > 2) {\n                                                command = match[1]\n                                                param = match[2]\n                                            }\n                                        }\n                                        //@ts-ignore\n                                        return entry[command](param)\n                                    }\n\n                                    return entry\n                                })\n                            }\n\n                            if (column.format) {\n                                let param\n                                let command = column.format\n                                if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                                    const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                                    if (match && match.length > 2) {\n                                        command = match[1]\n                                        param = match[2]\n                                    }\n                                }\n                                //@ts-ignore\n                                return dataEntry[key][command](param)\n                            }\n\n                            //@ts-ignore\n                            return dataEntry[key]\n                        })\n                    } else {\n                        for (let k in column.keys) {\n                            tdKey = `${tdKey}${k}`\n                            content = content.concat(column.keys[k].map((key) => {\n                                //@ts-ignore\n                                if (dataEntry.hasOwnProperty(k) && dataEntry[k]) {\n                                    //@ts-ignore\n                                    if (dataEntry[k][key] instanceof Date) {\n                                        if (column.format) {\n                                            let param\n                                            let command = column.format\n                                            if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                                                const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                                                if (match && match.length > 2) {\n                                                    command = match[1]\n                                                    param = match[2]\n                                                }\n                                            }\n                                            //@ts-ignore\n                                            return dataEntry[k][key][command](param)\n                                        }\n                                        //@ts-ignore\n                                        return dataEntry[k][key]\n                                        //@ts-ignore\n                                    } else if (typeof dataEntry[k][key] === 'boolean') {\n                                        //@ts-ignore\n                                        if (dataEntry[k][key]) {\n                                            return '✓'\n                                        }\n                                        return '⨯'\n                                    }\n\n                                    if (column.format) {\n                                        let param\n                                        let command = column.format\n                                        if (column.format.indexOf('(') > -1 && column.format.indexOf(')') > -1) {\n                                            const match = column.format.match(/(\\w+)\\((.*)\\)/)\n                                            if (match && match.length > 2) {\n                                                command = match[1]\n                                                param = match[2]\n                                            }\n                                        }\n                                        //@ts-ignore\n                                        return dataEntry[k][key][command](param)\n                                    }\n\n                                    //@ts-ignore\n                                    return dataEntry[k][key]\n                                }\n                                return ''\n                            }))\n                        }\n                    }\n\n                    if (column.link) {\n                        row.push(<td className={column.className || ''} key={`${dataEntry.id}-${tdKey}`}><a key={dataEntry.id + [...(content || [Math.random().toString()]), 'a'].join(' ')} href={((column.linkPrefix) ? column.linkPrefix : '') + content.join(' ')} target={(column.linkPrefix && (column.linkPrefix.match(/w+:/i) || []).length > 0) ? \"\" : \"_blank\"}>{((column.prefix) ? column.prefix : '') + content.join(' ') + ((column.suffix) ? column.suffix : '')}</a></td>)\n                    } else if (column.editable) {\n                        row.push(<td className={column.className || ''} key={`${dataEntry.id}-${tdKey}`}><Input name={tdKey} value={content.join(' ')} editable={true} type={column.type} onChange={(name, value) => this.onColumnDataChange(tdKey, dataEntry.id, value)} options={column.options} required={column.required} /></td>)\n                    } else {\n                        row.push(<td className={column.className || ''} key={`${dataEntry.id}-${tdKey}`}>{((column.prefix) ? column.prefix : '') + content.join(' ') + ((column.suffix) ? column.suffix : '')}</td>)\n                    }\n                }\n            }\n            let trKey = id\n            if (this.props.data instanceof Array) trKey = dataEntry.id.toString()\n            rows.push(<tr key={trKey} data-key={trKey.replace(/^_/, '')}>{row}</tr>)\n        }\n\n        if (this.props.addNew) {\n            const trKey = Object.keys(this.props.data).length\n            const newRow = []\n            for (const column of this.props.columns) {\n                let tdKey = ''\n                if (column.keys instanceof Array) {\n                    tdKey = column.keys.join('-')\n                } else {\n                    tdKey = Object.keys(column.keys).join('-')\n                }\n\n\n                if (column.editable) {\n                    newRow.push(<td className={column.className || ''} key={`${trKey}-${tdKey}`}><Input name={`${trKey}-${tdKey}`} value={''} editable={true} type={column.type} onChange={(name, value) => this.onColumnDataChange(tdKey, null, value, true)} options={column.options} /></td>)\n                } else {\n                    newRow.push(<td className={column.className || ''} key={`${trKey}-${tdKey}`}></td>)\n                }\n            }\n            rows.push(<tr key={trKey}>{newRow}</tr>)\n        }\n        return rows\n    }\n\n    public render() {\n        return (\n            <div className=\"table-responsive\">\n                <table className={`table table-striped ${this.props.className || ''}`} ref={this.ref}>\n                    <thead key=\"table-head\">\n                        <tr key=\"table-head-row\">\n                            {this.props.checkable ? <th></th> : ''}\n                            {this.props.columns.map((column) => {\n                                let columnKey = ''\n                                if (column.keys instanceof Array) {\n                                    columnKey = column.keys.join('-')\n                                } else {\n                                    for (let k in column.keys) {\n                                        columnKey += '_' + k + '.' + column.keys[k].join('-')\n                                    }\n                                }\n                                let sortIndicator\n                                if (columnKey === this.state.sortKey) {\n                                    if (this.state.sortDirection === 'asc') {\n                                        sortIndicator = <FontAwesomeIcon icon=\"sort-down\" className=\"float-right\" />\n                                    } else {\n                                        sortIndicator = <FontAwesomeIcon icon=\"sort-up\" className=\"float-right\" />\n                                    }\n                                }\n                                if (column.sortable) {\n                                    return <th key={columnKey} data-key={columnKey} scope=\"col\" onClick={this.sortClick} style={{ cursor: 'pointer' }}>{column.text}{sortIndicator}</th>\n                                }\n                                return <th key={columnKey} data-key={columnKey} scope=\"col\">{column.text}</th>\n                            })}\n                        </tr>\n                    </thead>\n                    <tbody key=\"table-body\">\n                        {this.renderRows()}\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport Table, { TableColumn } from \"../components/Table\";\nimport { History } from \"history\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Loading from \"./Loading\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\n\nexport interface DataListProps<T> {\n    data: DataInterface<T>,\n    fetchData: Function,\n    onSearch?: Function,\n    title: string,\n    viewLocation: string,\n    tableColumns: Array<TableColumn>\n    history: History\n    panelActions?: Array<any>\n    rowActions?: Array<any>,\n}\n\nexport interface DataListState {\n    searchString: string,\n    sort: {\n        keys: Array<string> | StringIndexed<string>,\n        direction: 'asc' | 'desc'\n    }\n}\n\nexport class DataList<T extends { id: string | number }> extends Component<DataListProps<T>, DataListState> {\n    constructor(props: DataListProps<T>) {\n        super(props)\n\n        if (!this.props.data.loading) {\n            setImmediate(() => { this.props.fetchData() })\n        }\n\n        this.elementView = this.elementView.bind(this)\n        this.textSearch = this.textSearch.bind(this)\n        this.onSort = this.onSort.bind(this)\n\n        this.state = {\n            searchString: '',\n            sort: {\n                keys: this.props.data.sort.keys,\n                direction: this.props.data.sort.direction\n            }\n        }\n    }\n\n    public elementView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + this.props.viewLocation + id)\n            } else {\n                this.props.history.push(this.props.viewLocation + id)\n            }\n        }\n    }\n\n    public shouldComponentUpdate(nextProps: DataListProps<T>, nextState: DataListState): boolean {\n        if (this.props !== nextProps) return true\n        if (this.state.searchString !== nextState.searchString) return true\n\n        // don't rerender on sort change, because this is just to keep track of the state below\n        return false\n    }\n\n    private onSort(event: React.MouseEvent<HTMLTableHeaderCellElement>, keys: Array<string> | StringIndexed<string>, direction: 'asc' | 'desc'): void {\n        this.setState({\n            sort: {\n                keys: keys,\n                direction: direction\n            }\n        })\n    }\n\n    private textSearch(event: React.ChangeEvent<HTMLInputElement>) {\n        if (this.props.onSearch) this.props.onSearch(event.target.value)\n        this.setState({\n            searchString: event.target.value\n        })\n    }\n\n    private renderTable() {\n        if (this.props.data.loading) {\n            return (\n                <Loading />\n            )\n        }\n\n        let dataById: StringIndexed<any> = {}\n        for (let id of this.props.data.ids) {\n            dataById[id] = this.props.data.byId[id]\n        }\n\n        return (\n            <Table<T>\n                columns={this.props.tableColumns.concat([\n                    {\n                        text: 'Actions', keys: ['id'], content:\n                            <div className=\"btn-group\">\n                                <button className=\"btn btn-success view\" onMouseUp={this.elementView}><FontAwesomeIcon icon=\"eye\" /></button>\n                                {this.props.rowActions}\n                            </div>\n                    }\n                ])}\n                data={dataById}\n                defaultSort={this.state.sort}\n                searchString={this.state.searchString}\n                onSort={this.onSort}\n            />\n        )\n    }\n\n    public render() {\n        return (\n            <Page title={this.props.title}>\n                <Row>\n                    <Column>\n                        <Panel\n                            actions={this.props.panelActions || []}\n                            title={\n                                <input id=\"search\" value={this.state.searchString} placeholder=\"Search...\" className=\"float-right form-control form-control-sm\" onChange={(event) => this.textSearch(event)} />\n                            }>\n                            {this.renderTable()}\n                        </Panel>\n                    </Column>\n                </Row>\n                {this.props.children}\n            </Page>\n        )\n    }\n}","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { faUserTimes, faCheckCircle, faFileInvoiceDollar, faFileWord, faFilePdf, faExternalLinkAlt, faFileExcel, faPowerOff, faTrash, faSave, faAddressBook, faMapMarkerAlt, faDownload, faClipboard, faBars, faTachometerAlt, faUsers, faCircleNotch, faTimes, faCheck, faSortUp, faSortDown, faPencilAlt, faFileAlt, faEye, faFileSignature, faPlus, faList, faDollarSign, faUser, faAngleDown, faAngleUp, faMailBulk } from '@fortawesome/free-solid-svg-icons'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\n//@ts-ignore\nlibrary.add(fab, faUserTimes, faCheckCircle, faFileInvoiceDollar, faFileWord, faFilePdf, faExternalLinkAlt, faFileExcel, faPowerOff, faTrash, faSave, faAddressBook, faMapMarkerAlt, faDownload, faClipboard, faBars, faTachometerAlt, faUsers, faCircleNotch, faTimes, faCheck, faSortUp, faSortDown, faPencilAlt, faFileAlt, faEye, faFileSignature, faPlus, faList, faDollarSign, faDollarSign, faUser, faAngleDown, faAngleUp, faMailBulk)\n","import { combineReducers, AnyAction } from \"redux\";\nimport { UIActions } from \"../actions/UIActions\";\nimport { toast } from 'react-toastify';\nimport CurrentDevice from 'current-device'\n\nexport interface UI {\n    navibar_open: boolean,\n    navibar_level: string,\n    notification: null\n}\n\n\nfunction NavibarToggle(state: boolean = !CurrentDevice.mobile(), action: AnyAction) {\n    switch (action.type) {\n        case UIActions.NAVIBAR_TOGGLE:\n            return !state\n        case UIActions.NAVIBAR_OPEN:\n            return true\n        case UIActions.NAVIBAR_CLOSE:\n            return false\n        default:\n            return state\n    }\n}\n\nfunction NavibarLevel(state: string = '', action: AnyAction) {\n    switch (action.type) {\n        case UIActions.NAVIBAR_LEVEL_OPEN:\n            return action.payload\n        case UIActions.NAVIBAR_LEVEL_COLLAPSE:\n            return ''\n        default:\n            return state\n    }\n}\n\nfunction Notify(state = null, action: AnyAction): null {\n    switch (action.type) {\n        case UIActions.NOTIFICATION_SUCCESS:\n            toast.success(action.payload, {\n                autoClose: 2000,\n                position: (CurrentDevice.mobile() ? 'bottom-center' : 'top-right')\n            })\n            return state\n        case UIActions.NOTIFICATION_ERROR:\n            toast.error(action.payload, {\n                autoClose: 2000,\n                position: (CurrentDevice.mobile() ? 'bottom-center' : 'top-right')\n            })\n            return state\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({ navibar_open: NavibarToggle, navibar_level: NavibarLevel, notification: Notify })","import { DataActions } from \"./../actions/DataActions\"\nimport { AnyAction, combineReducers } from \"redux\"\nimport StringIndexed from \"../interfaces/StringIndexed\"\nimport { UIActions } from \"../actions/UIActions\"\nimport User from \"../entities/User\"\nimport Contact from \"../entities/Contact\"\nimport ContactGroup from \"../entities/ContactGroup\"\nimport Order from \"../entities/Order\"\nimport BillingReport from \"../entities/BillingReport\"\nimport Compensation from \"../entities/Compensation\"\nimport CollectionPoint from \"../entities/CollectionPoint\"\nimport Payout from \"../entities/Payout\"\nimport CustomCompensation from \"../entities/CustomCompensation\"\nimport OrderCompensation from \"../entities/OrderCompensation\"\nimport Logoff from \"../entities/Logoff\"\n\nexport interface Data {\n    users: DataInterface<User>\n    user: SingleDataInterface<User>,\n    contacts: DataInterface<Contact>\n    members: DataInterface<Contact>\n    ranks: DataInterface<ContactGroup>\n    orders: DataInterface<Order>,\n    openOrders: DataInterface<Order>,\n    billingReports: DataInterface<BillingReport>,\n    compensationEntries: DataInterface<Compensation>,\n    mailingLists: StringIndexed<Array<string>>,\n    collectionPoints: DataInterface<CollectionPoint>,\n    payouts: DataInterface<Payout>,\n    logoffs: DataInterface<Logoff>\n}\n\nexport interface SingleDataInterface<T> {\n    loading: boolean,\n    data?: T\n}\n\nexport interface DataInterface<T> {\n    loading: boolean,\n    byId: StringIndexed<T>,\n    ids: Array<number>,\n    sort: { keys: Array<string>, direction: 'asc' | 'desc' }\n}\n\nfunction UserReducer(state: SingleDataInterface<User> = { loading: false, data: undefined }, action: AnyAction): SingleDataInterface<User> {\n    switch (action.type) {\n        case DataActions.FETCH_USER:\n            return Object.assign({}, state, { loading: true })\n        case DataActions.GOT_USER:\n            if (Object.keys(action.payload).length > 0) {\n                return { loading: false, data: action.payload }\n            } else {\n                return { loading: false, data: undefined }\n            }\n        case UIActions.LOGOUT:\n            return { loading: false, data: undefined }\n        default:\n            return state\n    }\n}\n\nfunction Users(state: DataInterface<User> = { loading: false, byId: {}, ids: [], sort: { keys: ['displayName'], direction: 'asc' } }, action: AnyAction): DataInterface<User> {\n    let byId: StringIndexed<User> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_USERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_USERS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let contact of action.payload) {\n                byId[contact.id] = contact\n                ids.push(contact.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Ranks(state: DataInterface<ContactGroup> = { loading: false, byId: {}, ids: [], sort: { keys: ['name'], direction: 'asc' } }, action: AnyAction): DataInterface<ContactGroup> {\n    let byId: StringIndexed<ContactGroup> = {}\n    let ids = []\n    switch (action.type) {\n        case DataActions.FETCH_RANKS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_RANKS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let rank of action.payload) {\n                byId[rank.id] = rank\n                ids.push(rank.id)\n            }\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Contacts(state: DataInterface<Contact> = { loading: false, byId: {}, ids: [], sort: { keys: ['lastname', 'firstname'], direction: 'asc' } }, action: AnyAction): DataInterface<Contact> {\n    let byId: StringIndexed<Contact> = {}\n    let ids = []\n    switch (action.type) {\n        case DataActions.FETCH_CONTACTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_CONTACTS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let contact of action.payload) {\n                byId[contact.id] = contact\n                ids.push(contact.id)\n            }\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Members(state: DataInterface<Contact> = { loading: false, byId: {}, ids: [], sort: { keys: ['lastname', 'firstname'], direction: 'asc' } }, action: AnyAction): DataInterface<Contact> {\n    let byId: StringIndexed<Contact> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_MEMBERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_MEMBERS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let contact of action.payload) {\n                byId[contact.id] = contact\n                ids.push(contact.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Orders(state: DataInterface<Order> = { loading: false, byId: {}, ids: [], sort: { keys: ['documentNr'], direction: 'desc' } }, action: AnyAction): DataInterface<Order> {\n    let byId: StringIndexed<Order> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_ORDERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_ORDERS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let order of action.payload) {\n                byId[order.id] = order\n                ids.push(order.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction OpenOrders(state: DataInterface<Order> = { loading: false, byId: {}, ids: [], sort: { keys: ['title'], direction: 'desc' } }, action: AnyAction): DataInterface<Order> {\n    let byId: StringIndexed<Order> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_OPEN_ORDERS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_OPEN_ORDERS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let order of action.payload) {\n                byId[order.id] = order\n                ids.push(order.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\n\nfunction BillingReports(state: DataInterface<BillingReport> = { loading: false, byId: {}, ids: [], sort: { keys: ['orderDate'], direction: 'desc' } }, action: AnyAction): DataInterface<BillingReport> {\n    let byId: StringIndexed<BillingReport> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_BILLING_REPORTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_BILLING_REPORTS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let report of action.payload) {\n                byId[report.id] = report\n                ids.push(report.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        case DataActions.APPROVE_BILLING_REPORT:\n            byId = Object.assign({}, state.byId, Object.assign({}, state.byId[action.payload], { status: 'approved' }))\n            return Object.assign({}, state, { byId: byId })\n        default:\n            return state\n    }\n}\n\nfunction CompensationEntries(state: DataInterface<Compensation> = { loading: false, byId: {}, ids: [], sort: { keys: ['date'], direction: 'desc' } }, action: AnyAction): DataInterface<Compensation> {\n    let byId: StringIndexed<Compensation> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_COMPENSATION_ENTRIES:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_COMPENSATION_ENTRIES:\n            if (Object.keys(action.payload).length < 0) return state\n            for (let entry of action.payload) {\n                byId[entry.id] = entry\n                ids.push(entry.id)\n\n                if (!entry.hasOwnProperty('description')) {\n                    if (entry.hasOwnProperty('billingReport') && entry.billingReport.hasOwnProperty('order')) {\n                        // only show the contact if the contact is not a privat person (identified that companies doesn't have any firstname)\n                        if (entry.billingReport.order.hasOwnProperty('contact') && !entry.billingReport.order.contact.hasOwnProperty('firstname')) {\n                            byId[entry.id] = Object.assign(byId[entry.id], { description: `${entry.billingReport.order.title} (${entry.billingReport.order.contact.lastname})` })\n                        } else {\n                            byId[entry.id] = Object.assign(byId[entry.id], { description: `${entry.billingReport.order.title}` })\n                        }\n                    }\n                }\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        case DataActions.APPROVE_COMPENSATION_ENTRY:\n            byId = Object.assign({}, state.byId, Object.assign({}, state.byId[action.payload], { status: 'approved' }))\n            return Object.assign({}, state, { byId: byId })\n        case DataActions.DELETE_COMPENSATION_ENTRY:\n            return Object.assign({}, state, { ids: state.ids.filter(el => el !== action.payload) })\n        default:\n            return state\n    }\n}\n\nfunction CollectionPoints(state: DataInterface<CollectionPoint> = { loading: false, byId: {}, ids: [], sort: { keys: ['city'], direction: 'desc' } }, action: AnyAction): DataInterface<CollectionPoint> {\n    let byId: StringIndexed<CollectionPoint> = {}\n    let ids: Array<number> = []\n    switch (action.type) {\n        case DataActions.FETCH_COLLECTION_POINTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_COLLECTION_POINTS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let entry of action.payload) {\n                byId[entry.id] = entry\n                ids.push(entry.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction MailingLists(state: StringIndexed<Array<string>> = {}, action: AnyAction): StringIndexed<Array<string>> {\n    switch (action.type) {\n        case DataActions.GOT_MEMBERS:\n            let mailingLists = { all: ([] as Array<string>), drivers: ([] as Array<string>), vks: ([] as Array<string>), squad: ([] as Array<string>), vst: ([] as Array<string>), con: ([] as Array<string>) }\n\n            for (let member of (action.payload as Array<Contact>)) {\n                mailingLists.all.push(member.mail)\n                if (member.mailSecond) mailingLists.all.push(member.mailSecond)\n                mailingLists.all = mailingLists.all.concat(member.moreMails || [])\n\n                // Drivers\n                if (member.contactGroups.find(group => group.bexioId === 9)) {\n                    mailingLists.drivers.push(member.mail)\n                    if (member.mailSecond) mailingLists.drivers.push(member.mailSecond)\n                    mailingLists.drivers = mailingLists.drivers.concat(member.moreMails || [])\n                }\n\n                // VKs\n                if (member.contactGroups.find(group =>\n                    group.bexioId === 17 ||\n                    group.bexioId === 13 ||\n                    group.bexioId === 11 ||\n                    group.bexioId === 12 ||\n                    group.bexioId === 28 ||\n                    group.bexioId === 29 ||\n                    group.bexioId === 15 ||\n                    group.bexioId === 27 ||\n                    group.bexioId === 26 ||\n                    group.bexioId === 10 ||\n                    group.bexioId === 14\n                )) {\n                    mailingLists.vks.push(member.mail)\n                    if (member.mailSecond) mailingLists.vks.push(member.mailSecond)\n                    mailingLists.vks = mailingLists.vks.concat(member.moreMails || [])\n                }\n\n                // Squad\n                if (member.contactGroups.find(group =>\n                    group.bexioId === 13 ||\n                    group.bexioId === 12 ||\n                    group.bexioId === 28 ||\n                    group.bexioId === 29 ||\n                    group.bexioId === 15 ||\n                    group.bexioId === 14\n                )) {\n                    mailingLists.squad.push(member.mail)\n                    if (member.mailSecond) mailingLists.squad.push(member.mailSecond)\n                    mailingLists.squad = mailingLists.squad.concat(member.moreMails || [])\n                }\n\n                // VST\n                if (member.contactGroups.find(group => group.bexioId === 16)) {\n                    mailingLists.vst.push(member.mail)\n                    if (member.mailSecond) mailingLists.vst.push(member.mailSecond)\n                    mailingLists.vst = mailingLists.vst.concat(member.moreMails || [])\n                }\n\n                // Condor\n                if (member.contactGroups.find(group => group.bexioId === 22)) {\n                    mailingLists.con.push(member.mail)\n                    if (member.mailSecond) mailingLists.con.push(member.mailSecond)\n                    mailingLists.con = mailingLists.con.concat(member.moreMails || [])\n                }\n            }\n            return mailingLists\n        default:\n            return state\n    }\n}\n\nfunction Payouts(state: DataInterface<Payout> = { loading: false, byId: {}, ids: [], sort: { keys: ['until'], direction: 'desc' } }, action: AnyAction): DataInterface<Payout> {\n    let byId: StringIndexed<Payout> = {}\n    let ids: Array<number> = []\n    switch (action.type) {\n        case DataActions.FETCH_PAYOUTS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_PAYOUTS:\n            if (Object.keys(action.payload).length < 1) return state\n\n            for (let entry of action.payload as Array<Payout>) {\n                let byMember: StringIndexed<Array<Compensation>> = {}\n                for (let i in entry.compensations) {\n                    let compensation = entry.compensations[i]\n                    if (!compensation.hasOwnProperty('description')) {\n                        if (compensation.hasOwnProperty('billingReport') && (compensation as OrderCompensation).billingReport && (compensation as OrderCompensation).billingReport.hasOwnProperty('order')) {\n                            // only show the contact if the contact is not a privat person (identified that companies doesn't have any firstname)\n                            if ((compensation as OrderCompensation).billingReport.order.hasOwnProperty('contact') && !(compensation as OrderCompensation).billingReport.order.contact.hasOwnProperty('firstname')) {\n                                compensation = Object.assign(compensation, { description: `${(compensation as OrderCompensation).billingReport.order.title} (${(compensation as OrderCompensation).billingReport.order.contact.lastname})` })\n                            } else {\n                                compensation = Object.assign(compensation, { description: `${(compensation as OrderCompensation).billingReport.order.title}` })\n                            }\n                        }\n                    }\n\n                    entry.compensations[i] = compensation\n                    if (!byMember.hasOwnProperty(compensation.member.id)) byMember[compensation.member.id] = []\n                    byMember[compensation.member.id].push(compensation)\n                }\n                entry.compensationsByMember = byMember\n                entry.totalWithoutMinus = Object.keys(byMember).map(key => {\n                    let total = 0\n                    byMember[key].map(comp => total = total + comp.amount)\n                    if (total > 0) return total\n                    return 0\n                }).reduce((a, b) => a + b, 0)\n                byId[entry.id] = entry\n                ids.push(entry.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        default:\n            return state\n    }\n}\n\nfunction Logoffs(state: DataInterface<Logoff> = { loading: false, byId: {}, ids: [], sort: { keys: ['from'], direction: 'desc' } }, action: AnyAction): DataInterface<Logoff> {\n    let byId: StringIndexed<Logoff> = {}\n    let ids: Array<number> = []\n\n    switch (action.type) {\n        case DataActions.FETCH_LOGOFFS:\n            if (state.ids.length === 0) {\n                return Object.assign({}, state, { loading: true })\n            }\n            return Object.assign({}, state, { loading: false })\n        case DataActions.GOT_LOGOFFS:\n            if (Object.keys(action.payload).length < 1) return state\n            for (let logoff of action.payload) {\n                byId[logoff.id] = logoff\n                ids.push(logoff.id)\n            }\n\n            return Object.assign({}, state, { loading: false, byId: byId, ids: ids })\n        case DataActions.APPROVE_LOGOFF:\n            byId = Object.assign({}, state.byId, Object.assign({}, state.byId[action.payload], { approved: true }))\n            return Object.assign({}, state, { byId: byId })\n        case DataActions.DECLINE_LOGOFF:\n            return Object.assign({}, state, { ids: state.ids.filter(el => el !== action.payload) })\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({ logoffs: Logoffs, payouts: Payouts, collectionPoints: CollectionPoints, user: UserReducer, users: Users, contacts: Contacts, members: Members, ranks: Ranks, orders: Orders, openOrders: OpenOrders, billingReports: BillingReports, compensationEntries: CompensationEntries, mailingLists: MailingLists })\n","import UIReducer, { UI } from \"./UIReducer\";\nimport DataReducer, { Data } from \"./DataReducer\";\n\nexport interface State {\n    ui: UI,\n    data: Data\n}\n\nexport default { ui: UIReducer, data: DataReducer }","import Contact from \"./Contact\"\nimport Base from \"./Base\"\nimport User from \"./User\"\n\nexport enum LogoffState {\n    APPROVED = 'approved',\n    PENDING = 'pending',\n    DECLINED = 'declined'\n}\n\nexport default class Logoff extends Base {\n    public contact: Contact\n\n    public from: Date\n\n    public until: Date\n\n    public state: LogoffState\n\n    public remarks?: string\n\n    public createdBy: User\n\n    public changedStateBy: User\n\n    public deletedAt?: Date\n\n    public deletedBy: User\n\n    constructor(contact: Contact, from: Date, until: Date, state: LogoffState, remarks: string, createdBy: User) {\n        super()\n        this.contact = contact\n        this.from = from\n        this.until = until\n        this.state = state\n        this.remarks = remarks || undefined\n        this.createdBy = createdBy\n    }\n}","\nimport React, { Component } from \"react\";\nimport { Page } from \"../Page\";\n\nexport class Error403 extends Component {\n    public render() {\n        return (\n            <Page title=\"\">\n                <div className=\"gandalf\">\n                    <div className=\"fireball\"></div>\n                    <div className=\"skirt\"></div>\n                    <div className=\"sleeves\"></div>\n                    <div className=\"shoulders\">\n                        <div className=\"hand left\"></div>\n                        <div className=\"hand right\"></div>\n                    </div>\n                    <div className=\"head\">\n                        <div className=\"hair\"></div>\n                        <div className=\"beard\"></div>\n                    </div>\n                </div>\n                <div className=\"message\">\n                    <h1>403 - You Shall Not Pass</h1>\n                    <p>Uh oh, Gandalf is blocking the way!<br />Maybe you have a typo in the url? Or you meant to go to a different location? Like...Hobbiton?</p>\n                </div>\n            </Page>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { State } from '../reducers/IndexReducer';\nimport { AuthRoles } from '../interfaces/AuthRoles';\nimport User from '../entities/User';\nimport { RouteProps } from 'react-router';\nimport { Dispatch } from 'redux';\nimport { UI } from '../actions/UIActions';\nimport { Error403 } from './Errors/403';\n\nexport interface SecureRouteProps {\n    user?: User,\n    showError?: (message: string) => void\n    exact: boolean,\n    path: string,\n    roles: Array<AuthRoles>\n    component: any\n}\n\nexport default class _SecureRoute extends Component<RouteProps & SecureRouteProps> {\n    public render() {\n        for (let role of this.props.roles) {\n            if (this.props.user && (this.props.user.roles.includes(role) || this.props.user.roles.includes(AuthRoles.ADMIN))) {\n                return (\n                    <Route exact={this.props.exact} path={this.props.path} component={this.props.component} />\n                )\n            }\n        }\n\n        if (this.props.user && this.props.showError) {\n            this.props.showError('Not Authorized!')\n            return <Route exact={this.props.exact} path={this.props.path} component={Error403} />\n        }\n\n        return (\n            <Route exact={this.props.exact} path={this.props.path} component={() => {\n                return (<Redirect push to={{\n                    pathname: \"/login\",\n                    state: {\n                        prevLocation: (this.props.location || { pathname: '' }).pathname\n                    },\n                }} />)\n            }} />\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        showError: (message: string) => {\n            dispatch(UI.showError(message))\n        }\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user.data\n    }\n}\n\nexport const SecureRoute = connect(mapStateToProps, mapDispatchToProps)(_SecureRoute)","import React, { Component } from \"react\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport Panel from \"./Panel\";\nimport Loading from \"./Loading\";\nimport { AuthRoles } from \"../interfaces/AuthRoles\";\nimport Compensation from \"../entities/Compensation\";\nimport { RouteComponentProps } from \"react-router\";\nimport User from '../entities/User'\nimport Contact from '../entities/Contact'\nimport Table from \"./Table\";\nimport { Button } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataInterface } from \"../reducers/DataReducer\";\n\nexport interface ContactCompensationProps extends RouteComponentProps<{ id: string }> {\n    user: User,\n    contact: Contact,\n    loading: boolean,\n    fetchData: () => Promise<AnyAction>,\n    compensations: DataInterface<Compensation>,\n}\n\n\nexport interface ContactCompensationState {\n    openCompensationsSum: number,\n    compensations: Array<Compensation>\n}\n\nexport class _ContactCompensation extends Component<ContactCompensationProps, ContactCompensationState> {\n    constructor(props: ContactCompensationProps) {\n        super(props)\n\n        this.compensationView = this.compensationView.bind(this)\n\n        this.state = {\n            openCompensationsSum: 0,\n            compensations: []\n        }\n    }\n\n    private getContactCompensations(): Array<Compensation> {\n        if (this.props.compensations.ids.length <= 0) return []\n\n        const compensations: Array<Compensation> = []\n        this.props.compensations.ids.forEach(id => {\n            const compensation = this.props.compensations.byId[id]\n            if (compensation.member.id === this.props.contact.id && compensation.approved) {\n                compensations.push(compensation)\n            }\n\n        })\n        return compensations\n    }\n\n    public compensationView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/compensation/' + id)\n            } else {\n                this.props.history.push('/compensation/' + id)\n            }\n        }\n    }\n\n    public componentDidMount() {\n        this.props.fetchData()\n        const compensations = this.getContactCompensations()\n        this.setState({ openCompensationsSum: compensations.filter(a => !a.paied).reduce((a, b) => a + b.amount, 0), compensations })\n    }\n\n    public componentDidUpdate(prevProps: ContactCompensationProps) {\n        if (this.props.compensations.ids.length > 0 && this.props.loading === false && prevProps.compensations.ids.length !== this.props.compensations.ids.length) {\n            const compensations = this.getContactCompensations()\n            this.setState({ openCompensationsSum: compensations.filter(a => !a.paied).reduce((a, b) => a + b.amount, 0), compensations })\n        }\n    }\n\n    public render() {\n        const actions: Array<React.ReactElement> = [<Button variant=\"success\" className=\"view\" onMouseUp={this.compensationView}><FontAwesomeIcon icon=\"eye\" /></Button>]\n\n        if (this.props.user.roles.indexOf(AuthRoles.COMPENSATIONS_READ) < 0 && this.props.user.roles.indexOf(AuthRoles.ADMIN) < 0 && (this.props.user.bexioContact || { id: undefined }).id !== this.props.contact.id) {\n            return null\n        }\n\n        if (this.props.loading) {\n            return <Panel title=\"Entschädigungen\"><Loading /></Panel>\n        }\n\n        return (\n            <Panel title={`Entschädigungen (Offen: ${this.state.openCompensationsSum.toFixed(2)}.-)`} scrollable={true}>\n                <Table<Compensation>\n                    columns={[\n                        { text: 'Datum', keys: ['date'], sortable: true },\n                        { text: 'Beschreibung', keys: ['description'], sortable: true },\n                        { text: 'Betrag', keys: ['amount'], prefix: 'CHF ', sortable: true, format: 'toFixed(2)' },\n                        { text: 'Genehmigt', keys: ['approved'], sortable: true },\n                        { text: 'Ausbezahlt', keys: ['paied'], sortable: true },\n                        {\n                            text: 'Actions', keys: ['_id'], content: <div className=\"btn-group\">\n                                {actions}\n                            </div>\n                        }\n                    ]}\n                    defaultSort={{\n                        keys: ['date'],\n                        direction: 'desc'\n                    }}\n                    data={this.state.compensations}\n                />\n            </Panel>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        loading: state.data.contacts.loading || state.data.members.loading || state.data.compensationEntries.loading,\n        compensations: state.data.compensationEntries\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            return dispatch(Data.fetchCompensationEntries())\n        }\n    }\n}\n\n//@ts-ignore\nexport const ContactCompensation = connect(mapStateToProps, mapDispatchToProps)(_ContactCompensation)","import React, { Component } from \"react\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { connect } from \"react-redux\"\nimport { Data } from \"../actions/DataActions\"\nimport Panel from \"./Panel\"\nimport Loading from \"./Loading\"\nimport { AuthRoles } from \"../interfaces/AuthRoles\"\nimport { RouteComponentProps } from \"react-router\"\nimport User from '../entities/User'\nimport Contact from '../entities/Contact'\nimport Table from \"./Table\"\nimport { Button } from \"react-bootstrap\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { DataInterface } from \"../reducers/DataReducer\"\nimport Logoff from \"../entities/Logoff\"\n\nexport interface ContactLogoffProps extends RouteComponentProps<{ id: string }> {\n    user: User,\n    contact: Contact,\n    loading: boolean,\n    fetchData: () => Promise<AnyAction>,\n    logoffs: DataInterface<Logoff>,\n}\n\n\nexport interface ContactLogoffState {\n    logoffs: Array<Logoff>\n}\n\nexport class _ContactLogoff extends Component<ContactLogoffProps, ContactLogoffState> {\n    constructor(props: ContactLogoffProps) {\n        super(props)\n\n        this.logoffView = this.logoffView.bind(this)\n\n        this.state = {\n            logoffs: []\n        }\n    }\n\n    private getContactLogoffs(): void {\n        if (this.props.logoffs.ids.length <= 0) {\n            this.setState({ logoffs: [] })\n            return\n        }\n\n        const logoffs: Array<Logoff> = []\n        this.props.logoffs.ids.forEach(id => {\n            const logoff = this.props.logoffs.byId[id]\n            if (logoff.contact.id === this.props.contact.id) {\n                logoffs.push(logoff)\n            }\n\n        })\n        this.setState({ logoffs })\n    }\n\n    public logoffView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/draft/logoff/' + id)\n            } else {\n                this.props.history.push('/draft/logoff/' + id)\n            }\n        }\n    }\n\n    public componentDidMount() {\n        this.props.fetchData()\n        this.getContactLogoffs()\n    }\n\n\n    public componentDidUpdate(prevProps: ContactLogoffProps) {\n        if (this.props.logoffs.ids.length > 0 && this.props.loading === false && prevProps.logoffs.ids.length !== this.props.logoffs.ids.length) {\n            this.getContactLogoffs()\n        }\n    }\n\n    public render() {\n        const actions: Array<React.ReactElement> = [<Button variant=\"success\" className=\"view\" onMouseUp={this.logoffView}><FontAwesomeIcon icon=\"eye\" /></Button>]\n\n        if (this.props.user.roles.indexOf(AuthRoles.LOGOFFS_READ) < 0 && this.props.user.roles.indexOf(AuthRoles.ADMIN) < 0 && (this.props.user.bexioContact || { id: undefined }).id !== this.props.contact.id) {\n            return null\n        }\n\n        if (this.props.loading) {\n            return <Panel title=\"Abmeldungen\"><Loading /></Panel>\n        }\n\n        return (\n            <Panel title={`Abmeldungen`} scrollable={true}>\n                <Table<Logoff>\n                    columns={[\n                        { text: 'Von', keys: ['from'], sortable: true, format: 'toLocaleString' },\n                        { text: 'Bis', keys: ['until'], sortable: true, format: 'toLocaleString' },\n                        { text: 'Status', keys: ['state'], sortable: true },\n                        {\n                            text: 'Actions', keys: ['_id'], content: <div className=\"btn-group\">\n                                {actions}\n                            </div>\n                        }\n                    ]}\n                    defaultSort={{\n                        keys: ['from'],\n                        direction: 'desc'\n                    }}\n                    data={this.state.logoffs}\n                />\n            </Panel>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        loading: state.data.contacts.loading || state.data.members.loading || state.data.logoffs.loading,\n        logoffs: state.data.logoffs\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            return dispatch(Data.fetchLogoffs())\n        }\n    }\n}\n\n//@ts-ignore\nexport const ContactLogoff = connect(mapStateToProps, mapDispatchToProps)(_ContactLogoff)","import React, { Component } from \"react\"\nimport { Page } from '../components/Page'\nimport Panel from \"../components/Panel\"\nimport Column from \"../components/Column\"\nimport Row from \"../components/Row\"\nimport { Link } from \"react-router-dom\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { connect } from 'react-redux'\nimport { Data } from \"../actions/DataActions\"\nimport Loading from \"../components/Loading\"\nimport User from \"../entities/User\"\nimport { ContactCompensation } from \"../components/ContactCompensation\"\nimport { AuthRoles } from \"../interfaces/AuthRoles\"\nimport { ContactLogoff } from \"../components/ContactLogoffs\"\n\nexport class _Dashboard extends Component<{ user: User, loading: boolean, fetchUser: Function }> {\n\n    public componentDidMount() {\n        this.props.fetchUser()\n    }\n\n    public renderShortcuts() {\n        const shortcuts = []\n        if (this.props.user.roles.indexOf(AuthRoles.BILLINGREPORTS_CREATE) > -1) {\n            shortcuts.push(<Link key=\"billingreport\" to=\"/billing-reports/add/\" className=\"btn btn-block btn-outline-primary\">Verrechnungsrapport erstellen</Link>)\n        }\n\n        if (this.props.user.bexioContact) {\n            shortcuts.push(<Link key=\"profile\" to={`/contact/${this.props.user.bexioContact.id}`} className=\"btn btn-block btn-outline-primary\">Mein Profil</Link>)\n        }\n        return shortcuts\n    }\n\n    public renderCompensations() {\n        if (this.props.user.bexioContact) {\n            return (\n                <Column className=\"col-md-6\">\n                    <ContactCompensation contact={this.props.user.bexioContact} {...this.props} />\n                </Column>\n            )\n        }\n    }\n\n    public renderLogoffs() {\n        if (this.props.user.bexioContact) {\n            return (\n                <Column className=\"col-md-6\">\n                    <ContactLogoff contact={this.props.user.bexioContact} {...this.props} />\n                </Column>\n            )\n        }\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.user) {\n            return (\n                <Page title=\"Dashboard\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Dashboard\">\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Shortcuts\">\n                            {this.renderShortcuts()}\n                        </Panel>\n                    </Column>\n                    {this.renderCompensations()}\n                </Row>\n                <Row>\n                    {this.renderLogoffs()}\n                </Row>\n            </Page>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        loading: state.data.user.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchUser: () => {\n            dispatch(Data.fetchUser())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const Dashboard = connect(mapStateToProps, mapDispatchToProps)(_Dashboard)","import { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport { Link } from \"react-router-dom\";\nimport Button from './Button'\n\nexport interface ActionProps {\n    icon: IconProp,\n    to?: string,\n    onClick?: (event: React.MouseEvent<HTMLButtonElement>) => Promise<void>,\n    state?: any\n}\n\nexport default class Action extends Component<ActionProps> {\n    constructor(props: ActionProps) {\n        super(props)\n\n        this.onClick = this.onClick.bind(this)\n    }\n\n    private async onClick(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (this.props.onClick) await this.props.onClick(event)\n    }\n\n    public render() {\n        if (this.props.to) {\n            return (\n                <Link to={{\n                    pathname: this.props.to,\n                    state: this.props.state || {}\n                }}\n                    className=\"action-button btn btn-outline-dark\"\n                >\n                    <FontAwesomeIcon icon={this.props.icon} />\n                </Link>\n            )\n        }\n\n        return (\n            <Button onClick={this.onClick} variant=\"outline-dark\" className=\"action-button\">\n                <FontAwesomeIcon icon={this.props.icon} />\n            </Button>\n        )\n    }\n}","import { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataList, DataListProps } from \"../components/DataList\";\nimport Action from \"../components/Action\";\nimport React, { Component } from \"react\";\nimport Contact from \"../entities/Contact\";\nimport Xlsx from 'xlsx'\nimport Config from \"../Config\";\n\ninterface MembersProps extends DataListProps<Contact> {\n    memberlistPdf: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => Promise<void>\n}\n\nexport class _Members extends Component<MembersProps> {\n    constructor(props: MembersProps) {\n        super(props)\n\n        this.excelExport = this.excelExport.bind(this)\n    }\n\n    private async excelExport(event: React.MouseEvent<HTMLButtonElement>) {\n        let membersAsArray = []\n        for (let i in this.props.data.byId) {\n            let member = this.props.data.byId[i]\n            let germanizedMember = {\n                Nachname: member.lastname,\n                Vorname: member.firstname,\n                Rang: (member.rank || ''),\n                Funktionen: (member.functions || []).join(','),\n                Geburtstag: member.birthday,\n                Adresse: `${member.address}, ${member.postcode} ${member.city}`,\n                Abholpunkt: '',\n                'E-Mail': member.mail,\n                'E-Mail 2': member.mailSecond,\n                Festnetz: member.phoneFixed,\n                Mobile: member.phoneMobile\n            }\n\n            if (member.collectionPoint) germanizedMember.Abholpunkt = `(${member.collectionPoint.name}) ${member.collectionPoint.address}, ${member.collectionPoint.postcode} ${member.collectionPoint.city}`\n\n            membersAsArray.push(germanizedMember)\n        }\n        let sheet = Xlsx.utils.json_to_sheet(membersAsArray)\n        let book = Xlsx.utils.book_new()\n        Xlsx.utils.book_append_sheet(book, sheet, 'Mitglieder')\n        Xlsx.writeFile(book, 'Mitglieder.xlsx')\n    }\n\n    public render() {\n        return (\n            <DataList<Contact>\n                {...this.props}\n                panelActions={[\n                    <Action key=\"excel-export\" icon=\"file-excel\" onClick={this.excelExport} />,\n                    <Action key=\"pdf-export\" onClick={this.props.memberlistPdf} icon='file-pdf' />\n                ]}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.members,\n        title: 'Mitglieder',\n        viewLocation: '/contact/',\n        tableColumns: [\n            { text: 'Name', keys: ['lastname', 'firstname'], sortable: true, searchable: true },\n            { text: 'Grad', keys: ['rank'], sortable: true, searchable: true },\n            { text: 'Funktionen', keys: ['functions'], sortable: true, searchable: true },\n            { text: 'Addresse', keys: ['address', 'postcode', 'city'], link: true, linkPrefix: 'https://www.google.com/maps/search/', sortable: true, searchable: true },\n            { text: 'Abholpunkt', keys: { collectionPoint: ['address', 'postcode', 'city'] }, link: true, linkPrefix: 'https://www.google.com/maps/search/', sortable: true, searchable: true },\n            { text: 'Festnetz', keys: ['phoneFixed'], link: true, linkPrefix: 'tel:', sortable: true, searchable: true },\n            { text: 'Festnetz 2', keys: ['phoneFixedSecond'], link: true, linkPrefix: 'tel:', sortable: true, searchable: true },\n            { text: 'Mobile', keys: ['phoneMobile'], link: true, linkPrefix: 'tel:', sortable: true, searchable: true },\n            { text: 'E-Mail', keys: ['mail'], link: true, linkPrefix: 'mailto:', sortable: true, searchable: true },\n            { text: 'E-Mail 2', keys: ['mailSecond'], link: true, linkPrefix: 'mailto:', sortable: true, searchable: true },\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchMembers())\n        },\n        memberlistPdf: async () => {\n            window.open(`${Config.apiEndpoint}/api/members/pdf`)\n        }\n    }\n}\n\n\nexport const Members = connect(mapStateToProps, mapDispatchToProps)(_Members)","import React, { Component } from \"react\"\nimport Row from \"./Row\"\nimport Column from \"./Column\"\nimport Input from \"./Input\"\n\ninterface FormEntryProps {\n    id: string\n    title: string\n    editable?: boolean\n    value?: any\n    type?: string\n    onChange?: (name: string, value: any) => void\n}\n\nexport default class FormEntry extends Component<FormEntryProps> {\n    public renderChildren() {\n        if (typeof this.props.value !== 'undefined') {\n            return <Input name={this.props.id} editable={this.props.editable} onChange={this.props.onChange} type={this.props.type} value={this.props.value} />\n        }\n\n        return this.props.children\n    }\n\n    public render() {\n        return (\n            <Row>\n                <Column className=\"col-6\">\n                    {this.props.title}\n                </Column>\n                <Column className=\"col-6\">\n                    {this.renderChildren()}\n                </Column>\n            </Row>\n        )\n    }\n}","import User from \"./User\";\n\nexport default abstract class Base {\n    public id: number\n\n    public updatedAt: Date\n}","import Base from \"./Base\";\n\nexport default class CollectionPoint extends Base {\n    public name: string\n    public address: string\n    public postcode: string\n    public city: string\n}","import React, { Component } from \"react\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport Select from 'react-select'\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport { ValueType } from \"react-select/lib/types\";\nimport { connect } from 'react-redux';\nimport CollectionPoint from \"../entities/CollectionPoint\";\n\ninterface CollectionPointSelectProps {\n    defaultValue?: Array<CollectionPoint>,\n    isMulti?: boolean\n    onChange: Function,\n    collectionPoints: DataInterface<CollectionPoint>,\n    loading: boolean,\n    ref?: Function,\n    fetchCollectionPoints: Function\n}\n\nexport class _CollectionPointSelect extends Component<CollectionPointSelectProps, { value?: Array<{ label: string, value: string }> }> {\n    constructor(props: CollectionPointSelectProps) {\n        super(props)\n\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let collectionPoint of this.props.defaultValue) {\n                if (collectionPoint && Object.keys(collectionPoint).length > 0) {\n                    valueProps.push({\n                        value: collectionPoint.id.toString(),\n                        label: `(${collectionPoint.name}) ${collectionPoint.address}, ${collectionPoint.postcode} ${collectionPoint.city}`,\n                    })\n                }\n            }\n\n            this.state = {\n                value: valueProps\n            }\n        } else {\n            this.state = {}\n        }\n    }\n\n    public componentDidUpdate() {\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let collectionPoint of this.props.defaultValue) {\n                if (collectionPoint && Object.keys(collectionPoint).length > 0) {\n                    valueProps.push({\n                        value: collectionPoint.id.toString(),\n                        label: `(${collectionPoint.name}) ${collectionPoint.address}, ${collectionPoint.postcode} ${collectionPoint.city}`,\n                    })\n                }\n            }\n\n            if (JSON.stringify(this.state.value) !== JSON.stringify(valueProps)) {\n                this.setState({\n                    value: valueProps\n                })\n            }\n        }\n    }\n\n    public componentWillMount() {\n        if (this.props.collectionPoints.ids.length < 1) {\n            this.props.fetchCollectionPoints()\n        }\n    }\n\n    private prepareOptions() {\n        let options = []\n        if (Object.keys(this.props.collectionPoints.byId).length > 0) {\n            for (let i in this.props.collectionPoints.byId) {\n                let collectionPoint = this.props.collectionPoints.byId[i]\n                options.push({\n                    label: `(${collectionPoint.name}) ${collectionPoint.address}, ${collectionPoint.postcode} ${collectionPoint.city}`,\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onChange(opt: ValueType<{ label: string, value: string }>) {\n        let ops: Array<{ label: string, value: string }> = [opt as { label: string, value: string }]\n        if (this.props.isMulti) {\n            ops = opt as Array<{ label: string, value: string }>\n        }\n\n        this.setState({\n            value: ops\n        })\n\n        let collectionPoints = []\n        for (let o of ops) {\n            if (o) {\n                collectionPoints.push(this.props.collectionPoints.byId[o.value])\n            }\n        }\n\n        if (this.props.onChange) {\n            if (this.props.isMulti) {\n                this.props.onChange(collectionPoints)\n            } else {\n                this.props.onChange(collectionPoints[0])\n            }\n        }\n    }\n\n    private prepareValue() {\n        if (this.props.isMulti) {\n            return this.state.value || []\n        }\n\n        return (this.state.value || [])[0]\n    }\n\n    public render() {\n        if (!this.props.loading) {\n            return (<Select\n                ref={(select: any) => { if (this.props.ref) this.props.ref(select) }}\n                isClearable={true}\n                options={this.prepareOptions()}\n                backspaceRemovesValue={true}\n                hideSelectedOptions={true}\n                openMenuOnFocus={true}\n                isMulti={this.props.isMulti || false}\n                onChange={this.onChange.bind(this)}\n                value={this.prepareValue()}\n            />)\n        }\n\n        return null\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        collectionPoints: state.data.collectionPoints,\n        loading: state.data.collectionPoints.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchCollectionPoints: () => {\n            dispatch(Data.fetchCollectionPoints())\n        }\n    }\n}\n\n//@ts-ignore\nexport const CollectionPointSelect = connect(mapStateToProps, mapDispatchToProps)(_CollectionPointSelect)","import React, { Component } from \"react\"\nimport { Page } from \"../components/Page\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { AnyAction } from \"redux\"\nimport { connect } from \"react-redux\"\nimport { Data } from \"../actions/DataActions\"\nimport Row from \"../components/Row\"\nimport Column from \"../components/Column\"\nimport Panel from \"../components/Panel\"\nimport FormEntry from \"../components/FormEntry\"\nimport Loading from \"../components/Loading\"\nimport * as ContactEntity from \"../entities/Contact\"\nimport ContactGroup from \"../entities/ContactGroup\"\nimport Action from \"../components/Action\"\nimport CollectionPoint from \"../entities/CollectionPoint\"\nimport { CollectionPointSelect } from \"../components/CollectionPointSelect\"\nimport { EditMember } from \"../interfaces/Member\"\nimport User from \"../entities/User\"\nimport { AuthRoles } from \"../interfaces/AuthRoles\"\nimport { RouteComponentProps } from \"react-router\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { Button } from \"react-bootstrap\"\nimport { ContactCompensation } from \"../components/ContactCompensation\"\nimport { Error403 } from \"../components/Errors/403\"\nimport { ContactLogoff } from \"../components/ContactLogoffs\"\n\nexport interface ContactProps extends RouteComponentProps<{ id: string }> {\n    user: User,\n    contact: ContactEntity.default,\n    loading: boolean,\n    loadContacts: () => Promise<void>,\n    editMember: (data: EditMember) => Promise<void>\n}\n\nexport interface ContactState {\n    editable: boolean,\n    collectionPoint: CollectionPoint,\n    entryDate?: string,\n    exitDate?: string,\n    bankName?: string,\n    iban?: string,\n    accountHolder?: string,\n    moreMails: Array<string>,\n}\n\nexport default class _Contact extends Component<ContactProps, ContactState> {\n    private groups: Array<ContactGroup>\n\n    constructor(props: ContactProps) {\n        super(props)\n        this.groups = []\n\n        if (!this.props.contact && !this.props.loading) {\n            this.props.loadContacts()\n        }\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n        this.onAbort = this.onAbort.bind(this)\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.renderCollectionPoint = this.renderCollectionPoint.bind(this)\n        this.renderPanelActions = this.renderPanelActions.bind(this)\n        this.onMoreMailsChange = this.onMoreMailsChange.bind(this)\n\n        const contact = this.props.contact || {}\n\n        this.state = {\n            editable: false,\n            collectionPoint: contact.collectionPoint || new CollectionPoint(),\n            entryDate: (contact.entryDate) ? contact.entryDate.toLocaleDateString() : '',\n            exitDate: (contact.exitDate) ? contact.exitDate.toLocaleDateString() : '',\n            bankName: contact.bankName || '',\n            iban: contact.iban || '',\n            accountHolder: contact.accountHolder || '',\n            moreMails: contact.moreMails || [],\n        }\n    }\n\n    private onInputChange(name: string, value: any) {\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        })\n    }\n\n    private onMoreMailsChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target\n        const value = target.value\n        const name = target.name\n\n        this.setState({\n            moreMails: Object.assign([], this.state.moreMails, { [name]: value })\n        })\n    }\n\n    private removeMoreMailEntry(index: number) {\n        this.setState({\n            moreMails: [...this.state.moreMails.slice(0, index), ...this.state.moreMails.slice(index + 1)]\n        })\n    }\n\n    public componentDidUpdate(prevProps: ContactProps) {\n        if (this.props.contact && !prevProps.contact) {\n            this.setState({\n                collectionPoint: this.props.contact.collectionPoint || new CollectionPoint(),\n                entryDate: (this.props.contact.entryDate) ? this.props.contact.entryDate.toLocaleDateString() : '',\n                exitDate: (this.props.contact.exitDate) ? this.props.contact.exitDate.toLocaleDateString() : '',\n                bankName: this.props.contact.bankName || '',\n                iban: this.props.contact.iban || '',\n                accountHolder: this.props.contact.accountHolder || '',\n                moreMails: this.props.contact.moreMails || []\n            })\n        }\n    }\n\n\n    private async onSave() {\n        if (this.props.contact.contactGroups.find(group => group.bexioId === 7)) {\n            await this.props.editMember({\n                id: this.props.contact.id,\n                collectionPointId: (this.state.collectionPoint || { id: undefined }).id,\n                entryDate: (this.state.entryDate) ? new Date(this.state.entryDate) : '',\n                exitDate: (this.state.exitDate) ? new Date(this.state.exitDate) : '',\n                bankName: this.state.bankName,\n                iban: this.state.iban,\n                accountHolder: this.state.accountHolder,\n                moreMails: this.state.moreMails.filter(el => el !== \"\")\n            })\n\n            this.setState({ editable: false })\n        }\n    }\n\n    public async onAbort(event: React.MouseEvent<HTMLElement>) {\n        this.setState({\n            editable: false,\n            collectionPoint: this.props.contact.collectionPoint || new CollectionPoint(),\n            entryDate: (this.props.contact.entryDate) ? this.props.contact.entryDate.toLocaleDateString() : '',\n            exitDate: (this.props.contact.exitDate) ? this.props.contact.exitDate.toLocaleDateString() : '',\n            bankName: this.props.contact.bankName || '',\n            iban: this.props.contact.iban || '',\n            accountHolder: this.props.contact.accountHolder || '',\n            moreMails: this.props.contact.moreMails || []\n        })\n    }\n\n    private onSelectChange(state: string): (opts: CollectionPoint) => void {\n        return (opts: CollectionPoint) => {\n            //@ts-ignore\n            this.setState({ [state]: opts })\n        }\n    }\n\n    private renderCollectionPoint() {\n        if (this.state.editable) {\n            return <CollectionPointSelect multi={false} onChange={this.onSelectChange('collectionPoint')} defaultValue={[this.state.collectionPoint] || undefined} />\n        }\n        if (this.state.collectionPoint &&\n            this.state.collectionPoint.hasOwnProperty('address') &&\n            this.state.collectionPoint.hasOwnProperty('postcode') &&\n            this.state.collectionPoint.hasOwnProperty('city')) {\n            return <a\n                href={`https://www.google.com/maps/search/${this.state.collectionPoint.address}, ${this.state.collectionPoint.postcode} ${this.state.collectionPoint.city}`}\n                target='_blank'>\n                {`${this.state.collectionPoint.address}, ${this.state.collectionPoint.postcode} ${this.state.collectionPoint.city}`}\n            </a>\n        }\n\n        return null\n    }\n\n    private renderPanelActions() {\n        if (this.state.editable) {\n            return [\n                <Action icon=\"save\" key=\"save\" onClick={this.onSave} />,\n                <Action icon=\"times\" key=\"cancel\" onClick={this.onAbort} />\n            ]\n        }\n\n        if (!!this.props.user.roles.indexOf(AuthRoles.MEMBERS_EDIT) || !!this.props.user.roles.indexOf(AuthRoles.CONTACTS_EDIT) || !!this.props.user.roles.indexOf(AuthRoles.ADMIN)) {\n            return [<Action icon=\"pencil-alt\" key=\"edit\" onClick={async () => { this.setState({ editable: true }) }} />]\n        }\n\n        return []\n    }\n\n    private renderActions() {\n        const actions = []\n        const isAdmin = !!this.props.user.roles.indexOf(AuthRoles.ADMIN)\n\n        if (this.props.user.roles.indexOf(AuthRoles.CONTACTS_READ) > -1 || isAdmin) {\n            actions.push(<a target=\"_blank\" href={\"https://office.bexio.com/index.php/kontakt/show/id/\" + this.props.contact.bexioId} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>)\n        }\n\n        if (this.props.user.roles.indexOf(AuthRoles.MEMBERS_READ) > -1 || isAdmin) {\n            actions.push(<a target=\"_blank\" href={\"https://vkazu.sharepoint.com/leitung/Personalakten?viewpath=/leitung/Personalakten&id=/leitung/Personalakten/\" + this.props.contact.firstname + \" \" + this.props.contact.lastname} className=\"btn btn-block btn-outline-primary\">Personalakte öffnen</a>)\n        }\n\n        if (actions.length > 0) {\n            return (\n                <Panel title=\"Actions\">\n                    {actions}\n                </Panel>\n            )\n        }\n\n        return null\n    }\n\n\n    public render() {\n        if (parseInt(this.props.match.params.id) !== (this.props.user.bexioContact || { id: undefined }).id && (this.props.user.roles.indexOf(AuthRoles.CONTACTS_READ) < 0 && this.props.user.roles.indexOf(AuthRoles.ADMIN) < 0)) {\n            return <Error403 />\n        }\n\n        if (this.props.loading || !this.props.contact) {\n            return (\n                <Page title=\"Kontakt\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        this.groups = this.props.contact.contactGroups as Array<ContactGroup>\n\n        let address = this.props.contact.address + ', ' + this.props.contact.postcode + ' ' + this.props.contact.city\n\n        return (\n            <Page title={this.props.contact.firstname + ' ' + this.props.contact.lastname}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Persönliche Informationen\" actions={this.renderPanelActions()}>\n                            <div className=\"container-fluid\">\n                                <FormEntry id=\"firstname\" title=\"Vorname\" >{this.props.contact.firstname}</FormEntry>\n                                <FormEntry id=\"lastname\" title=\"Nachname\" >{this.props.contact.lastname}</FormEntry>\n                                <FormEntry id=\"rank\" title=\"Rang\">{this.props.contact.rank}</FormEntry>\n                                <FormEntry id=\"birthday\" title=\"Geburtstag\">{new Date(this.props.contact.birthday).toLocaleDateString()}</FormEntry>\n                                <FormEntry id=\"address\" title=\"Adresse\"><a href={'https://www.google.com/maps/search/' + address} target='_blank'>{address}</a></FormEntry>\n                                <FormEntry id=\"collectionPoint\" title=\"Abholpunkt\">\n                                    {this.renderCollectionPoint()}\n                                </FormEntry>\n                                <FormEntry id=\"phoneFixed\" title=\"Festnetz\"><a href={'tel:' + this.props.contact.phoneFixed}>{this.props.contact.phoneFixed}</a></FormEntry>\n                                <FormEntry id=\"phoneFixedSecond\" title=\"Festnetz 2\"><a href={'tel:' + this.props.contact.phoneFixedSecond}>{this.props.contact.phoneFixedSecond}</a></FormEntry>\n                                <FormEntry id=\"phoneMobile\" title=\"Mobile\"><a href={'tel:' + this.props.contact.phoneMobile}>{this.props.contact.phoneMobile}</a></FormEntry>\n                                <FormEntry id=\"mail\" title=\"E-Mails\">\n                                    <a href={`mailto:${this.props.contact.mail}`}>{this.props.contact.mail}</a> <br />\n                                    <a href={`mailto:${this.props.contact.mailSecond}`}>{this.props.contact.mailSecond}</a> <br />\n                                    {[...this.state.moreMails].map((el, index) => {\n                                        if (this.state.editable) {\n                                            return (\n                                                <div className=\"input-group\">\n                                                    <input type=\"email\" className=\"form-control\" value={el} key={index.toString()} name={index.toString()} onChange={this.onMoreMailsChange} />\n                                                    <div className=\"input-group-append\">\n                                                        <Button className=\"btn-outline-secondary\" onClick={this.removeMoreMailEntry.bind(this, index)}>\n                                                            <FontAwesomeIcon icon=\"times\" />\n                                                        </Button>\n                                                    </div>\n                                                </div>\n                                            )\n                                        }\n                                        return <><a href={`mailto:${el}`}>{el}</a><br /></>\n                                    })}\n                                    {this.state.editable && <Button className=\"btn-outline btn-block\" onClick={() => { this.setState({ moreMails: [...this.state.moreMails, ''] }) }}>Hinzufügen</Button>}\n                                </FormEntry>\n                                <FormEntry id=\"groups\" title=\"Gruppen\">\n                                    {(this.groups) ? this.groups.map((group: ContactGroup) => {\n                                        return <span className=\"badge badge-primary\">{group.name}</span>\n                                    }) : ''}\n                                </FormEntry>\n                                <FormEntry id=\"entryDate\" title=\"Eintrittsdatum\" type=\"date\" editable={this.state.editable} value={this.state.entryDate} onChange={this.onInputChange} />\n                                <FormEntry id=\"exitDate\" title=\"Austrittsdatum\" type=\"date\" editable={this.state.editable} value={this.state.exitDate} onChange={this.onInputChange} />\n                                <FormEntry id=\"remarks\" title=\"Bemerkungen\" >{this.props.contact.remarks}</FormEntry>\n                            </div>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Finanzen\">\n                            <div className=\"container-fluid\">\n                                <FormEntry id=\"bankName\" title=\"Bank\" value={this.state.bankName} editable={this.state.editable} onChange={this.onInputChange} />\n                                <FormEntry id=\"iban\" title=\"IBAN\" value={this.state.iban} editable={this.state.editable} onChange={this.onInputChange} />\n                                <FormEntry id=\"accountHolder\" title=\"Kontoinhaber\" value={this.state.accountHolder} editable={this.state.editable} onChange={this.onInputChange} />\n                            </div>\n                        </Panel>\n                        {this.renderActions()}\n                    </Column>\n                </Row>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <ContactCompensation contact={this.props.contact}  {...this.props} />\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <ContactLogoff contact={this.props.contact}  {...this.props} />\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.user.data,\n        contact: state.data.contacts.byId[props.match.params.id] || state.data.members.byId[props.match.params.id],\n        loading: state.data.contacts.loading || state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        loadContacts: () => {\n            return dispatch(Data.fetchContacts())\n        },\n        editMember: (data: EditMember) => {\n            return dispatch(Data.editMember(data))\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const Contact = connect(mapStateToProps, mapDispatchToProps)(_Contact)","import { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\n\n\nimport { DataList } from '../components/DataList'\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.orders,\n        viewLocation: '/order/',\n        title: 'Aufträge',\n        tableColumns: [\n            { text: 'Auftragsnummer', keys: ['documentNr'], sortable: true, searchable: true },\n            { text: 'Titel', keys: ['title'], sortable: true, searchable: true },\n            { text: 'Kunde', keys: { 'contact': ['firstname', 'lastname'] }, sortable: true, searchable: true },\n            { text: 'Total', keys: ['total'], sortable: true, prefix: 'CHF ', searchable: true },\n            { text: 'Auftragsdaten', keys: ['execDates']}\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchOrders())\n        }\n    }\n}\n\nexport const Orders = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport FormEntry from \"../components/FormEntry\";\nimport * as OrderEntity from \"../entities/Order\";\nimport Position from \"../entities/Position\";\nimport Loading from \"../components/Loading\";\n\nexport interface OrderProps {\n    order: OrderEntity.default,\n    loading: boolean,\n    loadOrders: Function,\n}\n\nexport default class _Order extends Component<OrderProps> {\n    constructor(props: OrderProps) {\n        super(props)\n\n        if (!this.props.order && !this.props.loading) {\n            this.props.loadOrders()\n        }\n    }\n\n    private renderPositions() {\n        let positionsRendered = []\n        for (let position of (this.props.order.positions as Position[])) {\n            positionsRendered.push(\n                <Row className=\"position\">\n                    <Column className=\"col-1\">\n                        {position.pos}\n                    </Column>\n                    <Column>\n                        <div dangerouslySetInnerHTML={{ __html: position.text || '' }}></div>\n                    </Column>\n                    {(position.positionTotal) ? <Column className=\"col-2\">CHF {position.positionTotal}</Column> : ''}\n                </Row>\n            )\n        }\n\n        return positionsRendered;\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.order) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        if (this.props.order.execDates instanceof Date) {\n            this.props.order.execDates = [this.props.order.execDates]\n        }\n\n        return (\n            <Page title={this.props.order.title}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <div className=\"container-fluid\">\n                                <FormEntry id=\"title\" title=\"Titel\" >{this.props.order.title}</FormEntry>\n                                <FormEntry id=\"customer\" title=\"Kunde\">{`${this.props.order.contact.firstname} ${this.props.order.contact.lastname}`}</FormEntry>\n                                <FormEntry id=\"documentNr\" title=\"Auftragsnummer\" >{this.props.order.documentNr}</FormEntry>\n                                <FormEntry id=\"deliveryAddress\" title=\"Lieferadresse\">{this.props.order.deliveryAddress}</FormEntry>\n                                <FormEntry id=\"executionDates\" title=\"Auftragsdaten\">\n                                    {(this.props.order.execDates) ? this.props.order.execDates.map((date: Date) => {\n                                        return <span className=\"badge badge-secondary\">{date.toLocaleDateString()}</span>\n                                    }) : ''}\n                                </FormEntry>\n                            </div>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            <a target=\"_blank\" href={`https://office.bexio.com/index.php/kb_order/show/id/${this.props.order.bexioId}`} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column className=\"col\">\n                        <Panel title=\"Positionen\">\n                            <div className=\"container-fluid\">\n                                {this.renderPositions()}\n                                <Row className=\"position\">\n                                    <Column className=\"col-1\">\n                                    </Column>\n                                    <Column>\n                                        <strong>Total</strong>\n                                    </Column>\n                                    <Column className=\"col-2\">\n                                        CHF {this.props.order.total}\n                                    </Column>\n                                </Row>\n                            </div>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        order: state.data.orders.byId[props.match.params.id],\n        loading: state.data.orders.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        loadOrders: () => {\n            dispatch(Data.fetchOrders())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const Order = connect(mapStateToProps, mapDispatchToProps)(_Order)","import { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataList } from \"../components/DataList\";\n\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.billingReports,\n        title: 'Verrechnungsrapporte',\n        viewLocation: '/billing-report/',\n        tableColumns: [\n            { text: 'Datum', keys: ['date'], sortable: true, format: 'toLocaleDateString' },\n            { text: 'Auftrag Nr', keys: { 'order': ['documentNr'] }, sortable: true, searchable: true },\n            { text: 'Auftrag Titel', keys: { 'order': ['title'] }, sortable: true, searchable: true },\n            { text: 'Ersteller', keys: { 'creator': ['displayName'] }, sortable: true, searchable: true },\n            { text: 'Status', keys: ['state'], sortable: true, searchable: true }\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchBillingReports())\n        }\n    }\n}\n\n//@ts-ignore\nexport const BillingReports = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from 'react'\nimport { Modal as BootstrapModal, Button } from 'react-bootstrap'\n\nexport interface ModalProps {\n    show: boolean,\n    onHide?: () => void\n    header: JSX.Element,\n    body: JSX.Element,\n    footer: JSX.Element\n}\n\nexport default class Modal extends Component<ModalProps> {\n    constructor(props: ModalProps) {\n        super(props)\n\n        this.handleClose = this.handleClose.bind(this)\n    }\n\n    private handleClose() {\n        if (this.props.onHide) {\n            this.props.onHide()\n        }\n    }\n\n    public render() {\n        return (\n            <BootstrapModal show={this.props.show} onHide={this.handleClose} dialogClassName=\"modal-lg\">\n                <BootstrapModal.Header closeButton>\n                    {this.props.header}\n                </BootstrapModal.Header>\n                <BootstrapModal.Body>\n                    {this.props.body}\n                </BootstrapModal.Body>\n                <BootstrapModal.Footer>\n                    {this.props.footer}\n                </BootstrapModal.Footer>\n            </BootstrapModal>\n        )\n    }\n}","import { State } from \"../reducers/IndexReducer\"\nimport { connect } from \"react-redux\"\nimport { Data } from \"../actions/DataActions\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { DataList, DataListProps } from \"../components/DataList\"\nimport React, { Component } from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport Compensation from \"../entities/Compensation\"\nimport { RouteComponentProps } from \"react-router-dom\"\nimport Modal from \"../components/Modal\"\nimport { Button, ButtonGroup } from \"react-bootstrap\"\n\ninterface CompensationsProps extends DataListProps<Compensation> {\n    delete: (id: number) => void\n}\n\nexport class _Compensations extends Component<CompensationsProps & RouteComponentProps, { modalShow: boolean, toDeleteCompensation?: Compensation }> {\n    constructor(props: CompensationsProps & RouteComponentProps) {\n        super(props)\n\n        this.deleteCompensation = this.deleteCompensation.bind(this)\n        this.deleteCompensationConfirmed = this.deleteCompensationConfirmed.bind(this)\n        this.showModal = this.showModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n\n        this.state = { modalShow: false }\n    }\n\n    private deleteCompensation(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n            if (id) {\n                this.setState({\n                    toDeleteCompensation: this.props.data.byId[id],\n                    modalShow: true\n                })\n            }\n        }\n    }\n\n    private deleteCompensationConfirmed() {\n        if (this.state.toDeleteCompensation) {\n            this.props.delete(this.state.toDeleteCompensation.id)\n            this.setState({\n                toDeleteCompensation: undefined,\n                modalShow: false\n            })\n        }\n    }\n\n    private showModal() {\n        this.setState({\n            modalShow: true\n        })\n    }\n\n    private hideModal() {\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private renderModal() {\n        if (this.state.toDeleteCompensation) {\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>{(this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname + ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString()}</h3>}\n                    body={\n                        <span>\n                            {\n                                'Willst du die Entschädigung von ' +\n                                (this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname +\n                                ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString() + ' mit einem Betrag von CHF' +\n                                (this.state.toDeleteCompensation as Compensation).amount + ' wirklich löschen?'\n                            }\n                        </span>\n                    }\n                    footer={\n                        <ButtonGroup>\n                            <Button variant=\"danger\" onClick={this.deleteCompensationConfirmed}>Löschen</Button>\n                            <Button variant=\"secondary\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>\n                    }\n\n                />\n            )\n        }\n\n        return null\n    }\n\n    public render() {\n        return (\n            <DataList<Compensation>\n                title='Entschädigungen'\n                viewLocation='/compensation/'\n                rowActions={[\n                    <button className=\"btn btn-danger delete\" onMouseUp={this.deleteCompensation}><FontAwesomeIcon icon=\"trash\" /></button>\n                ]}\n                tableColumns={[\n                    { text: 'Mitglied', keys: { 'member': ['firstname', 'lastname'] }, sortable: true, searchable: true },\n                    { text: 'Datum', keys: ['date'], sortable: true, format: 'toLocaleDateString' },\n                    { text: 'Betrag', keys: ['amount'], sortable: true, prefix: 'CHF ', format: 'toFixed(2)' },\n                    { text: 'Beschreibung', keys: ['description'], sortable: false, searchable: true },\n                    { text: 'Ersteller', keys: { 'creator': ['displayName'] }, sortable: true },\n                    { text: 'Genehmigt', keys: ['approved'], sortable: true },\n                    { text: 'Ausbezahlt', keys: ['paied'], sortable: true }\n                ]}\n                data={this.props.data}\n                fetchData={this.props.fetchData}\n                history={this.props.history}\n            >\n                {this.renderModal()}\n            </DataList>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.compensationEntries,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchCompensationEntries())\n        },\n        delete: (id: number) => {\n            dispatch(Data.deleteCompensationEntry(id))\n        }\n    }\n}\n\n//@ts-ignore\nexport const Compensations = connect(mapStateToProps, mapDispatchToProps)(_Compensations)","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { State } from '../reducers/IndexReducer';\nimport { History, Location } from \"history\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { SingleDataInterface } from \"../reducers/DataReducer\";\nimport Loading from \"../components/Loading\";\nimport { UI } from \"../actions/UIActions\";\nimport Config from \"../Config\";\nimport User from \"../entities/User\";\n\nexport interface LoginProps {\n    user: SingleDataInterface<User>,\n    history: History,\n    location: Location,\n    fetchUser: Function,\n    showError: (message?: string) => void,\n    showSuccess: (message?: string) => void\n}\n\nexport class _Login extends Component<LoginProps, { loaded: boolean }> {\n    private mounted = false\n\n    constructor(props: LoginProps) {\n        super(props)\n        this.state = {\n            loaded: false\n        }\n    }\n\n    public async componentDidMount() {\n        this.mounted = true\n        await this.props.fetchUser()\n\n        if (this.mounted) {\n            this.setState({\n                loaded: true\n            })\n        }\n    }\n\n    public async componentWillUnmount() {\n        this.mounted = false\n    }\n\n    public render() {\n        if (this.props.user.data) {\n            this.props.showSuccess('Willkommen zurück')\n\n            if (this.props.location.state && this.props.location.state.prevLocation) {\n                this.props.history.push(this.props.location.state.prevLocation)\n            } else {\n                this.props.history.push('/dashboard')\n            }\n            return null\n        } else if (this.props.user.loading || !this.state.loaded) {\n            return (<Loading fullscreen={true} />)\n        } else {\n            if (this.props.location.state && !this.props.location.state.errorShown) {\n                this.props.showError('Sorry.... zuerst einloggen!')\n                this.props.history.replace(this.props.location.pathname, Object.assign({}, this.props.location.state, { errorShown: true }))\n            }\n\n            return (\n                <div id=\"login\">\n                    <h2>Login</h2>\n                    < div className=\"form-group\" >\n                        <a className=\"btn btn-secondary btn-block\" href={Config.apiEndpoint + \"/api/auth/azure\"}>\n                            <FontAwesomeIcon icon={['fab', 'microsoft']} className=\"icon\"></FontAwesomeIcon>\n                            VK-Login\n                        </a>\n                    </div >\n                </div >\n            )\n        }\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchUser: () => {\n            return dispatch(Data.fetchUser())\n        },\n        showError: (message = \"Ooppss...! Versuche es später erneut\") => {\n            dispatch(UI.showError(message))\n        },\n        showSuccess: (message = 'Yeeppiii') => {\n            dispatch(UI.showSuccess(message))\n        }\n    }\n}\n\nexport const Login = connect(mapStateToProps, mapDispatchToProps)(_Login)","import { connect } from \"react-redux\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { UI } from \"../actions/UIActions\";\n\n\nimport { DataList } from '../components/DataList'\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.users,\n        viewLocation: '/user/',\n        title: 'Benutzer',\n        tableColumns: [\n            { text: 'Name', keys: ['displayName'], sortable: true, searchable: true },\n            { text: 'Rechte', keys: ['roles'], sortable: true, searchable: true }\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchUsers())\n        }\n    }\n}\n\nexport const Users = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from 'react'\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { connect } from 'react-redux'\nimport { Data } from '../actions/DataActions';\nimport { Page } from '../components/Page';\nimport Loading from '../components/Loading';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport FormEntry from '../components/FormEntry';\nimport { Link } from 'react-router-dom';\nimport Table from '../components/Table';\nimport * as UserEntity from '../entities/User';\nimport Contact from '../entities/Contact';\n\nexport interface UserProps {\n    user: UserEntity.default,\n    loading: boolean,\n    fetchUsers: Function,\n}\n\nexport class _User extends Component<UserProps> {\n    constructor(props: UserProps) {\n        super(props)\n        this.props.fetchUsers()\n    }\n\n    public renderBexioPart() {\n        if (!this.props.user.bexioContact) {\n            return (<span>Kein Link gefunden....</span>)\n        }\n\n        let contact = this.props.user.bexioContact as Contact\n        return (\n            <div>\n                <FormEntry id=\"bexioId\" title=\"ID\">{contact.bexioId}</FormEntry>\n                <FormEntry id=\"firstname\" title=\"Vorname\">{contact.firstname}</FormEntry>\n                <FormEntry id=\"lastname\" title=\"Nachname\">{contact.lastname}</FormEntry>\n                <Link to={\"/contact/\" + contact.id} className=\"btn btn-block btn-outline-primary\">Kontakt öffnen</Link>\n                <a target=\"_blank\" href={\"https://office.bexio.com/index.php/kontakt/show/id/\" + contact.bexioId} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>\n            </div>\n        )\n    }\n\n    public renderRolePart() {\n        let roles: Array<{ role: string, id: string }> = []\n\n        for (let i in this.props.user.roles) {\n            roles.push({ role: this.props.user.roles[i], id: i })\n        }\n\n        return (\n            <Table<{ role: string, id: string }>\n                columns={[\n                    { text: 'Role', keys: ['role'] }\n                ]}\n                data={roles}\n            />\n        )\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.user) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        return (\n            <Page title={this.props.user.displayName}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Allgemeine Informationen\">\n                            <FormEntry id=\"displayName\" title=\"Name\">{this.props.user.displayName}</FormEntry>\n                        </Panel>\n                        <Panel title=\"Rechte\">\n                            {this.renderRolePart()}\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Bexio Informationen\">\n                            {this.renderBexioPart()}\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    if (props.location.pathname === '/me') {\n        return {\n            user: state.data.user.data,\n            loading: state.data.user.loading\n        }\n    }\n\n    return {\n        user: state.data.users.byId[props.match.params.id],\n        loading: state.data.users.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    if (props.location.pathname === '/me') {\n        return {\n            fetchUsers: () => {\n                dispatch(Data.fetchUser())\n            }\n        }\n    }\n\n    return {\n        fetchUsers: () => {\n            dispatch(Data.fetchUsers())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const User = connect(mapStateToProps, mapDispatchToProps)(_User)","import React, { Component } from \"react\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport Select from 'react-select'\nimport { DataInterface } from \"../reducers/DataReducer\";\nimport { ValueType } from \"react-select/lib/types\";\nimport { connect } from 'react-redux';\nimport Order from \"../entities/Order\";\n\ninterface OrderSelectProps {\n    defaultValue?: Array<Order>,\n    isMulti?: boolean\n    onChange: Function,\n    orders: DataInterface<Order>,\n    loading: boolean,\n    ref?: Function,\n    fetchOrders: Function\n}\n\nexport class _OrderSelect extends Component<OrderSelectProps, { value?: Array<{ label: string, value: string }> }> {\n    constructor(props: OrderSelectProps) {\n        super(props)\n\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let order of this.props.defaultValue) {\n                valueProps.push({\n                    value: order.id.toString(),\n                    label: order.title\n                })\n            }\n\n            this.state = {\n                value: valueProps\n            }\n        } else {\n            this.state = {}\n        }\n    }\n\n    public componentDidUpdate() {\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let order of this.props.defaultValue) {\n                if (order.hasOwnProperty('id')) {\n                    valueProps.push({\n                        value: order.id.toString(),\n                        label: order.title\n                    })\n                }\n            }\n\n            if (JSON.stringify(this.state.value) !== JSON.stringify(valueProps)) {\n                this.setState({\n                    value: valueProps\n                })\n            }\n        }\n    }\n\n    public componentWillMount() {\n        if (this.props.orders.ids.length < 1) {\n            this.props.fetchOrders()\n        }\n    }\n\n    private prepareOptions() {\n        let options = []\n        if (Object.keys(this.props.orders.byId).length > 0) {\n            for (let i in this.props.orders.byId) {\n                let order = this.props.orders.byId[i]\n                options.push({\n                    label: order.title,\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onChange(opt: ValueType<{ label: string, value: string }>) {\n        let ops: Array<{ label: string, value: string }> = [opt as { label: string, value: string }]\n        if (this.props.isMulti) {\n            ops = opt as Array<{ label: string, value: string }>\n        }\n\n        this.setState({\n            value: ops\n        })\n\n        let orders = []\n        for (let o of ops) {\n            orders.push(this.props.orders.byId[o.value])\n        }\n        if (this.props.onChange) {\n            if (this.props.isMulti) {\n                this.props.onChange(orders)\n            } else {\n                this.props.onChange(orders[0])\n            }\n        }\n    }\n\n    private prepareValue() {\n        if (this.props.isMulti) {\n            return this.state.value || []\n        }\n\n        return (this.state.value || [])[0]\n    }\n\n    public render() {\n        if (!this.props.loading) {\n            return (<Select\n                ref={(select: any) => { if (this.props.ref) this.props.ref(select) }}\n                isClearable={true}\n                options={this.prepareOptions()}\n                backspaceRemovesValue={true}\n                hideSelectedOptions={true}\n                openMenuOnFocus={true}\n                isMulti={this.props.isMulti || false}\n                onChange={this.onChange.bind(this)}\n                value={this.prepareValue()}\n            />)\n        }\n\n        return null\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        orders: state.data.orders,\n        loading: state.data.orders.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchOrders: () => {\n            dispatch(Data.fetchOrders())\n        }\n    }\n}\n\n//@ts-ignore\nexport const OrderSelect = connect(mapStateToProps, mapDispatchToProps)(_OrderSelect)","import React, { Component } from 'react'\nimport { Page } from '../components/Page';\nimport Panel from '../components/Panel';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport FormEntry from '../components/FormEntry';\nimport { connect } from 'react-redux';\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { Data } from '../actions/DataActions';\nimport { AnyAction } from 'redux';\nimport Loading from '../components/Loading';\nimport Table from '../components/Table';\nimport StringIndexed from '../interfaces/StringIndexed';\nimport { History } from 'history'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { DataInterface } from '../reducers/DataReducer';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport * as BillingReportEntity from '../entities/BillingReport';\nimport OrderCompensation from '../entities/OrderCompensation';\nimport Order from '../entities/Order';\nimport User from '../entities/User';\nimport { AuthRoles } from '../interfaces/AuthRoles';\nimport Action from '../components/Action';\nimport Contact from '../entities/Contact';\nimport { OrderSelect } from '../components/OrderSelect';\nimport { MemberSelect } from '../components/MemberSelect';\nimport { EditBillingReport, BillingReportCompensationEntry } from '../interfaces/BillingReport';\nimport Compensation from '../entities/Compensation';\nimport Modal from '../components/Modal';\nimport { ButtonGroup } from 'react-bootstrap';\nimport AddBillingReportStep2 from './AddBillingReportSteps/AddBillingReportStep2';\nimport Button from '../components/Button';\n\nexport interface BillingReportProps extends RouteComponentProps<{ id: string }> {\n    billingReports: DataInterface<BillingReportEntity.default>,\n    orders: DataInterface<Order>,\n    loading: boolean,\n    fetchBillingReports: Function,\n    fetchOrders: Function,\n    history: History,\n    user: User,\n    approve: (id: string) => Promise<void>,\n    decline: (id: string) => Promise<void>,\n    edit: (data: EditBillingReport) => Promise<void>,\n    deleteCompensation: (id: number) => Promise<void>,\n    addCompensationEntries: (data: { billingReportId: number, entries: Array<BillingReportCompensationEntry> }) => Promise<void>\n}\n\ninterface BillingReportState {\n    informationEdit: boolean\n    order: Order\n    date: Date\n    els: Array<Contact>\n    drivers: Array<Contact>\n    food: boolean\n    remarks: string,\n    toDeleteCompensation?: Compensation,\n    modalShow: boolean\n}\n\nexport class _BillingReport extends Component<BillingReportProps, BillingReportState> {\n    private billingReport: BillingReportEntity.default;\n\n    constructor(props: BillingReportProps) {\n        super(props)\n\n        this.approve = this.approve.bind(this)\n        this.decline = this.decline.bind(this)\n        this.elementView = this.elementView.bind(this)\n\n        this.billingReport = this.props.billingReports.byId[parseInt(this.props.match.params.id)]\n        this.onInformationEdit = this.onInformationEdit.bind(this)\n        this.onAbort = this.onAbort.bind(this)\n        this.onInformationSave = this.onInformationSave.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n\n        this.getCompensationActions = this.getCompensationActions.bind(this)\n        this.deleteCompensation = this.deleteCompensation.bind(this)\n        this.deleteCompensationConfirmed = this.deleteCompensationConfirmed.bind(this)\n        this.addCompensations = this.addCompensations.bind(this)\n\n        this.showModal = this.showModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n\n        if (this.billingReport) {\n            this.state = {\n                informationEdit: false,\n                order: (this.billingReport.order as Order),\n                date: this.billingReport.date,\n                els: this.billingReport.els,\n                drivers: this.billingReport.drivers,\n                food: this.billingReport.food,\n                remarks: this.billingReport.remarks,\n                modalShow: false\n            }\n        }\n    }\n\n    public componentDidUpdate(prevProps: BillingReportProps) {\n        if (this.props.match.params.id !== prevProps.match.params.id) {\n            this.billingReport = this.props.billingReports.byId[parseInt(this.props.match.params.id)]\n\n            if (this.billingReport) {\n                this.setState({\n                    order: (this.billingReport.order as Order),\n                    date: this.billingReport.date,\n                    els: this.billingReport.els,\n                    drivers: this.billingReport.drivers,\n                    food: this.billingReport.food,\n                    remarks: this.billingReport.remarks\n                })\n            }\n        }\n    }\n\n    public componentWillMount() {\n        this.props.fetchBillingReports()\n        this.props.fetchOrders()\n    }\n\n    public approve(): Promise<void> {\n        return this.props.approve(this.billingReport.id.toString())\n    }\n\n    public decline(): Promise<void> {\n        return this.props.decline(this.billingReport.id.toString())\n    }\n\n    public async onInformationEdit(event: React.MouseEvent<HTMLElement>) {\n        this.setState({\n            informationEdit: true\n        })\n    }\n\n    public async onAbort(event: React.MouseEvent<HTMLElement>) {\n        this.setState({\n            informationEdit: false,\n            order: (this.billingReport.order as Order),\n            date: this.billingReport.date,\n            els: this.billingReport.els,\n            drivers: this.billingReport.drivers,\n            food: this.billingReport.food,\n            remarks: this.billingReport.remarks\n        })\n    }\n\n    public async onInformationSave(event: React.MouseEvent<HTMLElement>) {\n        await this.props.edit({\n            id: this.billingReport.id.toString(),\n            date: this.state.date,\n            drivers: this.state.drivers,\n            els: this.state.els,\n            food: this.state.food,\n            orderId: this.state.order.id,\n            remarks: this.state.remarks\n        })\n\n        this.setState({\n            informationEdit: false\n        })\n    }\n\n    private onInputChange(name: string, value: any) {\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    public onSelectChange(state: string): (opts: Array<Contact> | Order) => void {\n        return (opts: Array<Contact> | Order) => {\n            //@ts-ignore\n            this.setState({ [state]: opts })\n        }\n    }\n\n    public async elementView(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/compensation/' + id)\n            } else {\n                this.props.history.push('/compensation/' + id)\n            }\n        }\n    }\n\n    private async deleteCompensation(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n            if (id) {\n                this.setState({\n                    toDeleteCompensation: this.billingReport.compensations.find((compensation: Compensation) => compensation.id === parseInt(id || '')),\n                    modalShow: true\n                })\n            }\n        }\n    }\n\n    private async deleteCompensationConfirmed() {\n        if (this.state.toDeleteCompensation) {\n            await this.props.deleteCompensation(this.state.toDeleteCompensation.id)\n            this.setState({\n                toDeleteCompensation: undefined,\n                modalShow: false\n            })\n        }\n    }\n\n    private async addCompensations(data: StringIndexed<any>) {\n        let compensationEntries: Array<BillingReportCompensationEntry> = []\n        for (let i in data.vks) {\n            compensationEntries.push(data.vks[i])\n        }\n\n        await this.props.addCompensationEntries({\n            billingReportId: this.billingReport.id,\n            entries: compensationEntries\n        })\n\n        this.hideModal()\n    }\n\n    private async showModal() {\n        this.setState({\n            modalShow: true\n        })\n    }\n\n    private async hideModal(): Promise<boolean> {\n        this.setState({\n            modalShow: false\n        })\n\n        return true\n    }\n\n    public prepareCompensationsForTable() {\n        let compensations: StringIndexed<OrderCompensation> = {}\n        for (let compensation of (this.billingReport.compensations as Array<OrderCompensation>)) {\n            compensations[compensation.id] = compensation\n        }\n        return compensations\n    }\n\n    public renderActions() {\n        let actions = []\n\n        if (this.billingReport.state === 'pending' && (\n            this.props.user.roles.includes(AuthRoles.BILLINGREPORTS_APPROVE) ||\n            this.props.user.roles.includes(AuthRoles.ADMIN))) {\n            actions.push(\n                <Button id=\"approve\" block={true} variant=\"outline-success\" onClick={this.approve}>Genehmigen</Button>\n            )\n            //TODO: Disabled because of workflow missing for declined reports\n            /* actions.push(\n                <button id=\"decline\" block={true} variant=\"outline-danger\" onClick={this.decline}>Ablehnen</button>\n            ) */\n        }\n\n        actions.push(<Link to={`/order/${this.billingReport.order.id}`} className=\"btn btn-block btn-outline-primary\">Auftrag öffnen</Link>)\n\n        return actions\n    }\n\n    public renderOrder() {\n        if (this.state.informationEdit) {\n            return <OrderSelect defaultValue={[this.state.order]} onChange={this.onSelectChange('order')} />\n        }\n\n        return (this.state.order as Order).title\n    }\n\n    public renderEls() {\n        if (this.state.informationEdit) {\n            return <MemberSelect defaultValue={this.state.els} isMulti={true} onChange={this.onSelectChange('els')} />\n        }\n\n        return this.state.els.map(el => el.firstname + ' ' + el.lastname).join(',')\n    }\n\n    public renderDrivers() {\n        if (this.state.informationEdit) {\n            return <MemberSelect defaultValue={this.state.drivers} isMulti={true} onChange={this.onSelectChange('drivers')} />\n        }\n\n        return this.state.drivers.map(driver => driver.firstname + ' ' + driver.lastname).join(',')\n    }\n\n    public renderInformations() {\n        let statusBadgeClass = 'badge-success'\n        if (this.billingReport.state === 'pending') statusBadgeClass = 'badge-warning'\n        if (this.billingReport.state === 'declined') statusBadgeClass = 'badge-danger'\n\n        let panelActions = []\n        if (this.props.user.roles.includes(AuthRoles.ADMIN) ||\n            this.props.user.roles.includes(AuthRoles.BILLINGREPORTS_EDIT) ||\n            (this.billingReport.state === 'pending' && this.billingReport.creator.id === this.props.user.id)) {\n            if (!this.state.informationEdit) {\n                panelActions.push(<Action icon=\"pencil-alt\" key=\"edit\" onClick={this.onInformationEdit} />)\n            } else {\n                panelActions.push(<Action icon=\"save\" key=\"save\" onClick={this.onInformationSave} />)\n                panelActions.push(<Action icon=\"times\" key=\"edit\" onClick={this.onAbort} />)\n            }\n        }\n\n        return (\n            <Panel title=\"Informationen\" actions={panelActions} className={(this.state.informationEdit) ? 'editable' : ''}>\n                <FormEntry id=\"orderTitle\" title=\"Auftrag\">\n                    {this.renderOrder()}\n                </FormEntry>\n                <FormEntry id=\"date\" title=\"Datum\" value={this.state.date.toISOString().split('T')[0]} type='date' editable={this.state.informationEdit} onChange={this.onInputChange}></FormEntry>\n                <FormEntry id=\"creator\" title=\"Ersteller\">{(this.billingReport.creator as User).displayName}</FormEntry>\n                <FormEntry id=\"state\" title=\"Status\"><div className={\"badge \" + statusBadgeClass}>{this.billingReport.state}</div></FormEntry>\n                <FormEntry id=\"els\" title=\"ELs\">\n                    {this.renderEls()}\n                </FormEntry>\n                <FormEntry id=\"drivers\" title=\"Fahrer\">\n                    {this.renderDrivers()}\n                </FormEntry>\n                <FormEntry id=\"food\" title=\"Verpflegung\" value={this.state.food} type='checkbox' editable={this.state.informationEdit} onChange={this.onInputChange}></FormEntry>\n                <FormEntry id=\"remarks\" title=\"Bemerkungen\" value={this.state.remarks} type='textarea' editable={this.state.informationEdit} onChange={this.onInputChange}></FormEntry>\n            </Panel>\n        )\n    }\n\n    public renderCompensationDeletionModal() {\n        if (this.state.toDeleteCompensation) {\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>{(this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname + ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString()}</h3>}\n                    body={\n                        <span>\n                            {\n                                'Willst du die Entschädigung von ' +\n                                (this.state.toDeleteCompensation as Compensation).member.firstname + ' ' + (this.state.toDeleteCompensation as Compensation).member.lastname +\n                                ' vom  ' + (this.state.toDeleteCompensation as Compensation).date.toLocaleDateString() + ' mit einem Betrag von CHF' +\n                                (this.state.toDeleteCompensation as Compensation).amount + ' wirklich löschen?'\n                            }\n                        </span>\n                    }\n                    footer={\n                        <ButtonGroup>\n                            <Button variant=\"danger\" onClick={this.deleteCompensationConfirmed}>Löschen</Button>\n                            <Button variant=\"secondary\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>\n                    }\n\n                />\n            )\n        }\n\n        return null\n    }\n\n    public renderCompensationsAddModal() {\n        if (!this.state.toDeleteCompensation) {\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>Entschädigungen hinzufügen</h3>}\n                    body={\n                        <AddBillingReportStep2 onNext={this.addCompensations} onPrevious={this.hideModal} />\n                    }\n                    footer={<div></div>}\n\n                />\n            )\n        }\n        return null\n    }\n\n    public getCompensationActions() {\n        let actions = [<Button variant=\"success\" className=\"view\" onClick={this.elementView}><FontAwesomeIcon icon=\"eye\" /></Button>]\n        if (this.props.user.roles.includes(AuthRoles.ADMIN) ||\n            this.props.user.roles.includes(AuthRoles.BILLINGREPORTS_EDIT) ||\n            (this.billingReport.state === 'pending' && this.billingReport.creator.id === this.props.user.id)) {\n            actions.push(<Button variant=\"danger\" className=\"delete\" onClick={this.deleteCompensation}><FontAwesomeIcon icon=\"trash\" /></Button>)\n        }\n        return actions\n    }\n\n    public render() {\n        if (this.props.loading || !this.billingReport || !this.state) {\n            return (<Page title=\"Verrechnungsrapport\"><Loading /></Page>)\n        }\n\n        return (\n            <Page title=\"Verrechnungsrapport\">\n                {this.renderCompensationDeletionModal()}\n                {this.renderCompensationsAddModal()}\n                <Row>\n                    <Column className=\"col-md-6\">\n                        {this.renderInformations()}\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            {this.renderActions()}\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column>\n                        <Panel title=\"VKs\" actions={[<Action icon=\"plus\" onClick={this.showModal} />]}>\n                            <Table<OrderCompensation>\n                                columns={[\n                                    { text: 'Name', keys: { 'member': ['firstname', 'lastname'] }, sortable: true },\n                                    { text: 'Von', keys: ['from'], format: 'toLocaleTimeString', sortable: true },\n                                    { text: 'Bis', keys: ['until'], format: 'toLocaleTimeString', sortable: true },\n                                    { text: 'Verrechnen', keys: ['charge'], sortable: true },\n                                    { text: 'Betrag', keys: ['amount'], prefix: 'CHF ', sortable: true, format: 'toFixed(2)' },\n                                    { text: 'Ausbezahlt', keys: ['paied'], sortable: true },\n                                    {\n                                        text: 'Actions', keys: ['_id'], content: <ButtonGroup>{this.getCompensationActions()}</ButtonGroup>\n                                    }\n                                ]}\n                                defaultSort={{ keys: ['from'], direction: 'asc' }}\n                                data={this.prepareCompensationsForTable()}\n                            ></Table>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        billingReports: state.data.billingReports,\n        user: state.data.user.data,\n        orders: state.data.orders,\n        loading: state.data.billingReports.loading || state.data.user.loading || state.data.orders.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchBillingReports: () => {\n            return dispatch(Data.fetchBillingReports())\n        },\n        fetchOrders: () => {\n            return dispatch(Data.fetchOrders())\n        },\n        approve: (id: string) => {\n            return dispatch(Data.approveBillingReport(id))\n        },\n        decline: (id: string) => {\n            return dispatch(Data.declineBillingReport(id))\n        },\n        edit: (data: EditBillingReport) => {\n            return dispatch(Data.editBillingReport(data))\n        },\n        deleteCompensation: async (id: number) => {\n            return dispatch(Data.deleteCompensationEntry(id)).then(() => {\n                dispatch(Data.fetchBillingReports())\n            })\n        },\n        addCompensationEntries: (data: { billingReportId: number, entries: Array<BillingReportCompensationEntry> }) => {\n            return dispatch(Data.addCompensationEntriesForBillingReport(data)).then(() => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n}\n\n//@ts-ignore\nexport const BillingReport = connect(mapStateToProps, mapDispatchToProps)(_BillingReport)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { ThunkDispatch } from 'redux-thunk';\nimport { State } from '../reducers/IndexReducer';\nimport { AnyAction } from 'redux';\nimport { Data } from '../actions/DataActions';\nimport { DataInterface } from '../reducers/DataReducer';\nimport Loading from '../components/Loading';\nimport { Page } from '../components/Page';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport Select from 'react-select';\nimport { ValueType } from 'react-select/lib/types';\nimport { CompensationEntry } from '../interfaces/CompensationEntry';\nimport { History } from \"history\";\nimport Contact from '../entities/Contact';\nimport Button from '../components/Button';\n\nexport class _AddCompensation extends Component<{ history: History, members: DataInterface<Contact>, loading: boolean, fetchMembers: Function, save: Function }, { member: string, date: string, description: string, amount?: number }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: { history: History, members: DataInterface<Contact>, loading: boolean, fetchMembers: Function, save: Function }) {\n        super(props)\n\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n\n        this.state = {\n            member: '',\n            date: '',\n            description: ''\n        }\n    }\n\n    public componentDidMount() {\n        this.props.fetchMembers()\n    }\n\n    private validate(): boolean {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            return valid\n        }\n        return false\n    }\n\n    private onSelectChange(opt: ValueType<{ label: string, value: string }>) {\n        if (opt) {\n            this.setState({\n                member: (opt as { label: string, value: string }).value\n            })\n        } else {\n            this.setState({\n                member: ''\n            })\n        }\n    }\n\n    private prepareMembers() {\n        let options = []\n        if (Object.keys(this.props.members.byId).length > 0) {\n            for (let i in this.props.members.byId) {\n                let member = this.props.members.byId[i]\n                options.push({\n                    label: (member.firstname + ' ' + member.lastname),\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private async onSave(event: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n        event.preventDefault()\n        if (this.formEl) {\n            if (this.validate()) {\n                await this.props.save({\n                    member: this.state.member,\n                    date: new Date(this.state.date),\n                    description: this.state.description,\n                    amount: this.state.amount\n                })\n                this.props.history.push('/compensations')\n            }\n        }\n    }\n\n    public render() {\n        if (this.props.loading || this.props.members.ids.length < 1) {\n            return (\n                <Page title=\"Entschädigung hinzufügen\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Entschädigung hinzufügen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form id=\"addCompensation\" ref={(ref: HTMLFormElement) => { this.formEl = ref }}>\n                                <h5>Mitglied</h5>\n                                <Select\n                                    isClearable={true}\n                                    onChange={this.onSelectChange}\n                                    options={this.prepareMembers()}\n                                    backspaceRemovesValue={true}\n                                    hideSelectedOptions={true}\n                                    openMenuOnFocus={true}\n                                />\n                                <br></br>\n\n                                <h5>Datum</h5>\n                                <input name=\"date\" type=\"date\" className=\"form-control\" value={this.state.date} onChange={this.onInputChange} required={true} />\n                                <br></br>\n\n                                <h5>Beschreibung</h5>\n                                <input name=\"description\" type=\"text\" className=\"form-control\" value={this.state.description} onChange={this.onInputChange} required={true} />\n                                <br></br>\n\n                                <h5>Betrag</h5>\n                                <div className=\"input-group mb-2\">\n                                    <div className=\"input-group-prepend\">\n                                        <div className=\"input-group-text\">CHF</div>\n                                    </div>\n                                    <input type=\"number\" step=\"0.05\" className=\"form-control\" name=\"amount\" value={this.state.amount} onChange={this.onInputChange} placeholder=\"0.00\" required={true} />\n                                </div>\n                                <br></br>\n\n                                <Button variant=\"primary\" block={true} onClick={this.onSave}>Speichern</Button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        members: state.data.members,\n        loading: state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        save: (data: CompensationEntry) => {\n            dispatch(Data.addCompensationEntry(data))\n        }\n    }\n}\n\nexport const AddCompensation = connect(mapStateToProps, mapDispatchToProps)(_AddCompensation)","\nimport Contact from \"./Contact\";\nimport Payout from \"./Payout\";\nimport User from \"./User\";\nimport Base from \"./Base\";\nimport OrderCompensation from \"./OrderCompensation\";\nimport CustomCompensation from \"./CustomCompensation\";\n\n\nexport default class Compensation extends Base {\n\n    public member: Contact\n\n\n    public creator: User\n\n\n    public amount: number\n\n\n    public date: Date\n\n\n    public approved: boolean\n\n\n\n    public approvedBy?: User\n\n\n    public paied: boolean\n\n    public bexioBill?: number\n    public transferCompensation?: CustomCompensation\n\n    public payout?: Payout\n\n\n\n    public updatedBy: User\n\n    constructor(member: Contact, creator: User, amount: number, date: Date, approved: boolean = false, paied: boolean = false, payout?: Payout) {\n        super()\n        this.member = member\n        this.creator = creator\n        this.amount = amount\n        this.date = date\n        this.approved = approved\n        this.paied = paied\n        this.payout = payout\n    }\n\n    public static isOrderBased(compensation: Compensation): compensation is OrderCompensation {\n        return (\n            (<OrderCompensation>compensation).billingReport !== undefined &&\n            (<OrderCompensation>compensation).billingReport !== null\n        )\n    }\n\n    public static isCustom(compensation: Compensation): compensation is CustomCompensation {\n        return (\n            (<CustomCompensation>compensation).description !== undefined &&\n            (<CustomCompensation>compensation).description !== null\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { Page } from \"../Page\";\n\nexport class Error404 extends Component {\n    public render() {\n        return (\n            <Page title=\"\">\n                <div id=\"page-404\">\n                    <img src=\"/404.png\" />\n                </div>\n            </Page>\n        )\n    }\n}","import { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { Data } from \"../actions/DataActions\"\nimport * as CompensationEntity from \"../entities/Compensation\"\nimport { RouteComponentProps } from \"react-router\"\nimport * as React from \"react\"\nimport { Page } from \"../components/Page\"\nimport Loading from \"../components/Loading\"\nimport Row from \"../components/Row\"\nimport Column from \"../components/Column\"\nimport Panel from \"../components/Panel\"\nimport FormEntry from \"../components/FormEntry\"\nimport { Link } from \"react-router-dom\"\nimport { Error404 } from \"../components/Errors/404\"\nimport Payout from \"../entities/Payout\"\nimport Button from \"../components/Button\"\n\ninterface CompensationProps extends RouteComponentProps<{ id: string }> {\n    compensation: CompensationEntity.default,\n    compensationIds: Array<number>,\n    loading: boolean,\n    fetchCompensations: () => Promise<AnyAction>,\n    approve: (id: number) => Promise<void>\n}\n\nexport class _Compensation extends Component<CompensationProps> {\n\n    constructor(props: CompensationProps) {\n        super(props)\n\n        this.approve = this.approve.bind(this)\n        this.renderBillingReport = this.renderBillingReport.bind(this)\n        this.renderActions = this.renderActions.bind(this)\n\n        this.props.fetchCompensations()\n    }\n\n    private approve(): Promise<void> {\n        return this.props.approve(this.props.compensation.id)\n    }\n\n    private renderActions() {\n        const actions = [<Link to={\"/contact/\" + this.props.compensation.member.id} className=\"btn btn-block btn-outline-primary\">Kontakt öffnen</Link>]\n\n        if (!this.props.compensation.approved) {\n            actions.push(<Button id=\"approve\" block={true} variant=\"outline-success\" onClick={this.approve}>Genehmigen</Button>)\n        }\n\n        return actions\n    }\n\n    private renderBillingReport() {\n        if (CompensationEntity.default.isOrderBased(this.props.compensation)) {\n            let statusBadgeClass = 'badge-success'\n            if (this.props.compensation.billingReport.state === 'pending') {\n                statusBadgeClass = 'badge-warning'\n            }\n\n            return (\n                <Column className=\"col-md-6\">\n                    <Panel title=\"Verrechnungsrapport\">\n                        <FormEntry id=\"orderNr\" title=\"Auftragsnummer\">{this.props.compensation.billingReport.order.documentNr}</FormEntry>\n                        <FormEntry id=\"orderNr\" title=\"Auftrag\">{this.props.compensation.billingReport.order.title}</FormEntry>\n                        <FormEntry id=\"state\" title=\"Verrechnungsrapportstatus\"><div className={\"badge \" + statusBadgeClass}>{this.props.compensation.billingReport.state}</div></FormEntry>\n                        <FormEntry id=\"from\" title=\"Von\">{this.props.compensation.from.toLocaleTimeString()}</FormEntry>\n                        <FormEntry id=\"until\" title=\"Bis\">{this.props.compensation.until.toLocaleTimeString()}</FormEntry>\n                        <FormEntry id=\"charge\" title=\"Verrechnen\">{(this.props.compensation.charge) ? '✓' : '⨯'}</FormEntry>\n                        <Link to={\"/order/\" + this.props.compensation.billingReport.order.id} className=\"btn btn-outline-primary btn-block\">Auftrag</Link>\n                        <Link to={\"/billing-report/\" + this.props.compensation.billingReport.id} className=\"btn btn-outline-primary btn-block\">Verrechnungsrapport</Link>\n                    </Panel>\n                </Column>\n            )\n        }\n    }\n\n    public render() {\n        if (!this.props.loading && !this.props.compensation && this.props.compensationIds.length > 0) {\n            return <Error404 />\n        }\n\n        if (this.props.loading || !this.props.compensation) {\n            return (<Page title=\"Entschädigung\"><Loading /></Page>)\n        }\n\n        let statusBadgeClass = 'badge-success'\n        if (!this.props.compensation.approved) {\n            statusBadgeClass = 'badge-warning'\n        }\n\n        return (\n            <Page title=\"Entschädigung\">\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <FormEntry id=\"member\" title=\"Mitglied\">{this.props.compensation.member.firstname} {this.props.compensation.member.lastname}</FormEntry>\n                            <FormEntry id=\"date\" title=\"Datum\">{this.props.compensation.date.toLocaleDateString()}</FormEntry>\n                            <FormEntry id=\"amount\" title=\"Betrag\">CHF {this.props.compensation.amount.toFixed(2)}</FormEntry>\n                            {\n                                CompensationEntity.default.isCustom(this.props.compensation) &&\n                                <FormEntry id=\"description\" title=\"Beschreibung\">{this.props.compensation.description}</FormEntry>\n                            }\n                            <FormEntry id=\"state\" title=\"Status\"><div className={\"badge \" + statusBadgeClass}>{(this.props.compensation.approved) ? 'Bewilligt' : 'Ausstehend'}</div></FormEntry>\n                            <FormEntry id=\"creator\" title=\"Ersteller\">{this.props.compensation.creator.displayName}</FormEntry>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            {this.renderActions()}\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    {this.renderBillingReport()}\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Auszahlung\">\n                            <FormEntry id=\"paied\" title=\"Ausbezahlt\">{(this.props.compensation.paied) ? '✓' : '⨯'}</FormEntry>\n                            {(this.props.compensation.payout) ? (<Link to={\"/payout/\" + (this.props.compensation.payout as Payout).id + '/' + this.props.compensation.member.id} className=\"btn btn-outline-primary btn-block\">Auszahlung</Link>) : (<p></p>)}\n                            {(this.props.compensation.bexioBill) ? (<a href={`https://office.bexio.com/index.php/kb_bill/show/id/${this.props.compensation.bexioBill}`} target=\"_blank\" className=\"btn btn-outline-primary btn-block\">Bexio Lieferantenrechnung</a>) : (<p></p>)}\n                            {(this.props.compensation.transferCompensation) ? (<Link to={`/compensation/${this.props.compensation.transferCompensation.id}`} className=\"btn btn-outline-primary btn-block\">Übertrag</Link>) : (<p></p>)}\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: RouteComponentProps<{ id: string }>) => {\n    return {\n        compensation: state.data.compensationEntries.byId[props.match.params.id],\n        compensationIds: state.data.compensationEntries.ids,\n        loading: state.data.compensationEntries.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchCompensations: () => {\n            return dispatch(Data.fetchCompensationEntries())\n        },\n        approve: (id: number) => {\n            return dispatch(Data.approveCompensationEntry(id))\n        },\n    }\n}\n\nexport const Compensation = connect(mapStateToProps, mapDispatchToProps)(_Compensation)","import React, { Component } from \"react\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Page } from \"../components/Page\";\nimport Column from \"../components/Column\";\nimport Row from \"../components/Row\";\nimport Panel from \"../components/Panel\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\nimport Loading from \"../components/Loading\";\nimport { UI } from \"../actions/UIActions\";\n\nexport class _MailingLists extends Component<{ fetchMembers: Function, mailingLists: StringIndexed<Array<string>>, showError: (message: string) => void, showSuccess: (message: string) => void }, { copyData: string }> {\n    constructor(props: { fetchMembers: Function, mailingLists: StringIndexed<Array<string>>, showError: (message: string) => void, showSuccess: (message: string) => void  }) {\n        super(props)\n\n        this.props.fetchMembers()\n\n    }\n\n    private copy(data: string) {\n        (navigator as any).permissions.query({ name: \"clipboard-write\" }).then((result: { state: string }) => {\n            if (result.state == \"granted\" || result.state == \"prompt\") {\n                (navigator as any).clipboard.writeText(data).then(() => {\n                    this.props.showSuccess('Kopiert!')\n                }).catch((err: Error) => {\n                    console.error(err)\n                    this.props.showError('Ooops... Etwas ging schief...')\n                })\n            } else {\n                this.props.showError('Ich darf nichts kopieren....')\n            }\n        }).catch((err: Error) => {\n            console.error(err)\n            this.props.showError('Ooops... Etwas ging schief...')\n        })\n    }\n\n    private addCopy(data: string) {\n            return (\n                <div className=\"input-group-prepend\">\n                    <button className=\"btn btn-outline-secondary\" id=\"btnGroupAddon\" onClick={this.copy.bind(this, data)}>\n                        <FontAwesomeIcon icon=\"clipboard\" />\n                    </button>\n                </div>\n            )\n    }\n\n    public render() {\n        if (Object.keys(this.props.mailingLists).length < 1) {\n            return (<Page title=\"Verteiler\"><Loading /></Page>)\n        }\n        console.log(this.props.mailingLists)\n        return (\n            <Page title=\"Verteiler\">\n                <Row>\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Mitglieder\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.all.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.all.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"VKs (ohne Fahrer und Condor)\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.vks.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.vks.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Kader\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.squad.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.squad.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Fahrer\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.drivers.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.drivers.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Vorstand\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.vst.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.vst.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n\n                    <Column className=\"col-md-4\">\n                        <Panel title=\"Condor\">\n                            <div className=\"input-group\">\n                                <input className=\"form-control\" readOnly value={this.props.mailingLists.con.join(';')}></input>\n                                {this.addCopy(this.props.mailingLists.con.join(';'))}\n                            </div>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = function (state: State) {\n    return {\n        mailingLists: state.data.mailingLists\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        showError: (message: string) => {\n            dispatch(UI.showError(message))\n        },\n        showSuccess: (message: string) => {\n            dispatch(UI.showSuccess(message))\n        }\n    }\n}\n\nexport const MailingLists = connect(mapStateToProps, mapDispatchToProps)(_MailingLists)","import { State } from \"../reducers/IndexReducer\";\nimport { connect } from \"react-redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { DataList } from \"../components/DataList\";\nimport Action from \"../components/Action\";\nimport React from \"react\";\n\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.collectionPoints,\n        title: 'Abholpunkte',\n        panelActions: [<Action icon=\"plus\" to=\"/draft/collection-point/add\" />],\n        viewLocation: '/collection-point/',\n        tableColumns: [\n            { text: 'Name', keys: ['name'], sortable: true, searchable: true },\n            { text: 'Abholpunkt', keys: ['address', 'postcode', 'city'], link: true, linkPrefix: 'https://www.google.com/maps/search/', sortable: true, searchable: true },\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchCollectionPoints())\n        }\n    }\n}\n\n\nexport const CollectionPoints = connect(mapStateToProps, mapDispatchToProps)(DataList)","import { Component } from \"react\";\nimport { Page } from \"../components/Page\";\nimport React from \"react\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport { PutCollectionPoints } from \"../interfaces/CollectionPoints\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps } from \"react-router\";\n\nexport class _AddCollectionPoint extends Component<{ save: Function } & RouteComponentProps, PutCollectionPoints> {\n    private formEl: HTMLFormElement\n\n    constructor(props: { save: Function } & RouteComponentProps) {\n        super(props)\n\n        this.state = {\n            name: '',\n            address: '',\n            postcode: '',\n            city: ''\n        }\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.save = this.save.bind(this)\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private save(event: React.MouseEvent<HTMLButtonElement>): boolean {\n        event.preventDefault()\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                this.props.save({\n                    name: this.state.name,\n                    postcode: this.state.postcode,\n                    address: this.state.address,\n                    city: this.state.city\n                })\n                this.props.history.push('/draft/collection-points')\n            }\n            return valid\n        }\n        return false\n    }\n\n    public render() {\n        return (\n            <Page title=\"Abholpunkt Hinzufügen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form ref={(ref: HTMLFormElement) => this.formEl = ref}>\n                                <h5>Name</h5>\n                                <input type=\"text\" name=\"name\" id=\"name\" className='form-control' value={this.state.name} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <h5>Addresse</h5>\n                                <input type=\"text\" name=\"address\" id=\"address\" className='form-control' value={this.state.address} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <h5>PLZ</h5>\n                                <input type=\"text\" minLength={4} maxLength={4} name=\"postcode\" id=\"postcode\" className='form-control' value={this.state.postcode} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <h5>Ort</h5>\n                                <input type=\"text\" name=\"city\" id=\"city\" className='form-control' value={this.state.city} onChange={this.onInputChange} required={true} />\n                                <br></br>\n                                <button className=\"btn btn-primary btn-block\" onClick={this.save}>Speichern</button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapDisptachToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        save: (data: PutCollectionPoints) => {\n            dispatch(Data.addCollectionPoint(data))\n        }\n    }\n}\n\nexport const AddCollectionPoint = connect(() => { }, mapDisptachToProps)(_AddCollectionPoint)","import React from 'react'\nimport { connect } from \"react-redux\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { Data } from \"../actions/DataActions\"\n\n\nimport { DataList } from '../components/DataList'\nimport Action from \"../components/Action\"\n\nconst mapStateToProps = (state: State) => {\n    return {\n        panelActions: [<Action icon=\"plus\" to=\"/payouts/add\" />],\n        data: state.data.payouts,\n        viewLocation: '/payout/',\n        title: 'Auszahlungen',\n        tableColumns: [\n            { text: 'Von', keys: ['from'], sortable: true, format: 'toLocaleDateString' },\n            { text: 'Bis', keys: ['until'], sortable: true, format: 'toLocaleDateString' },\n            { text: 'Total', keys: ['totalWithoutMinus'], sortable: true, prefix: 'CHF ', format: 'toFixed(2)' }\n        ]\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchPayouts())\n        }\n    }\n}\n\nexport const Payouts = connect(mapStateToProps, mapDispatchToProps)(DataList)","import React, { Component } from \"react\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { connect } from \"react-redux\";\nimport { Page } from \"../components/Page\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport * as PayoutEntity from \"../entities/Payout\";\nimport Loading from \"../components/Loading\";\nimport Table from \"../components/Table\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { History } from \"history\";\nimport FormEntry from \"../components/FormEntry\";\nimport Button from \"../components/Button\";\nimport Config from \"../Config\";\nimport Modal from '../components/Modal'\nimport { ButtonGroup } from \"react-bootstrap\";\nimport Contact from \"../entities/Contact\";\nimport { UI } from \"../actions/UIActions\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\n\ninterface PayoutProps {\n    payout: PayoutEntity.default,\n    loading: boolean,\n    history: History,\n    fetchPayouts: () => Promise<void>,\n    sendMails: (payoutId: number, memberIds: Array<number>) => Promise<void>\n    sendToBexio: (payoutId: number, memberIds: Array<number>) => Promise<void>\n    reclaim: (payoutId: number) => Promise<void>,\n    getBankingXml: (payout: PayoutEntity.default, memberIds: Array<number>) => Promise<void>\n    transfer: (payoutId: number, memberIds: Array<number>) => Promise<void>\n    showError: (message: string) => Promise<void>\n}\n\nexport class _Payout extends Component<PayoutProps, { modalShow: boolean, modalType: string, selected: Array<number> }> {\n    constructor(props: PayoutProps) {\n        super(props)\n        this.props.fetchPayouts()\n\n        this.elementView = this.elementView.bind(this)\n        this.showMailModal = this.showMailModal.bind(this)\n        this.showBexioModal = this.showBexioModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n        this.sendMails = this.sendMails.bind(this)\n        this.sendToBexio = this.sendToBexio.bind(this)\n        this.onCheck = this.onCheck.bind(this)\n        this.reclaim = this.reclaim.bind(this)\n        this.transfer = this.transfer.bind(this)\n\n        this.state = {\n            modalShow: false,\n            modalType: '',\n            selected: []\n        }\n    }\n\n    private async hideModal(): Promise<void> {\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private async showMailModal(): Promise<void> {\n        this.setState({\n            modalShow: true,\n            modalType: 'mail'\n        })\n    }\n\n    private async showBexioModal(): Promise<void> {\n        this.setState({\n            modalShow: true,\n            modalType: 'bexio'\n        })\n    }\n\n    private async sendMails(): Promise<void> {\n        await this.props.sendMails(this.props.payout.id, this.state.selected)\n\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private async sendToBexio(): Promise<void> {\n        await this.props.sendToBexio(this.props.payout.id, this.state.selected)\n\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private async reclaim(): Promise<void> {\n        return this.props.reclaim(this.props.payout.id)\n    }\n\n    private async transfer(): Promise<void> {\n        if (this.state.selected.length > 0) return this.props.transfer(this.props.payout.id, this.state.selected)\n        this.props.showError('Bitte zuerst auswahl tätigen!')\n    }\n\n    public async elementView(event: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n        event.preventDefault()\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + this.props.history.location.pathname + `/${id}`)\n            } else {\n                this.props.history.push(this.props.history.location.pathname + `/${id}`)\n            }\n        }\n    }\n\n    public onCheck(event: React.ChangeEvent<HTMLInputElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n\n            if (id) {\n                const newId = parseInt(id)\n                if (this.state.selected.indexOf(newId) > -1) {\n                    this.setState({\n                        selected: [...this.state.selected.filter(el => el !== newId)]\n                    })\n                } else {\n                    this.setState({\n                        selected: [...this.state.selected, parseInt(id)]\n                    })\n                }\n            }\n        }\n    }\n\n    public renderCompensationsAddModal() {\n        if (this.state.modalType === 'mail') {\n            if (this.state.selected.length === 0) {\n                return (\n                    <Modal\n                        show={this.state.modalShow}\n                        header={<h3>E-Mails versenden</h3>}\n                        body={\n                            <span>\n                                Willst du wirklich eine E-Mail <b>an alle</b> mit der Entschädigungsauszahlung senden?\n                        </span>\n                        }\n                        footer={<ButtonGroup>\n                            <Button variant=\"success\" onClick={this.sendMails}>Senden</Button>\n                            <Button variant=\"danger\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>}\n\n                    />\n                )\n            } else {\n                return (\n                    <Modal\n                        show={this.state.modalShow}\n                        header={<h3>E-Mails versenden</h3>}\n                        body={\n                            <span>\n                                Willst du wirklich eine E-Mail <b>an folgende Personen</b> mit der Entschädigungsauszahlung senden?\n                            <ul>\n                                    {this.state.selected.map(el => {\n                                        const member: Contact = this.props.payout.compensationsByMember[el][0].member\n                                        return (<li>{member.lastname} {member.firstname}</li>)\n                                    })}\n                                </ul>\n                            </span>\n                        }\n                        footer={<ButtonGroup>\n                            <Button variant=\"success\" onClick={this.sendMails}>Senden</Button>\n                            <Button variant=\"danger\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>}\n\n                    />\n                )\n            }\n        } else if (this.state.modalType === 'bexio') {\n            if (this.state.selected.length === 0) {\n                return (\n                    <Modal\n                        show={this.state.modalShow}\n                        header={<h3>Bexio Übertrag</h3>}\n                        body={\n                            <span>\n                                Willst du wirklich <b>alle</b> Entschädigungen an Bexio übertragen?\n                        </span>\n                        }\n                        footer={<ButtonGroup>\n                            <Button variant=\"success\" onClick={this.sendToBexio}>Ja</Button>\n                            <Button variant=\"danger\" onClick={this.hideModal}>Nein</Button>\n                        </ButtonGroup>}\n\n                    />\n                )\n            } else {\n                return (\n                    <Modal\n                        show={this.state.modalShow}\n                        header={<h3>Bexio Übertrag</h3>}\n                        body={\n                            <span>\n                                Willst du wirklich <b>folgende Entschädigungen</b> an Bexio übertragen?\n                            <ul>\n                                    {this.state.selected.map(el => {\n                                        const member: Contact = this.props.payout.compensationsByMember[el][0].member\n                                        return (<li>{member.lastname} {member.firstname}</li>)\n                                    })}\n                                </ul>\n                            </span>\n                        }\n                        footer={<ButtonGroup>\n                            <Button variant=\"success\" onClick={this.sendToBexio}>Ja</Button>\n                            <Button variant=\"danger\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>}\n\n                    />\n                )\n            }\n        } else {\n            return null\n        }\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.payout) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        const data: StringIndexed<{ id: number, member: Contact, total: number }> = {}\n        for (let i in this.props.payout.compensationsByMember) {\n            const records = this.props.payout.compensationsByMember[i]\n            let total = 0\n            records.map(el => total = total + parseFloat(el.amount.toFixed(2)))\n            data[records[0].member.id] = {\n                id: records[0].member.id,\n                member: records[0].member,\n                total\n            }\n        }\n\n        return (\n            <Page title={`Auszahlung ${this.props.payout.from.toLocaleDateString()} - ${this.props.payout.until.toLocaleDateString()}`}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <FormEntry id=\"from\" title=\"Von\" value={this.props.payout.from.toLocaleDateString()} type=\"date\"></FormEntry>\n                            <FormEntry id=\"until\" title=\"Bis\" value={this.props.payout.until.toLocaleDateString()} type=\"date\"></FormEntry>\n                            <FormEntry id=\"countCompensations\" title=\"Anzahl Entschädiungen\" value={this.props.payout.compensations.length} editable={false}></FormEntry>\n                            <FormEntry id=\"total\" title=\"Total\" value={`CHF ${this.props.payout.total.toFixed(2)}`} ></FormEntry>\n                            <FormEntry id=\"totalWithoutMinus\" title=\"Total ohne Minus\" value={`CHF ${this.props.payout.totalWithoutMinus.toFixed(2)}`} ></FormEntry>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            <a className=\"btn btn-block btn-outline-primary\" target=\"_blank\" href={`${Config.apiEndpoint}/api/payouts/${this.props.payout.id}/pdf`} >PDF</a>\n                            <Button block={true} variant=\"outline-primary\" onClick={this.showMailModal}>Bestätigung E-Mails verschicken</Button>\n                            <Button block={true} variant=\"outline-primary\" onClick={this.showBexioModal}>An Bexio übertragen</Button>\n                            <Button block={true} variant=\"outline-primary\" onClick={() => { return this.props.getBankingXml(this.props.payout, this.state.selected) }}>Banking XML herunterladen</Button>\n                            <Button block={true} variant=\"outline-primary\" onClick={this.reclaim}>Neu Berechnen</Button>\n                            <Button block={true} variant=\"outline-primary\" onClick={() => this.transfer()}>Übertragen</Button>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column>\n                        <Panel title=\"Entschädiungen\">\n                            <Table<{ id: number, member: Contact, total: number }>\n                                columns={[\n                                    { text: 'Mitglied', keys: { member: ['lastname', 'firstname'] }, sortable: true },\n                                    { text: 'Betrag', keys: ['total'], prefix: 'CHF ', sortable: true, format: 'toFixed(2)' },\n                                    {\n                                        text: 'Actions', keys: ['id'], content:\n                                            <div className=\"btn-group\">\n                                                <Button variant=\"success\" className=\"view\" onClick={this.elementView}><FontAwesomeIcon icon=\"eye\" /></Button>\n                                            </div>\n                                    }\n                                ]}\n                                checkable={true}\n                                onCheck={this.onCheck}\n                                defaultSort={{ keys: ['_member.lastname', 'firstname'], direction: 'asc' }}\n                                data={data}\n                            ></Table>\n                        </Panel>\n                    </Column>\n                </Row>\n                {this.renderCompensationsAddModal()}\n            </Page >\n        )\n    }\n}\n\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        payout: state.data.payouts.byId[props.match.params.id],\n        loading: state.data.payouts.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    const downloader = (blob: Blob, filename: string) => {\n        const url = window.URL.createObjectURL(blob)\n        const link = document.createElement('a')\n        link.href = url\n        link.download = filename\n        document.body.appendChild(link)\n        link.click()\n        document.body.removeChild(link)\n    }\n\n    return {\n        fetchPayouts: () => {\n            dispatch(Data.fetchPayouts())\n        },\n        sendMails: (payoutId: number, memberIds: Array<number>) => {\n            return dispatch(Data.sendPayoutMails(payoutId, memberIds))\n        },\n        sendToBexio: (payoutId: number, memberIds: Array<number>) => {\n            return dispatch(Data.sendToBexio(payoutId, memberIds))\n        },\n        reclaim: (payoutId: number) => {\n            return dispatch(Data.reclaimPayout(payoutId))\n        },\n        getBankingXml: async (payout: PayoutEntity.default, memberIds: Array<number>) => {\n            const data = await Data.sendToApi<string>('post', `${Config.apiEndpoint}/api/payouts/xml`, { payoutId: payout.id, memberIds }, dispatch, undefined, undefined, false)\n            downloader(new Blob([data]), `Soldperiode_${(payout.from > new Date('1970-01-01')) ? payout.from.toLocaleDateString() : ''}_-_${payout.until.toLocaleDateString()}.xml`)\n            return\n        },\n        transfer: (payoutId: number, memberIds: Array<number>) => {\n            return Data.sendToApi('post', `${Config.apiEndpoint}/api/payouts/transfer`, { payoutId, memberIds }, dispatch)\n        },\n        showError: (message: string) => {\n            return dispatch(UI.showError(message))\n        }\n    }\n}\n\n//@ts-ignore\nexport const Payout = connect(mapStateToProps, mapDispatchToProps)(_Payout)","import React, { Component } from 'react'\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { Data } from '../actions/DataActions';\nimport Payout from '../entities/Payout';\nimport { Page } from '../components/Page';\nimport Loading from '../components/Loading';\nimport Compensation from '../entities/Compensation';\nimport Contact from '../entities/Contact';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport { connect } from \"react-redux\";\nimport FormEntry from '../components/FormEntry';\nimport Table from '../components/Table';\nimport Button from '../components/Button';\nimport ReactButton from 'react-bootstrap/Button'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { History } from \"history\";\nimport Config from '../Config';\n\nexport interface PayoutMemberProps {\n    payout: Payout,\n    loading: boolean,\n    member: { compensations: Array<Compensation> } & Contact,\n    history: History,\n    fetchPayouts: () => void,\n    memberPdf: (payoutId: number, member: Contact) => Promise<void>\n}\n\nexport class _PayoutMember extends Component<PayoutMemberProps> {\n    constructor(props: PayoutMemberProps) {\n        super(props)\n        if (!this.props.payout || !this.props.member) {\n            this.props.fetchPayouts()\n        }\n\n        this.compensationView = this.compensationView.bind(this)\n    }\n\n    public compensationView(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentElement.getAttribute('data-key')\n\n            // open a new tap when the middle button is pressed (buttonID 1)\n            if (event.button == 1) {\n                window.open((document.location as Location).origin + '/compensation/' + id)\n            } else {\n                this.props.history.push('/compensation/' + id)\n            }\n        }\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.payout) {\n            return (\n                <Page title=\"Loading...\"><Loading /></Page>\n            )\n        }\n\n        let total = 0\n        this.props.member.compensations.map(el => total = total + parseFloat(el.amount.toFixed(2)))\n\n        return (\n            <Page title={`Auszahlung ${this.props.payout.from.toLocaleDateString()} - ${this.props.payout.until.toLocaleDateString()} / ${this.props.member.firstname} ${this.props.member.lastname}`}>\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <FormEntry id=\"member\" title=\"Mitglied\">{this.props.member.firstname} {this.props.member.lastname}</FormEntry>\n                            <FormEntry id=\"amountCompensations\" title=\"Anzahl Entschädigungen\">{this.props.member.compensations.length}</FormEntry>\n                            <FormEntry id=\"total\" title=\"Total\">CHF {total.toFixed(2)}</FormEntry>\n                            <FormEntry id=\"payout\" title=\"Auszahlung\">{this.props.payout.until.toLocaleDateString()}</FormEntry>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            <Button block={true} variant=\"outline-primary\" onClick={async () => { await this.props.memberPdf(this.props.payout.id, this.props.member); }}>PDF</Button>\n                        </Panel>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column>\n                        <Panel title=\"Entschädigungen\">\n                            <Table<Compensation>\n                                columns={[\n                                    { text: 'Datum', keys: ['date'], sortable: true },\n                                    { text: 'Beschreibung', keys: ['description'], sortable: true },\n                                    { text: 'Betrag', keys: ['amount'], prefix: 'CHF ', sortable: true, format: 'toFixed(2)' },\n                                    { text: 'Genehmigt', keys: ['approved'], sortable: true },\n                                    { text: 'Ausbezahlt', keys: ['paied'], sortable: true },\n                                    {\n                                        text: 'Actions', keys: ['_id'], content: <ReactButton variant=\"success\" className=\"view\" onMouseUp={this.compensationView}><FontAwesomeIcon icon=\"eye\" /></ReactButton>\n                                    }\n                                ]}\n                                defaultSort={{\n                                    keys: ['date'],\n                                    direction: 'desc'\n                                }}\n                                data={this.props.member.compensations}\n                            />\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    const payout = state.data.payouts.byId[props.match.params.id]\n    if (payout) {\n        return {\n            payout,\n            member: Object.assign({}, payout.compensationsByMember[props.match.params.memberId][0].member, { compensations: payout.compensationsByMember[props.match.params.memberId] }),\n            loading: state.data.payouts.loading\n        }\n    } else {\n        return {\n            payout,\n            member: {},\n            loading: false\n        }\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    const downloader = (blob: Blob, filename: string) => {\n        const url = window.URL.createObjectURL(blob)\n        const link = document.createElement('a')\n        link.href = url\n        link.download = filename\n        document.body.appendChild(link)\n        link.click()\n        document.body.removeChild(link)\n        setTimeout(function () {\n            // For Firefox it is necessary to delay revoking the ObjectURL\n            window.URL.revokeObjectURL(url);\n        }, 100);\n    }\n\n    return {\n        fetchPayouts: () => {\n            dispatch(Data.fetchPayouts())\n        },\n        memberPdf: async (payoutId: number, member: Contact) => {\n            const data = await Data.sendToApi<string>('post', `${Config.apiEndpoint}/api/payouts/member/pdf`, { payoutId, memberId: member.id }, dispatch, undefined, { responseType: 'arraybuffer' })\n            downloader(new Blob([data], { type: 'application/pdf' }), `Auszahlung Verkehrskadettenentschädigung ${member.lastname} ${member.firstname}.pdf`)\n            return\n        }\n    }\n}\n\n//@ts-ignore\nexport const PayoutMember = connect(mapStateToProps, mapDispatchToProps)(_PayoutMember)","import React, { Component } from \"react\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { State } from \"../reducers/IndexReducer\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { connect } from \"react-redux\";\nimport { AddPayout as AddPayoutInterface } from \"../interfaces/Payout\";\nimport { Page } from \"../components/Page\";\nimport Row from \"../components/Row\";\nimport Column from \"../components/Column\";\nimport Panel from \"../components/Panel\";\nimport { History } from \"history\";\nimport Button from '../components/Button';\n\nexport class _AddPayout extends Component<{ history: History, save: (data: AddPayoutInterface) => Promise<AnyAction> }, { from?: string, until: string }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: { history: History, save: (data: AddPayoutInterface) => Promise<AnyAction> }) {\n        super(props)\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n\n        this.state = {\n            from: '',\n            until: ''\n        }\n    }\n\n    private validate(): boolean {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            return valid\n        }\n        return false\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private async onSave(event: React.MouseEvent<HTMLButtonElement>) {\n        event.preventDefault()\n        if (this.formEl) {\n            if (this.validate()) {\n                await this.props.save({\n                    from: new Date(this.state.from || '01/01/1970'),\n                    until: new Date(this.state.until)\n                })\n                this.props.history.push('/payouts')\n            }\n        }\n    }\n\n    public render() {\n        return (\n            <Page title=\"Auszahlung hinzufügen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form id=\"addPayout\" ref={(ref: HTMLFormElement) => { this.formEl = ref }}>\n                                <h5>Von (optional)</h5>\n                                <input name=\"from\" type=\"date\" className=\"form-control\" value={this.state.from} onChange={this.onInputChange} />\n                                <br></br>\n\n                                <h5>Bis</h5>\n                                <input name=\"until\" type=\"date\" className=\"form-control\" value={this.state.until} onChange={this.onInputChange} required={true} />\n                                <br></br>\n\n                                <Button variant=\"primary\" block={true} onClick={this.onSave}>Speichern</Button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        save: (data: AddPayoutInterface) => {\n            dispatch(Data.addPayout(data))\n        }\n    }\n}\n\n//@ts-ignore\nexport const AddPayout = connect(() => {}, mapDispatchToProps)(_AddPayout)","import { State } from \"../reducers/IndexReducer\"\nimport { connect } from \"react-redux\"\nimport { Data } from \"../actions/DataActions\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { DataList, DataListProps } from \"../components/DataList\"\nimport React, { Component } from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { RouteComponentProps } from \"react-router-dom\"\nimport Modal from \"../components/Modal\"\nimport { Button, ButtonGroup } from \"react-bootstrap\"\nimport Logoff from \"../entities/Logoff\"\nimport Action from \"../components/Action\"\n\ninterface LogoffsProps extends DataListProps<Logoff> {\n    delete: (id: number) => void\n}\n\nexport class _Logoffs extends Component<LogoffsProps & RouteComponentProps, { modalShow: boolean, toDeleteLogoff?: Logoff }> {\n    constructor(props: LogoffsProps & RouteComponentProps) {\n        super(props)\n\n        this.deleteLogoff = this.deleteLogoff.bind(this)\n        this.deleteLogoffConfirmed = this.deleteLogoffConfirmed.bind(this)\n        this.showModal = this.showModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n\n        this.state = { modalShow: false }\n    }\n\n    private deleteLogoff(event: React.MouseEvent<HTMLButtonElement>) {\n        if (event.currentTarget.parentNode && event.currentTarget.parentNode.parentNode && event.currentTarget.parentNode.parentNode.parentElement) {\n            let id = event.currentTarget.parentNode.parentNode.parentElement.getAttribute('data-key')\n            if (id) {\n                this.setState({\n                    toDeleteLogoff: this.props.data.byId[id],\n                    modalShow: true\n                })\n            }\n        }\n    }\n\n    private deleteLogoffConfirmed() {\n        if (this.state.toDeleteLogoff) {\n            this.props.delete(this.state.toDeleteLogoff.id)\n            this.setState({\n                toDeleteLogoff: undefined,\n                modalShow: false\n            })\n        }\n    }\n\n    private showModal() {\n        this.setState({\n            modalShow: true\n        })\n    }\n\n    private hideModal() {\n        this.setState({\n            modalShow: false\n        })\n    }\n\n    private renderModal() {\n        if (this.state.toDeleteLogoff) {\n            const toDeleteLogoff = this.state.toDeleteLogoff\n            return (\n                <Modal\n                    show={this.state.modalShow}\n                    onHide={this.hideModal}\n                    header={<h3>{`${toDeleteLogoff.contact.firstname} ${toDeleteLogoff.contact.lastname} (${toDeleteLogoff.from.toLocaleDateString()} - ${toDeleteLogoff.until.toLocaleDateString()}`}</h3>}\n                    body={\n                        <span>\n                            {\n                                `Willst du die Abmeldung von \n                                ${toDeleteLogoff.contact.firstname} ${toDeleteLogoff.contact.lastname}\n                                vom ${toDeleteLogoff.from.toLocaleDateString()} bis ${toDeleteLogoff.until.toLocaleDateString()}\n                                wirklich löschen?`\n                            }\n                        </span>\n                    }\n                    footer={\n                        <ButtonGroup>\n                            <Button variant=\"danger\" onClick={this.deleteLogoffConfirmed}>Löschen</Button>\n                            <Button variant=\"secondary\" onClick={this.hideModal}>Abbrechen</Button>\n                        </ButtonGroup>\n                    }\n\n                />\n            )\n        }\n\n        return null\n    }\n\n    public render() {\n        return (\n            <DataList<Logoff>\n                title='Abmeldungen'\n                viewLocation='/draft/logoff/'\n                panelActions={[<Action icon=\"plus\" to=\"/draft/logoff/add\" />]}\n                rowActions={[\n                    <button className=\"btn btn-danger delete\" onMouseUp={this.deleteLogoff}><FontAwesomeIcon icon=\"trash\" /></button>\n                ]}\n                tableColumns={[\n                    { text: 'Mitglied', keys: { 'contact': ['firstname', 'lastname'] }, sortable: true, searchable: true },\n                    { text: 'Von', keys: ['from'], sortable: true, format: 'toLocaleString' },\n                    { text: 'Bis', keys: ['until'], sortable: true, format: 'toLocaleString' },\n                    { text: 'Status', keys: ['state'], sortable: true },\n                ]}\n                data={this.props.data}\n                fetchData={this.props.fetchData}\n                history={this.props.history}\n            >\n                {this.renderModal()}\n            </DataList>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        data: state.data.logoffs,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchData: () => {\n            dispatch(Data.fetchLogoffs())\n        },\n        delete: (id: number) => {\n            dispatch(Data.deleteLogoff(id))\n        }\n    }\n}\n\n//@ts-ignore\nexport const Logoffs = connect(mapStateToProps, mapDispatchToProps)(_Logoffs)","import React, { Component } from \"react\"\nimport { RouteComponentProps } from \"react-router\"\nimport { default as LogoffEntity, LogoffState } from '../entities/Logoff'\nimport { AnyAction } from \"redux\"\nimport Button from \"../components/Button\"\nimport { Error404 } from \"../components/Errors/404\"\nimport { Page } from \"../components/Page\"\nimport Loading from \"../components/Loading\"\nimport Row from \"../components/Row\"\nimport Column from \"../components/Column\"\nimport Panel from \"../components/Panel\"\nimport FormEntry from \"../components/FormEntry\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { Data } from \"../actions/DataActions\"\nimport { connect } from \"react-redux\"\nimport { Link } from \"react-router-dom\"\n\n\ninterface LogoffProps extends RouteComponentProps<{ id: string }> {\n    logoff: LogoffEntity\n    logoffIds: Array<number>,\n    loading: boolean,\n    fetchLogoffs: () => Promise<AnyAction>,\n    approve: (id: number) => Promise<void>,\n    decline: (id: number) => Promise<void>\n}\n\nexport class _Logoff extends Component<LogoffProps> {\n\n    constructor(props: LogoffProps) {\n        super(props)\n\n        this.approve = this.approve.bind(this)\n        this.decline = this.decline.bind(this)\n        this.renderActions = this.renderActions.bind(this)\n\n        this.props.fetchLogoffs()\n    }\n\n    private approve(): Promise<void> {\n        return this.props.approve(this.props.logoff.id)\n    }\n\n    private decline(): Promise<void> {\n        return this.props.decline(this.props.logoff.id)\n    }\n\n    private renderActions() {\n        let actions = [<Link to={\"/contact/\" + this.props.logoff.contact.id} className=\"btn btn-block btn-outline-primary\">Kontakt öffnen</Link>]\n\n        if (this.props.logoff.state === LogoffState.PENDING) {\n            actions = [...actions,\n            <Button id=\"approve\" block={true} variant=\"outline-success\" onClick={this.approve}>Genehmigen</Button>,\n            <Button id=\"decline\" block={true} variant=\"outline-danger\" onClick={this.decline}>Ablehnen</Button>\n            ]\n        }\n        return actions\n    }\n\n    public render() {\n        if (!this.props.loading && !this.props.logoff && this.props.logoffIds.length > 0) {\n            return <Error404 />\n        }\n\n        if (this.props.loading || !this.props.logoff) {\n            return (<Page title=\"Abmeldung\"><Loading /></Page>)\n        }\n\n        let statusBadgeClass = ''\n        switch (this.props.logoff.state) {\n            case LogoffState.PENDING:\n                statusBadgeClass = 'badge-warning'\n                break\n            case LogoffState.APPROVED:\n                statusBadgeClass = 'badge-success'\n                break\n            case LogoffState.DECLINED:\n                statusBadgeClass = 'badge-danger'\n                break\n        }\n\n        return (\n            <Page title=\"Abmeldung\">\n                <Row>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Informationen\">\n                            <FormEntry id=\"contact\" title=\"Mitglied\">{this.props.logoff.contact.firstname} {this.props.logoff.contact.lastname}</FormEntry>\n                            <FormEntry id=\"from\" title=\"Von\">{this.props.logoff.from.toLocaleDateString()}</FormEntry>\n                            <FormEntry id=\"until\" title=\"Bis\">{this.props.logoff.until.toLocaleDateString()}</FormEntry>\n                            <FormEntry id=\"state\" title=\"Status\"><div className={\"badge \" + statusBadgeClass}>{this.props.logoff.state}</div></FormEntry>\n                            <FormEntry id=\"creator\" title=\"Ersteller\">{this.props.logoff.createdBy.displayName}</FormEntry>\n                            <FormEntry id=\"changedStateBy\" title=\"Status geändert von\">{this.props.logoff?.changedStateBy?.displayName}</FormEntry>\n                            <FormEntry id=\"remarks\" title=\"Bemerkungen\">{this.props.logoff.remarks}</FormEntry>\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-md-6\">\n                        <Panel title=\"Actions\">\n                            {this.renderActions()}\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: RouteComponentProps<{ id: string }>) => {\n    return {\n        logoff: state.data.logoffs.byId[props.match.params.id],\n        logoffIds: state.data.logoffs.ids,\n        loading: state.data.logoffs.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchLogoffs: () => {\n            return dispatch(Data.fetchLogoffs())\n        },\n        approve: (id: number) => {\n            return dispatch(Data.approveLogoff(id))\n        },\n        decline: (id: number) => {\n            return dispatch(Data.declineLogoff(id))\n        },\n    }\n}\n\nexport const Logoff = connect(mapStateToProps, mapDispatchToProps)(_Logoff)","import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { DataInterface } from \"../reducers/DataReducer\"\nimport Contact from \"../entities/Contact\"\nimport { History } from \"history\"\nimport { Page } from \"../components/Page\"\nimport Loading from \"../components/Loading\"\nimport Row from \"../components/Row\"\nimport Column from \"../components/Column\"\nimport Panel from \"../components/Panel\"\nimport { Button } from \"react-bootstrap\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { AnyAction } from \"redux\"\nimport { Data } from \"../actions/DataActions\"\nimport { AddLogoffs, LogoffBase } from \"../interfaces/Logoffs\"\nimport { MemberSelect } from \"../components/MemberSelect\"\nimport Table from \"../components/Table\"\nimport { UI } from \"../actions/UIActions\"\nimport { LogoffState } from \"../entities/Logoff\"\n\nexport interface AddLogoffState { contact?: Contact, logoffs: Array<ExtendedLogoffBase> }\n\ninterface ExtendedLogoffBase extends LogoffBase {\n    id: string,\n    [index: string]: any\n}\n\ninterface AddLogoffProps {\n    history: History\n    members: DataInterface<Contact>\n    loading: boolean\n    fetchMembers: Function\n    save: Function\n    error: (message: string) => void\n}\n\nexport class _AddLogoff extends Component<AddLogoffProps, AddLogoffState> {\n    private formEl: HTMLFormElement\n\n    constructor(props: AddLogoffProps) {\n        super(props)\n\n        this.onSelectChange = this.onSelectChange.bind(this)\n        this.onInputChange = this.onInputChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n        this.onLogoffChange = this.onLogoffChange.bind(this)\n\n        this.state = {\n            logoffs: []\n        }\n    }\n\n    public componentDidMount() {\n        this.props.fetchMembers()\n    }\n\n    private validate(): boolean {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            return valid\n        }\n        return false\n    }\n\n    private onSelectChange(opt: Contact) {\n        if (opt) {\n            this.setState({\n                contact: opt\n            })\n        } else {\n            this.setState({\n                contact: undefined\n            })\n        }\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n        const target = event.target\n        const value = target.type === 'checkbox' ? target.checked : target.value\n        const name = target.name\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        })\n    }\n\n    private async onSave(event: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n        event.preventDefault()\n        if (this.formEl) {\n            if (this.validate() && this.state.contact) {\n                await this.props.save({\n                    contact: this.state.contact.id,\n                    logoffs: this.state.logoffs\n                })\n                this.props.history.push('/draft/logoffs')\n            }\n        }\n    }\n\n    private onLogoffChange(id: string | number | null, name: string, value: any, newly: boolean): void {\n        const logoffs = this.state.logoffs\n        if (newly) {\n            const logoff: Partial<ExtendedLogoffBase> = {\n                id: logoffs.length.toString()\n            }\n            // @ts-ignore\n            logoff[name] = value\n            logoff.state = LogoffState.APPROVED\n            logoffs.push(logoff as ExtendedLogoffBase)\n        } else {\n            if (!id) {\n                this.props.error('Something failed... Refresh and please try again!')\n                return\n            }\n            logoffs[parseInt(id.toString())][name] = value\n        }\n\n        this.setState({ logoffs })\n    }\n\n    public render() {\n        if (this.props.loading || this.props.members.ids.length < 1) {\n            return (\n                <Page title=\"Abmeldungen hinzufügen\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title=\"Abmeldungen hinzufügen\">\n                <Row>\n                    <Column>\n                        <Panel>\n                            <form id=\"addLogoffs\" ref={(ref: HTMLFormElement) => { this.formEl = ref }}>\n                                <h5>Mitglied</h5>\n                                <MemberSelect onChange={this.onSelectChange} required={true} />\n                                <br></br>\n                                <Table<ExtendedLogoffBase>\n                                    columns={[\n                                        { keys: ['from'], text: 'Von', editable: true, type: 'datetime', onChange: this.onLogoffChange, required: true },\n                                        { keys: ['until'], text: 'Bis', editable: true, type: 'datetime', onChange: this.onLogoffChange, required: true },\n                                        { keys: ['state'], text: 'Status', editable: true, type: 'select', options: ['approve', 'pending', 'decline'], onChange: this.onLogoffChange, required: true },\n                                        { keys: ['remarks'], text: 'Bemerkungen', editable: true, type: 'text', onChange: this.onLogoffChange, required: false },\n                                    ]}\n                                    addNew={true}\n                                    data={this.state.logoffs}\n                                />\n                                <Button variant=\"primary\" block={true} onClick={this.onSave}>Speichern</Button>\n                            </form>\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page >\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        members: state.data.members,\n        loading: state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        },\n        save: (data: AddLogoffs) => {\n            dispatch(Data.addLogoffs(data))\n        },\n        error: (message: string) => {\n            dispatch(UI.showError(message))\n        }\n    }\n}\n\nexport const AddLogoff = connect(mapStateToProps, mapDispatchToProps)(_AddLogoff)","import React, { Component, SyntheticEvent } from \"react\"\nimport { Provider } from \"react-redux\"\nimport configureStore from \"./Store\"\nimport { Store, AnyAction } from \"redux\"\nimport { Route, Switch, Redirect } from \"react-router-dom\"\nimport { ToastContainer } from 'react-toastify'\nimport { AuthRoles } from \"./interfaces/AuthRoles\"\nimport { SecureRoute } from \"./components/SecureRoute\"\nimport Config from './Config'\nimport { ConnectedRouter } from \"connected-react-router\"\nimport { createBrowserHistory, History } from \"history\"\n\n// styles\nimport './styles/index.scss'\nimport 'react-toastify/dist/ReactToastify.css'\n\n// views\nimport { Dashboard } from \"./views/Dashboard\"\nimport { Members } from \"./views/Members\"\nimport { Contact } from \"./views/Contact\"\nimport { Orders } from \"./views/Orders\"\nimport { Order } from \"./views/Order\"\nimport { BillingReports } from \"./views/BillingReports\"\nimport { Compensations } from \"./views/Compensations\"\nimport { AddBillingReport } from \"./views/AddBillingReport\"\nimport { Login } from \"./views/Login\"\nimport { Users } from \"./views/Users\"\nimport { User } from \"./views/User\"\nimport { BillingReport } from \"./views/BillingReport\"\nimport { AddCompensation } from \"./views/AddCompensation\"\nimport { Compensation } from \"./views/Compensation\"\nimport { Error404 } from \"./components/Errors/404\"\nimport { MailingLists } from \"./views/MailingLists\"\nimport { CollectionPoints } from \"./views/CollectionPoints\"\nimport { AddCollectionPoint } from \"./views/AddCollectionPoint\"\nimport { Payouts } from \"./views/Payouts\"\nimport { Payout } from \"./views/Payout\"\nimport { PayoutMember } from \"./views/PayoutMember\"\nimport { AddPayout } from \"./views/AddPayout\"\nimport { Logoffs } from \"./views/Logoffs\"\nimport { Logoff } from \"./views/Logoff\"\nimport { AddLogoff } from \"./views/AddLogoff\"\n\nexport default class Root extends Component<{}, {}> {\n    private store: Store<any, AnyAction>\n    private history: History\n\n    constructor(props: {}, state: {}) {\n        super(props, state)\n        Config.loadConfig()\n        this.history = createBrowserHistory({ basename: '/webapp/' })\n        this.store = configureStore(this.history)\n        this.store.getState()\n    }\n\n    render() {\n        return (\n            <Provider store={this.store}>\n                <div className=\"body\">\n                    <ToastContainer\n                        position=\"top-center\"\n                        autoClose={5000}\n                        hideProgressBar={false}\n                        newestOnTop={true}\n                        closeOnClick\n                        rtl={false}\n                        draggable={true}\n                        pauseOnHover={true}\n                    />\n                    <ConnectedRouter history={this.history} >\n                        <Switch>\n                            <Route exact path=\"/\" component={() => { return (<Redirect to=\"/login\" />) }} />\n                            <Route exact path=\"/login\" component={Login} />\n                            <Route exact path=\"/login?source=:source\" component={Login} />\n                            <SecureRoute exact path=\"/dashboard\" roles={[AuthRoles.AUTHENTICATED]} component={Dashboard} />\n                            <SecureRoute exact path=\"/members\" roles={[AuthRoles.MEMBERS_READ]} component={Members} />\n                            <SecureRoute exact path=\"/mailing-lists\" roles={[AuthRoles.MAILING_LISTS]} component={MailingLists} />\n                            <SecureRoute exact path=\"/draft/collection-points\" roles={[AuthRoles.DRAFT_READ]} component={CollectionPoints} />\n                            <SecureRoute exact path=\"/draft/collection-point/add\" roles={[AuthRoles.DRAFT_EDIT, AuthRoles.DRAFT_CREATE]} component={AddCollectionPoint} />\n                            <SecureRoute exact path=\"/draft/logoffs\" roles={[AuthRoles.LOGOFFS_READ]} component={Logoffs} />\n                            <SecureRoute exact path=\"/draft/logoff/add\" roles={[AuthRoles.LOGOFFS_CREATE]} component={AddLogoff} />\n                            <SecureRoute exact path=\"/draft/logoff/:id\" roles={[AuthRoles.LOGOFFS_READ, AuthRoles.AUTHENTICATED]} component={Logoff} />\n                            <SecureRoute exact path=\"/contact/:id\" roles={[AuthRoles.CONTACTS_READ, AuthRoles.MEMBERS_READ, AuthRoles.AUTHENTICATED]} component={Contact} />\n                            <SecureRoute exact path=\"/orders\" roles={[AuthRoles.ORDERS_READ]} component={Orders} />\n                            <SecureRoute exact path=\"/order/:id\" roles={[AuthRoles.ORDERS_READ]} component={Order} />\n                            <SecureRoute exact path=\"/billing-reports\" roles={[AuthRoles.BILLINGREPORTS_READ, AuthRoles.BILLINGREPORTS_CREATE]} component={BillingReports} />\n                            <SecureRoute exact path=\"/billing-reports/add\" roles={[AuthRoles.BILLINGREPORTS_CREATE]} component={AddBillingReport} />\n                            <SecureRoute exact path=\"/billing-report/:id\" roles={[AuthRoles.BILLINGREPORTS_CREATE, AuthRoles.BILLINGREPORTS_READ]} component={BillingReport} />\n                            <SecureRoute exact path=\"/compensations\" roles={[AuthRoles.COMPENSATIONS_READ]} component={Compensations} />\n                            <SecureRoute exact path=\"/compensations/add\" roles={[AuthRoles.COMPENSATIONS_CREATE]} component={AddCompensation} />\n                            <SecureRoute exact path=\"/compensation/:id\" roles={[AuthRoles.COMPENSATIONS_READ, AuthRoles.AUTHENTICATED]} component={Compensation} />\n                            <SecureRoute exact path=\"/payouts\" roles={[AuthRoles.PAYOUTS_READ]} component={Payouts} />\n                            <SecureRoute exact path=\"/payouts/add\" roles={[AuthRoles.PAYOUTS_CREATE]} component={AddPayout} />\n                            <SecureRoute exact path=\"/payout/:id\" roles={[AuthRoles.PAYOUTS_READ]} component={Payout} />\n                            <SecureRoute exact path=\"/payout/:id/:memberId\" roles={[AuthRoles.PAYOUTS_READ]} component={PayoutMember} />\n                            <SecureRoute exact path=\"/users\" roles={[AuthRoles.ADMIN]} component={Users} />\n                            <SecureRoute exact path=\"/user/:id\" roles={[AuthRoles.ADMIN]} component={User} />\n                            <Route path=\"/*\" component={Error404} />\n                        </Switch>\n                    </ConnectedRouter>\n                </div>\n            </Provider>\n        )\n    }\n}","import { createStore, applyMiddleware, combineReducers } from \"redux\";\nimport IndexReducer from \"./reducers/IndexReducer\";\nimport thunkMiddleware from 'redux-thunk'\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\nimport { History } from \"history\";\nimport { composeWithDevTools } from \"remote-redux-devtools\";\n\nexport default function configureStore(history: History<any>) {\n    return createStore(\n        combineReducers({ ...IndexReducer, router: connectRouter(history) }),\n        composeWithDevTools(\n            applyMiddleware(thunkMiddleware, routerMiddleware(history))\n        )\n    )\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and contacts)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import './fontawesome_init'\n\nimport React from 'react';\nimport ReactDOM, { render } from 'react-dom';\nimport Root from './Root';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <Root />\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();","import React, { Component } from \"react\"\nimport { Data } from \"../actions/DataActions\"\nimport { ThunkDispatch } from \"redux-thunk\"\nimport { State } from \"../reducers/IndexReducer\"\nimport { AnyAction } from \"redux\"\nimport Select from 'react-select'\nimport { DataInterface } from \"../reducers/DataReducer\"\nimport { ValueType } from \"react-select/lib/types\"\nimport { connect } from 'react-redux'\nimport Contact from \"../entities/Contact\"\n\ninterface MemberSelectProps {\n    defaultValue?: Array<Contact>,\n    isMulti?: boolean\n    onChange: Function,\n    members: DataInterface<Contact>,\n    loading: boolean,\n    ref?: Function,\n    fetchMembers: Function,\n    required?: boolean\n}\n\nexport class _MemberSelect extends Component<MemberSelectProps, { value?: Array<{ label: string, value: string }> }> {\n    constructor(props: MemberSelectProps) {\n        super(props)\n\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let member of this.props.defaultValue) {\n                valueProps.push({\n                    value: member.id.toString(),\n                    label: member.firstname + ' ' + member.lastname\n                })\n            }\n\n            this.state = {\n                value: valueProps\n            }\n        } else {\n            this.state = {}\n        }\n    }\n\n    public componentDidUpdate() {\n        if (this.props.defaultValue instanceof Array) {\n            let valueProps = []\n            for (let member of this.props.defaultValue) {\n                valueProps.push({\n                    value: member.id.toString(),\n                    label: member.firstname + ' ' + member.lastname\n                })\n            }\n\n            if (JSON.stringify(this.state.value) !== JSON.stringify(valueProps)) {\n                this.setState({\n                    value: valueProps\n                })\n            }\n        }\n    }\n\n    public componentWillMount() {\n        if (this.props.members.ids.length < 1) {\n            this.props.fetchMembers()\n        }\n    }\n\n    private prepareOptions() {\n        let options = []\n        if (Object.keys(this.props.members.byId).length > 0) {\n            for (let i in this.props.members.byId) {\n                let member = this.props.members.byId[i]\n                options.push({\n                    label: member.firstname + ' ' + member.lastname,\n                    value: i\n                })\n            }\n        }\n\n        return options\n    }\n\n    private onChange(opt: ValueType<{ label: string, value: string }>) {\n        let ops: Array<{ label: string, value: string }> = [opt as { label: string, value: string }]\n        if (this.props.isMulti) {\n            ops = opt as Array<{ label: string, value: string }>\n        }\n\n        this.setState({\n            value: ops\n        })\n\n        let members = []\n        for (let o of ops) {\n            if (o) {\n                members.push(this.props.members.byId[o.value])\n            } else {\n                members.push(undefined)\n            }\n        }\n\n        if (this.props.onChange) {\n            if (this.props.isMulti) {\n                this.props.onChange(members)\n            } else {\n                this.props.onChange(members[0])\n            }\n        }\n    }\n\n    private prepareValue() {\n        if (this.props.isMulti) {\n            return this.state.value || []\n        }\n\n        return (this.state.value || [])[0]\n    }\n\n    public render() {\n        if (!this.props.loading) {\n            return (<Select\n                ref={(select: any) => { if (this.props.ref) this.props.ref(select) }}\n                isClearable={true}\n                options={this.prepareOptions()}\n                backspaceRemovesValue={true}\n                hideSelectedOptions={true}\n                openMenuOnFocus={true}\n                isMulti={this.props.isMulti || false}\n                onChange={this.onChange.bind(this)}\n                value={this.prepareValue()}\n                required={!!this.props.required}\n            />)\n        }\n\n        return null\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        members: state.data.members,\n        loading: state.data.members.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchMembers: () => {\n            dispatch(Data.fetchMembers())\n        }\n    }\n}\n\n//@ts-ignore\nexport const MemberSelect = connect(mapStateToProps, mapDispatchToProps)(_MemberSelect)","import React, { Component } from \"react\";\nimport Button from \"./Button\";\n\nexport interface WizardStepProps {\n    title: string,\n    isActive?: boolean,\n    currentStep?: number,\n    totalSteps?: number,\n    fistStep?: () => void,\n    lastStep?: () => void,\n    nextStep?: () => void,\n    previousStep?: () => void,\n    gotoStep?: (step: number) => void,\n    onNextStep?: () => Promise<boolean>,\n    onPreviousStep?: () => Promise<boolean>,\n    validator?: () => Promise<boolean>\n}\n\nexport default class WizardStep extends Component<WizardStepProps> {\n    constructor(props: WizardStepProps) {\n        super(props)\n        this.previousStep = this.previousStep.bind(this)\n        this.nextStep = this.nextStep.bind(this)\n        this.renderBackButton = this.renderBackButton.bind(this)\n    }\n\n    public async nextStep() {\n        let valid = true\n        if (this.props.onNextStep) {\n            valid = await this.props.onNextStep()\n        }\n\n        if (valid) {\n            if (this.props.nextStep) {\n                this.props.nextStep()\n            }\n        }\n    }\n\n    public async previousStep() {\n        if (this.props.onPreviousStep) {\n            await this.props.onPreviousStep()\n        }\n\n        if (this.props.previousStep) {\n            this.props.previousStep()\n        }\n    }\n\n    private renderBackButton() {\n        if ((this.props.currentStep || 0) > 1) return <Button variant=\"secondary\" onClick={this.previousStep}>Zurück</Button>\n        return <div></div>\n    }\n\n    public render() {\n        let nextButtonText = 'Weiter'\n        let nextButtonClasses = 'btn btn-primary'\n        if (this.props.currentStep === this.props.totalSteps) {\n            nextButtonText = 'Speichern'\n            nextButtonClasses = 'btn btn-success'\n        }\n\n        return (\n            <div>\n                <div className=\"wizard-step-header\">\n                    <h4>{this.props.title}</h4>\n                </div>\n                <div className=\"wizard-step-body\">\n                    {this.props.children}\n                </div>\n                <div className=\"d-flex justify-content-between wizard-step-footer\">\n                    {this.renderBackButton()}\n                    <Button className={nextButtonClasses} onClick={this.nextStep}>{nextButtonText}</Button>\n                </div>\n            </div>\n        )\n    }\n}","import { UI } from \"./UIActions\"\nimport { CreateBillingReport, EditBillingReport, BillingReportCompensationEntry } from \"./../interfaces/BillingReport\"\nimport { AnyAction } from \"redux\"\nimport { ThunkAction, ThunkDispatch } from \"redux-thunk\"\nimport { State } from \"../reducers/IndexReducer\"\nimport axios, { AxiosError, AxiosResponse, AxiosRequestConfig } from 'axios'\nimport { CompensationEntry } from \"../interfaces/CompensationEntry\"\nimport Config from '../Config'\nimport { PutCollectionPoints } from \"../interfaces/CollectionPoints\"\nimport { EditMember } from \"../interfaces/Member\"\nimport { AddPayout } from \"../interfaces/Payout\"\nimport { AddLogoff, AddLogoffs } from \"../interfaces/Logoffs\"\n\nexport const DataActions = {\n    FETCH_USER: 'fetch_user',\n    GOT_USER: 'got_user',\n\n    FETCH_MEMBERS: 'fetch_members',\n    GOT_MEMBERS: 'got_members',\n    EDIT_MEMBER: 'edit_member',\n\n    FETCH_RANKS: 'fetch_ranks',\n    GOT_RANKS: 'got_ranks',\n\n    FETCH_CONTACTS: 'fetch_contacts',\n    GOT_CONTACTS: 'got_contacts',\n\n    FETCH_ORDERS: 'fetch_orders',\n    GOT_ORDERS: 'got_orders',\n\n    FETCH_OPEN_ORDERS: 'fetch_open_orders',\n    GOT_OPEN_ORDERS: 'got_open_orders',\n\n    FETCH_BILLING_REPORTS: 'fetch_billing_reports',\n    GOT_BILLING_REPORTS: 'got_billing_reports',\n    ADD_BILLING_REPORT: 'add_billing_report',\n    APPROVE_BILLING_REPORT: 'approve_billing_report',\n    DECLINE_BILLING_REPORT: 'decline_billing_report',\n    EDIT_BILLING_REPORT: 'edit_billing_report',\n\n    FETCH_COMPENSATION_ENTRIES: 'fetch_compensation_entries',\n    GOT_COMPENSATION_ENTRIES: 'got_compensation_entries',\n    ADD_COMPENSATION_ENTRIES: 'add_compensation_entries',\n    ADD_COMPENSATION_ENTRY: 'add_compensation_entry',\n    APPROVE_COMPENSATION_ENTRY: 'approve_compensation_entry',\n    DECLINE_COMPENSATION_ENTRY: 'dcline_compensation_entry',\n    DELETE_COMPENSATION_ENTRY: 'delete_compensation_entry',\n\n    FETCH_USERS: 'fetch_users',\n    GOT_USERS: 'got_users',\n\n    FETCH_COLLECTION_POINTS: 'fetch_collection_points',\n    GOT_COLLECTION_POINTS: 'got_collection_points',\n    ADD_COLLECTION_POINT: 'add_collection_point',\n\n    ADD_PAYOUT: 'add_payout',\n\n    FETCH_PAYOUTS: 'fetch_payouts',\n    GOT_PAYOUTS: 'got_payouts',\n    SENDING_PAYOUTS_MAILS: 'sending_payouts_mail',\n    SENT_PAYOUTS_MAILS: 'sent_payouts_mail',\n    SENDING_PAYOUTS_BEXIO: 'sending_payouts_bexio',\n    SENT_PAYOUTS_BEXIO: 'sent_payouts_bexio',\n\n    FETCH_LOGOFFS: 'fetch_logoffs',\n    GOT_LOGOFFS: 'got_logoffs',\n    ADD_LOGOFFS: 'add_logoffs',\n    ADD_LOGOFF: 'add_logoff',\n    APPROVE_LOGOFF: 'approve_logoff',\n    DECLINE_LOGOFF: 'dcline_logoff',\n    DELETE_LOGOFF: 'delete_logoff'\n}\n\nexport class Data {\n    public static fetchUser(filter: Object = {}): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/me', DataActions.FETCH_USER, DataActions.GOT_USER)\n    }\n\n    public static fetchContacts(filter: Object = {}): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/contacts', DataActions.FETCH_CONTACTS, DataActions.GOT_CONTACTS)\n    }\n\n    public static fetchMembers(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/members', DataActions.FETCH_MEMBERS, DataActions.GOT_MEMBERS)\n    }\n\n    public static editMember(data: EditMember): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.EDIT_MEMBER\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/members', data, dispatch, () => {\n                dispatch(Data.fetchContacts())\n            })\n        }\n    }\n\n    public static fetchRanks(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/ranks', DataActions.FETCH_RANKS, DataActions.GOT_RANKS)\n    }\n\n    public static fetchOrders(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/orders', DataActions.FETCH_ORDERS, DataActions.GOT_ORDERS)\n    }\n\n    public static fetchOpenOrders(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/billing-reports/open', DataActions.FETCH_OPEN_ORDERS, DataActions.GOT_OPEN_ORDERS)\n    }\n\n    public static fetchBillingReports(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/billing-reports', DataActions.FETCH_BILLING_REPORTS, DataActions.GOT_BILLING_REPORTS)\n    }\n\n    public static addBillingReport(data: CreateBillingReport): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            dispatch({\n                type: DataActions.ADD_BILLING_REPORT\n            })\n\n            return Data.sendToApi('put', Config.apiEndpoint + '/api/billing-reports', data, dispatch, () => {\n                dispatch(UI.showSuccess('Gespeichert!'))\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static approveBillingReport(id: string): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.APPROVE_BILLING_REPORT,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/billing-reports/approve', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static declineBillingReport(id: string): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.DECLINE_BILLING_REPORT,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/billing-reports/decline', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static editBillingReport(data: EditBillingReport): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.EDIT_BILLING_REPORT\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/billing-reports', data, dispatch, () => {\n                dispatch(Data.fetchBillingReports())\n            })\n        }\n    }\n\n    public static fetchCompensationEntries(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/compensations', DataActions.FETCH_COMPENSATION_ENTRIES, DataActions.GOT_COMPENSATION_ENTRIES)\n    }\n\n    public static addCompensationEntriesForBillingReport(data: { billingReportId: number, entries: Array<BillingReportCompensationEntry> }): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.ADD_COMPENSATION_ENTRIES\n            })\n\n            return Data.sendToApi('put', Config.apiEndpoint + '/api/compensations/bulk', data, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n                dispatch(UI.showSuccess('Gespeichert!'))\n            })\n        }\n    }\n\n    public static addCompensationEntry(data: CompensationEntry): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.ADD_COMPENSATION_ENTRY\n            })\n\n            return Data.sendToApi('put', Config.apiEndpoint + '/api/compensations', data, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n            })\n        }\n    }\n\n    public static approveCompensationEntry(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.APPROVE_COMPENSATION_ENTRY,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/compensations/approve', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n                dispatch(UI.showSuccess('Genehmigt!'))\n            })\n        }\n    }\n\n    public static deleteCompensationEntry(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.DELETE_COMPENSATION_ENTRY,\n                payload: id\n            })\n\n            return Data.sendToApi('delete', Config.apiEndpoint + '/api/compensations', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchCompensationEntries())\n                dispatch(UI.showSuccess('Gelöscht!'))\n            })\n        }\n    }\n\n    public static fetchUsers(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/users', DataActions.FETCH_USERS, DataActions.GOT_USERS)\n    }\n\n    public static fetchCollectionPoints(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/collection-points', DataActions.FETCH_COLLECTION_POINTS, DataActions.GOT_COLLECTION_POINTS)\n    }\n\n    public static addCollectionPoint(data: PutCollectionPoints): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: DataActions.ADD_COLLECTION_POINT\n                })\n\n                Data.sendToApi('put', Config.apiEndpoint + '/api/collection-points', data, dispatch).then(() => {\n                    dispatch(Data.fetchCollectionPoints())\n                    dispatch(UI.showSuccess('Gespeichert!'))\n                    resolve()\n                }).catch(err => {\n                    reject(err)\n                })\n            })\n        }\n    }\n\n    public static fetchPayouts(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/payouts', DataActions.FETCH_PAYOUTS, DataActions.GOT_PAYOUTS)\n    }\n\n    public static sendPayoutMails(payoutId: number, memberIds: Array<number>): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            dispatch({\n                type: DataActions.SENDING_PAYOUTS_MAILS\n            })\n\n            await Data.sendToApi('post', Config.apiEndpoint + '/api/payouts/email', { payoutId, memberIds }, dispatch)\n            dispatch({\n                type: DataActions.SENT_PAYOUTS_MAILS\n            })\n\n            dispatch(UI.showSuccess('Gesendet!'))\n        }\n    }\n\n    public static sendToBexio(payoutId: number, memberIds: Array<number>): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            dispatch({\n                type: DataActions.SENDING_PAYOUTS_BEXIO\n            })\n\n            await Data.sendToApi('post', Config.apiEndpoint + '/api/payouts/bexio', { payoutId, memberIds }, dispatch)\n            dispatch({\n                type: DataActions.SENT_PAYOUTS_BEXIO\n            })\n\n            dispatch(UI.showSuccess('Übertragen!'))\n        }\n    }\n\n    public static addPayout(data: AddPayout): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: DataActions.ADD_PAYOUT\n                })\n\n                Data.sendToApi('put', Config.apiEndpoint + '/api/payouts', data, dispatch).then(() => {\n                    dispatch(Data.fetchPayouts())\n                    dispatch(UI.showSuccess('Gespeichert!'))\n                    resolve()\n                }).catch(err => {\n                    reject(err)\n                })\n            })\n        }\n    }\n\n    public static reclaimPayout(payoutId: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            await Data.sendToApi('post', Config.apiEndpoint + '/api/payouts/reclaim', { id: payoutId }, dispatch)\n            dispatch(Data.fetchPayouts())\n            dispatch(UI.showSuccess('Done!'))\n        }\n    }\n\n    public static fetchLogoffs(): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return Data.fetchFromApi(Config.apiEndpoint + '/api/logoffs', DataActions.FETCH_LOGOFFS, DataActions.GOT_LOGOFFS)\n    }\n\n    public static addLogoff(data: AddLogoff): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: DataActions.ADD_LOGOFF\n                })\n\n                Data.sendToApi('put', Config.apiEndpoint + '/api/logoffs/add', data, dispatch).then(() => {\n                    dispatch(Data.fetchLogoffs())\n                    dispatch(UI.showSuccess('Gespeichert!'))\n                    resolve()\n                }).catch(err => {\n                    reject(err)\n                })\n            })\n        }\n    }\n\n    public static addLogoffs(data: AddLogoffs): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: DataActions.ADD_LOGOFFS\n                })\n\n                Data.sendToApi('put', Config.apiEndpoint + '/api/logoffs/add/bulk', data, dispatch).then(() => {\n                    dispatch(Data.fetchLogoffs())\n                    dispatch(UI.showSuccess('Gespeichert!'))\n                    resolve()\n                }).catch(err => {\n                    reject(err)\n                })\n            })\n        }\n    }\n\n    public static approveLogoff(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.APPROVE_LOGOFF,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/logoffs/approve', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchLogoffs())\n                dispatch(UI.showSuccess('Genehmigt!'))\n            })\n        }\n    }\n\n    public static declineLogoff(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.DECLINE_LOGOFF,\n                payload: id\n            })\n\n            return Data.sendToApi('post', Config.apiEndpoint + '/api/logoffs/decline', { 'id': id }, dispatch, () => {\n                dispatch(Data.fetchLogoffs())\n                dispatch(UI.showSuccess('Genehmigt!'))\n            })\n        }\n    }\n\n    public static deleteLogoff(id: number): ThunkAction<Promise<void>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, void, AnyAction>) => {\n            dispatch({\n                type: DataActions.DELETE_LOGOFF,\n                payload: id\n            })\n\n            return Data.sendToApi('delete', `${Config.apiEndpoint}/api/logoffs/${id}`, {}, dispatch).then(() => {\n                dispatch(Data.fetchLogoffs())\n                dispatch(UI.showSuccess('Gelöscht!'))\n            })\n        }\n    }\n\n    private static fetchFromApi(route: string, fetchAction: string, gotAction: string): ThunkAction<Promise<AnyAction>, State, void, AnyAction> {\n        return async (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n            return new Promise<AnyAction>((resolve, reject) => {\n                dispatch({\n                    type: fetchAction\n                })\n\n                Data.getFromApi<any>(route, dispatch).then(data => {\n                    resolve(dispatch({\n                        type: gotAction,\n                        payload: data\n                    }))\n                }).catch((error: AxiosError) => {\n                    reject(error)\n                })\n            })\n\n        }\n    }\n\n    public static async getFromApi<T>(route: string, dispatch: ThunkDispatch<State, undefined, AnyAction>): Promise<T> {\n        try {\n            const response = await axios.get(route, { withCredentials: true })\n            const data = Data.deepParser(response.data)\n            return data\n        } catch (error) {\n            if (error.response && (error.response as AxiosResponse).status === 403) {\n                dispatch(UI.showError('Zugriff verweigert!'))\n            } else if (error.response && (error.response as AxiosResponse).status === 401) {\n                dispatch(UI.logout())\n            } else {\n                dispatch(UI.showError('Ooops... Da ist ein Fehler passiert!'))\n            }\n\n            throw error\n        }\n    }\n\n    public static sendToApi<T>(method: 'post' | 'put' | 'delete', route: string, data: any, dispatch: ThunkDispatch<State, undefined, AnyAction>, callback?: (data?: T) => void, axiosSettings?: AxiosRequestConfig, deepParse = true): Promise<T> {\n        return new Promise<T>((resolve, reject) => {\n            axios({\n                ...axiosSettings,\n                method: method,\n                url: route,\n                data: data,\n                withCredentials: true,\n                timeout: 600000\n            }).then(response => {\n                let data = response.data\n                if (deepParse) data = Data.deepParser(data)\n                if (callback) callback(data)\n                resolve(data)\n            }).catch((error: AxiosError) => {\n                if (error.response && (error.response as AxiosResponse).status === 403) {\n                    dispatch(UI.showError('Zugriff verweigert!'))\n                } else if (error.response && (error.response as AxiosResponse).status === 401) {\n                    dispatch(UI.logout())\n                } else {\n                    dispatch(UI.showError('Ooops... Da ist ein Fehler passiert!'))\n                }\n                reject(error)\n            })\n        })\n    }\n\n    public static deepParser(data: any) {\n        if (data instanceof Array || typeof data === 'object') {\n            for (let i in data) {\n                data[i] = Data.deepParser(data[i])\n            }\n            return data\n        } else {\n            let dateRegex = /([0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T(2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9].[0-9][0-9][0-9]Z|[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]))/\n            if (dateRegex.test(data)) {\n                return new Date(data)\n            } else {\n                return data\n            }\n        }\n    }\n}","import { Component } from \"react\"\nimport React from \"react\"\n\ninterface CheckboxProps {\n    onChange: (event: React.ChangeEvent<HTMLInputElement>) => void\n    checked?: boolean\n    label?: string\n    id?: string\n    required?: boolean\n}\n\nexport default class Checkbox extends Component<CheckboxProps, { checked: boolean }> {\n    public componentDidUpdate(prevProps: CheckboxProps) {\n        if (this.props.hasOwnProperty('checked')) {\n            if (this.props.checked !== prevProps.checked) {\n                this.setState({\n                    checked: this.props.checked || false\n                })\n            }\n        }\n    }\n\n    public render() {\n        return (\n            <span>\n                <input id={this.props.id || ''} type=\"checkbox\" checked={this.props.checked || false} onChange={this.props.onChange} required={!!this.props.required}/>\n                <label htmlFor=\"food\">{this.props.label || ''}</label>\n            </span>\n        )\n    }\n}","import React, { Component } from \"react\"\nimport Checkbox from \"./Checkbox\"\nimport ReactDatePicker from \"react-datepicker\"\n\nimport \"react-datepicker/dist/react-datepicker.css\"\n\nexport interface InputProps {\n    name: string\n    value: any,\n    options?: string[],\n    type?: string,\n    editable?: boolean\n    onChange?: (name: string, value: any) => void,\n    required?: boolean\n}\n\nexport default class Input extends Component<InputProps> {\n    public render() {\n        let onChange = (name: string, value: any) => { }\n        if (this.props.onChange) onChange = this.props.onChange\n        let value: Date | null\n\n        switch (this.props.type) {\n            case 'checkbox':\n                if (!!this.props.editable) onChange = () => { return false }\n                return <Checkbox checked={this.props.value} onChange={(event) => onChange(this.props.name, event.target.checked)} label='' required={!!this.props.required} />\n            case 'textarea':\n                return <textarea name={this.props.name} value={this.props.value} onChange={(event) => onChange(this.props.name, event.target.value)} className={'form-entry form-control' + ((!this.props.editable) ? '-plaintext' : '')} readOnly={!this.props.editable} required={!!this.props.required} />\n            case 'date':\n                value = this.props.value\n                if (typeof this.props.value === 'string') value = new Date(this.props.value)\n                if (this.props.value === '') value = null\n\n                if (this.props.editable) {\n                    return <ReactDatePicker name={this.props.name} onChange={(date, event) => onChange(this.props.name, date)} selected={value} className={'form-entry form-control'} allowSameDay={true} required={!!this.props.required} dateFormat=\"dd.MM.yyyy\" disabledKeyboardNavigation={true} />\n                } else {\n                    if (value instanceof Date) return value.toLocaleDateString()\n                    return ''\n                }\n            case 'datetime':\n                value = this.props.value\n                if (typeof this.props.value === 'string') value = new Date(this.props.value)\n                if (this.props.value === '') value = null\n\n                if (this.props.editable) {\n                    return <ReactDatePicker name={this.props.name} onChange={(date, event) => onChange(this.props.name, date)} selected={value} showTimeSelect={true} className={'form-entry form-control'} required={!!this.props.required} timeFormat=\"HH:mm\" dateFormat=\"dd.MM.yyyy HH:mm\" disabledKeyboardNavigation={true} shouldCloseOnSelect={false} />\n                } else {\n                    if (value instanceof Date) return value.toLocaleString()\n                    return ''\n                }\n            case 'select':\n                if (this.props.options) {\n                    return (<select name={this.props.name} value={this.props.value} onChange={(event) => onChange(this.props.name, event.target.value)} className={'form-entry form-control' + ((!this.props.editable) ? '-plaintext' : '')} required={!!this.props.required}>\n                        {this.props.options.map(option => <option value={option}>{option}</option>)}\n                    </select>)\n                }\n            default:\n                return <input name={this.props.name} type={this.props.type || 'text'} value={this.props.value} onChange={(event) => onChange(this.props.name, event.target.value)} className={'form-entry form-control' + ((!this.props.editable) ? '-plaintext' : '')} readOnly={!this.props.editable} required={!!this.props.required} />\n\n        }\n    }\n}"],"sourceRoot":""}